<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
    
    <entry>
      <title><![CDATA[å›¾é›†]]></title>
      <url>http://yoursite.com/2017/04/23/diary1/</url>
      <content type="html"><![CDATA[<p><img src="https://ooo.0o0.ooo/2017/05/04/590a12d3d1b14.png" style="width:50%"></p>
<p><div style="text-align:center;color:#ccb">â€œç»˜å›¾è½¯ä»¶ï¼šSketchbox for iPadâ€</div><br><img src="https://ooo.0o0.ooo/2017/05/04/590a12e15309d.jpg" style="width:70%"></p>
<p><div style="text-align:center;color:#ccb">â€œæ°”ç‚¸äº†æˆ‘ä»¬çš„å°é»„â€</div><br><img src="https://ooo.0o0.ooo/2017/05/04/590a12dd76346.jpg" style="width:70%"></p>
<p><div style="text-align:center;color:#ccb">â€œé±¼é…·-è”æxxå‘³â€</div><br><a id="more"></a></p>
<p><img src="https://ooo.0o0.ooo/2017/05/04/590a12d47a9fc.jpg" style="width:70%"></p>
<p><div style="text-align:center;color:#ccb">â€œåŒ—æ“åœºæ‰“çƒæ—¶æ‹æ‘„â€</div><br><img src="https://ooo.0o0.ooo/2017/05/04/590a12d45961d.jpg" style="width:60%"></p>
<p><div style="text-align:center;color:#ccb">â€œè¯•è¡£é—´è«åå’Œè°çš„ä¸€å¹•â€</div><br><img src="https://ooo.0o0.ooo/2017/05/04/590a12d7058e2.jpg" style="width:70%"></p>
<p><div style="text-align:center;color:#ccb">â€œå‡¤å‡°å•Šâ€</div><br><img src="https://ooo.0o0.ooo/2017/05/04/590a12dd0fdc5.jpg" style="width:70%"></p>
<p><div style="text-align:center;color:#ccb">â€œè€ç»¼è¶…å°åªçš„ğŸ¶â€</div><br><img src="https://ooo.0o0.ooo/2017/05/04/590a12e184973.jpg" style="width:60%"></p>
]]></content>
      
        <categories>
            
            <category> æ‚ </category>
            
        </categories>
        
        
        <tags>
            
            <tag> Diary </tag>
            
            <tag> Ps </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[Webpacké…ç½®æ•™ç¨‹]]></title>
      <url>http://yoursite.com/2017/03/07/Webpack%E6%8E%A2%E7%B4%A2/</url>
      <content type="html"><![CDATA[<p><img src="https://ooo.0o0.ooo/2017/03/08/58bef2f11655f.png" alt="ä¾èµ–é¡¹"><br><a href="https://github.com/ssbabysong/webpack-study" target="_blank" rel="external">ä»£ç åœ°å€</a><br><a id="more"></a></p>
<h2 id="æœ€ç»ˆé…ç½®æ–‡ä»¶"><a href="#æœ€ç»ˆé…ç½®æ–‡ä»¶" class="headerlink" title="æœ€ç»ˆé…ç½®æ–‡ä»¶"></a>æœ€ç»ˆé…ç½®æ–‡ä»¶</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//webpack.config.js</span></div><div class="line"><span class="keyword">var</span> path = <span class="built_in">require</span>(<span class="string">'path'</span>);</div><div class="line"><span class="keyword">var</span> webpack = <span class="built_in">require</span>(<span class="string">'webpack'</span>);</div><div class="line"></div><div class="line"><span class="keyword">var</span> config = &#123;</div><div class="line">  <span class="attr">entry</span>: path.resolve(__dirname, <span class="string">'app/main.js'</span>),</div><div class="line">  <span class="attr">output</span>: &#123;</div><div class="line">    <span class="attr">path</span>: path.resolve(__dirname, <span class="string">'build'</span>),</div><div class="line">    <span class="attr">filename</span>: <span class="string">'bundle.js'</span></div><div class="line">  &#125;,</div><div class="line">  <span class="attr">module</span>: &#123;</div><div class="line">    <span class="attr">loaders</span>: [</div><div class="line">      &#123;</div><div class="line">        <span class="attr">test</span>: <span class="regexp">/\.jsx?$/</span>,         <span class="comment">// Match both .js and .jsx files</span></div><div class="line">        exclude: <span class="regexp">/node_modules/</span>, </div><div class="line">        <span class="attr">loader</span>: <span class="string">"babel-loader"</span>, </div><div class="line">        <span class="attr">query</span>:</div><div class="line">          &#123;</div><div class="line">            <span class="attr">presets</span>:[<span class="string">'react'</span>]</div><div class="line">          &#125;</div><div class="line">      &#125;,</div><div class="line">      &#123;</div><div class="line">        <span class="attr">test</span>: <span class="regexp">/\.css$/</span>, <span class="comment">// Only .css files</span></div><div class="line">        loader: <span class="string">'style-loader!css-loader?modules'</span> </div><div class="line">      &#125;,</div><div class="line">      <span class="comment">// SASS</span></div><div class="line">      &#123;</div><div class="line">        <span class="attr">test</span>: <span class="regexp">/\.scss$/</span>,</div><div class="line">        <span class="attr">loader</span>: <span class="string">'style-loader!css-loader!sass-loader?modules'</span></div><div class="line">      &#125;,</div><div class="line">      &#123;</div><div class="line">        <span class="attr">test</span>: <span class="regexp">/\.(png|jpg)$/</span>,</div><div class="line">        <span class="attr">loader</span>: <span class="string">'url?limit=25000'</span></div><div class="line">      &#125;,</div><div class="line">      &#123;</div><div class="line">        <span class="attr">test</span>: <span class="regexp">/\.woff$/</span>,</div><div class="line">        <span class="attr">loader</span>: <span class="string">'url?limit=100000'</span></div><div class="line">      &#125;</div><div class="line">    ]</div><div class="line">  &#125;,</div><div class="line">  <span class="attr">plugins</span>: [</div><div class="line">    <span class="keyword">new</span> webpack.BannerPlugin(<span class="string">'This file is created by chenss'</span>)</div><div class="line">  ]</div><div class="line">&#125;;</div><div class="line"></div><div class="line"><span class="built_in">module</span>.exports = config;</div></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//package.json</span></div><div class="line"><span class="string">"scripts"</span>: &#123;</div><div class="line">    <span class="string">"build"</span>: <span class="string">"webpack"</span>,</div><div class="line">    <span class="string">"dev"</span>: <span class="string">"webpack-dev-server --devtool eval --progress --colors --hot --content-base build"</span></div><div class="line">  &#125;</div></pre></td></tr></table></figure>
<h2 id="å®‰è£…è¿‡ç¨‹"><a href="#å®‰è£…è¿‡ç¨‹" class="headerlink" title="å®‰è£…è¿‡ç¨‹"></a>å®‰è£…è¿‡ç¨‹</h2><ol>
<li><p>æ–°å»ºé¡¹ç›®æ–‡ä»¶ç»“æ„</p>
<pre><code>|app
|â€”â€”|main.js
|â€”â€”|components
|â€”â€”â€”â€”|components.jsx
|â€”â€”â€”â€”|components.scss
|build
|â€”â€”|bundle.js (è‡ªåŠ¨åˆ›å»º)
|â€”â€”|index.html
|package.json
|webpack.config.js
</code></pre></li>
<li><code>npm init</code>è¿›è¡Œåˆå§‹åŒ–</li>
<li><code>npm install -g webpack</code>å…¨å±€å®‰è£…webpack</li>
<li><code>npm install --save-dev webpack</code>å®‰è£…åˆ°ä½ çš„é¡¹ç›®ç›®å½•</li>
<li><code>npm i webpack-dev-server --save-dev</code>è£…webpack server</li>
<li><code>npm run dev</code>æœ¬åœ°æœåŠ¡å™¨è¿è¡Œ</li>
<li><p>é…ç½®reactç¯å¢ƒ</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">npm install babel-loader --save-dev</div><div class="line">npm install react react-dom --save-dev </div><div class="line">npm install babel-preset-react</div></pre></td></tr></table></figure>
</li>
<li><p><code>npm install css-loader style-loader --save-dev</code>è£…cssåŠ è½½</p>
</li>
<li><code>npm install sass-loader --save-dev</code>è£…sassåŠ è½½(å…ˆè£…node-sass)</li>
<li><code>npm install url-loader --save-dev</code>è£…å›¾ç‰‡urlåŠ è½½</li>
<li>cssæ¨¡å—åŒ–</li>
<li>å¼•å…¥BannerPluginæ’ä»¶</li>
</ol>
<blockquote>
<p><strong>ç•ªå¤–ï¼š</strong><br>æœ‰æ—¶å€™å¯èƒ½å¸Œæœ›é¡¹ç›®çš„æ ·å¼èƒ½ä¸è¦è¢«æ‰“åŒ…åˆ°è„šæœ¬ä¸­ï¼Œè€Œæ˜¯ç‹¬ç«‹å‡ºæ¥ä½œä¸º.cssï¼Œç„¶ååœ¨é¡µé¢ä¸­ä»¥<link>æ ‡ç­¾å¼•å…¥ã€‚è¿™æ—¶å€™æˆ‘ä»¬éœ€è¦ extract-text-webpack-plugin æ¥å¸®å¿™ï¼š<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> webpack = <span class="built_in">require</span>(<span class="string">'webpack'</span>);</div><div class="line">    <span class="keyword">var</span> commonsPlugin = <span class="keyword">new</span> webpack.optimize.CommonsChunkPlugin(<span class="string">'common.js'</span>);</div><div class="line">    <span class="keyword">var</span> ExtractTextPlugin = <span class="built_in">require</span>(<span class="string">"extract-text-webpack-plugin"</span>);</div><div class="line"> </div><div class="line">    <span class="built_in">module</span>.exports = &#123;</div><div class="line">        <span class="attr">plugins</span>: [commonsPlugin, <span class="keyword">new</span> ExtractTextPlugin(<span class="string">"[name].css"</span>)],</div><div class="line">        <span class="attr">entry</span>: &#123;</div><div class="line">        <span class="comment">//...çœç•¥å…¶å®ƒé…ç½®</span></div></pre></td></tr></table></figure></p>
</blockquote>
]]></content>
      
        <categories>
            
            <category> React </category>
            
        </categories>
        
        
        <tags>
            
            <tag> React </tag>
            
            <tag> Webpack </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[Reactä¸­æ–‡æ–‡æ¡£(äºŒ)Tutorial]]></title>
      <url>http://yoursite.com/2017/03/07/React%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A3%EF%BC%88%E4%BA%8C%EF%BC%89/</url>
      <content type="html"><![CDATA[<p><img src="https://ooo.0o0.ooo/2017/03/08/58bf86c6ce2b1.jpg" style="width:70%"></p>
<p>æœ¬æ–‡ç¿»è¯‘è‡ª<a href="http://reactjs.cn/react/docs/getting-started.html" target="_blank" rel="external">Reactå®˜ç½‘æ•™ç¨‹</a>,æ¬¢è¿æŒ‡å‡ºé”™è¯¯ã€‚<br><a id="more"></a></p>
<h1 id="æ•™ç¨‹"><a href="#æ•™ç¨‹" class="headerlink" title="æ•™ç¨‹"></a>æ•™ç¨‹</h1><p>æˆ‘ä»¬å°†æ„é€ ä¸€ä¸ªç®€å•å´çœŸå®çš„å¯è¢«ç›´æ¥æ”¾è¿›åšå®¢é‡Œä½¿ç”¨çš„è¯„è®ºæ¡†ï¼Œä¸€ä¸ªç”±Disqus, LiveFyreæˆ–Facebook commentsæä¾›çš„å®æ—¶è¯„è®ºçš„åŸºç¡€ç‰ˆæœ¬ã€‚<br>æˆ‘ä»¬å°†æä¾›</p>
<ul>
<li>ä¸€ä¸ªæ‰€æœ‰è¯„è®ºçš„è§†å›¾</li>
<li>ä¸€ä¸ªæäº¤è¯„è®ºçš„è¡¨å•</li>
<li><strong><em>Hooks for you to provide a custom backend</em></strong></li>
</ul>
<p>å®ƒåŒæ—¶ä¹Ÿæœ‰ä¸€äº›ç®€å•çš„åŠŸèƒ½ï¼š</p>
<ul>
<li>ä¼˜åŒ–çš„è¯„è®ºåŠŸèƒ½ï¼šè¯„è®ºå†…å®¹åœ¨å®ƒä»¬è¢«å­˜å‚¨åˆ°æœåŠ¡å™¨ä¹‹å‰å°±åœ¨åˆ—è¡¨é‡Œæ˜¾ç¤ºï¼Œæ‰€ä»¥æ„Ÿè§‰å¾ˆå¿«ã€‚</li>
<li>å®æ—¶æ›´æ–°ï¼šå…¶ä»–ç”¨æˆ·çš„è¯„è®ºä¼šè¢«å®æ—¶æ˜¾ç¤ºåœ¨è¯„è®ºæ¡†</li>
<li>Mardownæ ¼å¼åŒ–ï¼šç”¨æˆ·èƒ½ç”¨Markdownæ ¼å¼åŒ–æ–‡æ¡£</li>
</ul>
<h2 id="æƒ³è·³è¿‡æ­¥éª¤ç›´æ¥å»çœ‹æºç å—ï¼Ÿ"><a href="#æƒ³è·³è¿‡æ­¥éª¤ç›´æ¥å»çœ‹æºç å—ï¼Ÿ" class="headerlink" title="æƒ³è·³è¿‡æ­¥éª¤ç›´æ¥å»çœ‹æºç å—ï¼Ÿ"></a>æƒ³è·³è¿‡æ­¥éª¤ç›´æ¥å»çœ‹æºç å—ï¼Ÿ</h2><p><a href="https://github.com/reactjs/react-tutorial" target="_blank" rel="external">ä»£ç åœ°å€</a></p>
<h2 id="è¿è¡Œä¸€ä¸ªæœåŠ¡å™¨"><a href="#è¿è¡Œä¸€ä¸ªæœåŠ¡å™¨" class="headerlink" title="è¿è¡Œä¸€ä¸ªæœåŠ¡å™¨"></a>è¿è¡Œä¸€ä¸ªæœåŠ¡å™¨</h2><p>ä¸ºäº†å¼€å§‹æ•™ç¨‹ï¼Œæˆ‘ä»¬éœ€è¦ä¸€ä¸ªè¿è¡Œçš„æœåŠ¡å™¨ã€‚æœåŠ¡å™¨ä»…è¢«ç”¨æ¥ä½œä¸ºä¸€ä¸ª<strong><em>API endpoint</em></strong>æ¥å­˜å–æ•°æ®ã€‚ä¸ºäº†ä½¿è¿™æ­¥å°½é‡ç®€å•ï¼Œæˆ‘ä»¬å·²ç»ç”¨ä¸åŒè„šæœ¬è¯­è¨€æ­å»ºäº†ç®€å•çš„æœåŠ¡å™¨ï¼Œæ­£å¥½å®Œæˆæˆ‘ä»¬éœ€è¦çš„äº‹ã€‚ä½ å¯ä»¥<a href="https://github.com/reactjs/react-tutorial/" target="_blank" rel="external">æŸ¥çœ‹æºä»£ç </a>æˆ–è€…<a href="https://github.com/reactjs/react-tutorial/archive/master.zip" target="_blank" rel="external">ç°åœ¨å‹ç¼©åŒ…</a>ï¼Œé‡Œé¢åŒ…å«äº†ä½ å¼€å§‹å­¦ä¹ éœ€è¦çš„æ‰€æœ‰ä¸œè¥¿ã€‚</p>
<p>ç®€å•èµ·è§ï¼ŒæœåŠ¡å™¨ä¼šä½¿ç”¨<code>JSON</code>æ–‡ä»¶ä½œä¸ºæ•°æ®åº“æ¥è¿è¡Œã€‚ä½ ä¸ä¼šåœ¨ç”Ÿäº§ç¯å¢ƒä¸­ä½¿ç”¨å®ƒï¼Œä½†å®ƒç®€å•æ¨¡æ‹Ÿäº†ä½ åœ¨è¿è¡ŒAPIæ—¶ä¼šåšçš„äº‹ã€‚ä¸€æ—¦ä½ å¯åŠ¨æœåŠ¡å™¨ï¼Œä»–ä¼šæ”¯æŒæˆ‘ä»¬çš„API <strong><em>endpoint</em></strong>ç»ˆç«¯ï¼ŒåŒæ—¶<strong><em>serve*</em></strong>å±•ç¤ºæˆ‘ä»¬éœ€è¦çš„é™æ€é¡µé¢ã€‚</p>
<h2 id="å¼€å§‹"><a href="#å¼€å§‹" class="headerlink" title="å¼€å§‹"></a>å¼€å§‹</h2><p>å¯¹äºæ­¤è¯¾ç¨‹ï¼Œæˆ‘ä»¬å°†ä¼šå°½é‡ç®€å•ã€‚æˆ‘ä»¬ä¸Šé¢æåˆ°çš„æœåŠ¡å™¨åŒ…é‡Œæœ‰ä¸€ä¸ªæˆ‘ä»¬å°†ä¼šç”¨åˆ°çš„<code>HTML</code>æ–‡ä»¶ã€‚åœ¨ç¼–è¾‘å™¨ä¸­æ‰“å¼€<code>public/index.html</code>æ–‡ä»¶ã€‚å†…å®¹å¦‚ä¸‹<br><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line"><span class="comment">&lt;!-- index.html --&gt;</span></div><div class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span> /&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>React Tutorial<span class="tag">&lt;/<span class="name">title</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"https://npmcdn.com/react@15.3.1/dist/react.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"https://npmcdn.com/react-dom@15.3.1/dist/react-dom.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"https://npmcdn.com/babel-core@5.8.38/browser.min.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"https://npmcdn.com/jquery@3.1.0/dist/jquery.min.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"https://npmcdn.com/remarkable@1.6.2/dist/remarkable.min.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"content"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/babel"</span> <span class="attr">src</span>=<span class="string">"scripts/example.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/babel"</span>&gt;</span><span class="javascript"></span></div><div class="line">      <span class="comment">// To get started with this tutorial running your own code, simply remove</span></div><div class="line">      <span class="comment">// the script tag loading scripts/example.js and start writing code here.</span></div><div class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></div></pre></td></tr></table></figure></p>
<p>å¯¹äºæ•™ç¨‹çš„å‰©ä½™éƒ¨åˆ†ï¼Œæˆ‘ä»¬å°†åœ¨scriptæ ‡ç­¾é‡Œå†™jsä»£ç ã€‚æˆ‘ä»¬æ²¡æœ‰ä»»ä½•æå‰é…ç½®çš„å®æ—¶æ›´æ”¹è®¾ç½®ï¼Œæ‰€ä»¥ä½ éœ€è¦åœ¨ä¿å­˜ååˆ·æ–°æµè§ˆå™¨æŸ¥çœ‹æ›´æ–°ã€‚é€šè¿‡åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€<code>http://localhost:3000</code>æ¥å®æ—¶è·Ÿè¿›ä½ çš„è¿›åº¦ï¼ˆåœ¨è¿è¡ŒæœåŠ¡å™¨åï¼‰ã€‚å½“ä½ ä¸åŠ æ›´æ”¹ç¬¬ä¸€æ¬¡åŠ è½½æ—¶ï¼Œä½ å°†ä¼šçœ‹åˆ°æˆ‘ä»¬å³å°†å»ºç«‹çš„demoçš„æœ€ç»ˆç‰ˆã€‚å½“ä½ å‡†å¤‡å¥½å¼€å·¥ï¼Œåªç”¨åˆ æ‰å‰é¢çš„<code>&lt;script&gt;</code>æ ‡ç­¾ç„¶åç»§ç»­ã€‚</p>
<blockquote>
<p><strong>Note:</strong><br>æˆ‘ä»¬åœ¨è¿™é‡Œå¼•å…¥äº†jqueryå› ä¸ºæˆ‘ä»¬æƒ³ç®€åŒ–æˆ‘ä»¬æœªæ¥çš„ajaxè¯·æ±‚ï¼Œä½†è¿™å¯¹äºReactæ¥è¯´ä¸æ˜¯å¿…éœ€çš„</p>
</blockquote>
<h2 id="ä½ çš„ç¬¬ä¸€ä¸ªç»„ä»¶"><a href="#ä½ çš„ç¬¬ä¸€ä¸ªç»„ä»¶" class="headerlink" title="ä½ çš„ç¬¬ä¸€ä¸ªç»„ä»¶"></a>ä½ çš„ç¬¬ä¸€ä¸ªç»„ä»¶</h2><p>Reactéƒ½æ˜¯å…³äºæ¨¡å—åŒ–ï¼Œå¯ç»„è£…çš„ç»„ä»¶ã€‚å¯¹äºæˆ‘ä»¬ä¾‹å­çš„è¯„è®ºæ¡†ï¼Œæˆ‘ä»¬å°†æŒ‰å¦‚ä¸‹ç»“æ„æ¶æ„ç»„ä»¶<br><br><img src="https://ooo.0o0.ooo/2017/03/09/58c164f69c0a0.png" style="width:50%"></p>
<pre><code>- CommentBox
  - CommentList
    - Comment
  - CommentForm
</code></pre><p>è®©æˆ‘ä»¬æ¥æ„é€ <code>CommentBox</code>ç»„ä»¶ï¼Œåªæ˜¯ä¸€ä¸ªç®€å•çš„<code>&lt;div&gt;</code><br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// tutorial1.js</span></div><div class="line"><span class="keyword">var</span> CommentBox = React.createClass(&#123;</div><div class="line">  <span class="attr">render</span>: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="keyword">return</span> (</div><div class="line">      <span class="xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">className</span>=<span class="string">"commentBox"</span>&gt;</span></span></div><div class="line">        Hello, world! I am a CommentBox.</div><div class="line">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">    );</div><div class="line">  &#125;</div><div class="line">&#125;);</div><div class="line">ReactDOM.render(</div><div class="line">  <span class="xml"><span class="tag">&lt;<span class="name">CommentBox</span> /&gt;</span>,</span></div><div class="line">  document.getElementById('content')</div><div class="line">);</div></pre></td></tr></table></figure></p>
<p>æ³¨æ„åŸç”Ÿçš„htmlæ ‡ç­¾åéƒ½æ˜¯ä»¥å°å†™å­—æ¯å¼€å¤´ï¼Œè€Œå®šä¹‰çš„Reactç±»åä»¥å¤§å†™å­—æ¯å¼€å¤´</p>
<h3 id="JSXè¯­æ³•"><a href="#JSXè¯­æ³•" class="headerlink" title="JSXè¯­æ³•"></a>JSXè¯­æ³•</h3><p>é¦–å…ˆä½ ä¼šæ³¨æ„åˆ°jsæ–‡ä»¶é‡Œçš„ç±»XMLä»£ç ã€‚æˆ‘ä»¬æœ‰ä¸€ä¸ªç®€å•çš„é¢„ç¼–è¯‘å™¨æ¥æŠŠå®ƒè½¬æ¢æˆjsä»£ç <br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// tutorial1-raw.js</span></div><div class="line"><span class="keyword">var</span> CommentBox = React.createClass(&#123;<span class="attr">displayName</span>: <span class="string">'CommentBox'</span>,</div><div class="line">  <span class="attr">render</span>: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="keyword">return</span> (</div><div class="line">      React.createElement(<span class="string">'div'</span>, &#123;<span class="attr">className</span>: <span class="string">"commentBox"</span>&#125;,</div><div class="line">        <span class="string">"Hello, world! I am a CommentBox."</span></div><div class="line">      )</div><div class="line">    );</div><div class="line">  &#125;</div><div class="line">&#125;);</div><div class="line">ReactDOM.render(</div><div class="line">  React.createElement(CommentBox, <span class="literal">null</span>),</div><div class="line">  <span class="built_in">document</span>.getElementById(<span class="string">'content'</span>)</div><div class="line">);</div></pre></td></tr></table></figure></p>
<p>ä½ å¯ä»¥é€‰æ‹©æ˜¯å¦ç”¨jsxï¼Œä½†æˆ‘ä»¬å‘ç°å®ƒæ¯”çº¯jsä»£ç æ›´æ˜“ä½¿ç”¨ã€‚é˜…è¯»æ›´å¤š<a href="">JSXè¯­æ³•</a></p>
<h3 id="å‘ç”Ÿäº†ä»€ä¹ˆ"><a href="#å‘ç”Ÿäº†ä»€ä¹ˆ" class="headerlink" title="å‘ç”Ÿäº†ä»€ä¹ˆ"></a>å‘ç”Ÿäº†ä»€ä¹ˆ</h3><p>æˆ‘ä»¬åœ¨ä¸€ä¸ªjavascriptå¯¹è±¡ä¸­ä¼ é€’äº†ä¸€äº›æ–¹æ³•ç»™<code>React.createClass()</code>ï¼Œæ¥æ–°å»ºä¸€ä¸ªReactç»„ä»¶ã€‚æœ€é‡è¦çš„æ–¹æ³•æ˜¯<code>render</code>ï¼Œå®ƒè¿”å›ä¸€é¢—Reactç»„ä»¶æ ‘ï¼Œè¢«ç”¨æ¥æœ€ç»ˆæ¸²æŸ“æˆhtmlã€‚</p>
<p>è¿™äº›<div>æ ‡ç­¾å¹¶ä¸æ˜¯çœŸå®çš„DOMèŠ‚ç‚¹ï¼Œå®ƒä»¬æ˜¯React<code>div</code>ç»„ä»¶çš„å®ä¾‹ã€‚ä½ å¯ä»¥å°†è¿™äº›çœ‹æˆReactçŸ¥é“å¦‚ä½•å¤„ç†çš„æ ‡è®°æˆ–æ•°æ®ã€‚Reactæ˜¯å®‰å…¨çš„ã€‚æˆ‘ä»¬ä¸ç”ŸæˆHTMLå­—ç¬¦ä¸²ï¼Œæ‰€ä»¥XSSé˜²æŠ¤æ˜¯é»˜è®¤çš„ã€‚</div></p>
<p>ä½ ä¸æ˜¯å¿…é¡»è¿”å›åŸºæœ¬çš„HTMLã€‚ä½ å¯ä»¥è¿”å›ä½ ï¼ˆæˆ–å…¶ä»–äººï¼‰å»ºé€ çš„ç»„ä»¶æ ‘ã€‚è¿™å°±æ˜¯Reactç»„ä»¶åŒ–çš„åŸå› ï¼šä¸€ä¸ªå¯ç»´æŠ¤çš„å‰ç«¯çš„åŸºæœ¬åŸåˆ™ã€‚</p>
<p><code>ReactDOM.render()</code>å®ä¾‹åŒ–æ ¹ç»„ä»¶ï¼Œå¯åŠ¨æ¡†æ¶ï¼Œæ³¨å…¥æ ‡è®°åˆ°åŸå§‹çš„DOMå…ƒç´ ï¼Œä½œä¸ºç¬¬äºŒå‚æ•°æä¾›ã€‚</p>
<p>ReactDOMæ¨¡å—æš´éœ²æŒ‡å®šDOMçš„æ–¹æ³•ï¼ŒReactæ‹¥æœ‰ä¸åŒå¹³å°çš„Reactï¼ˆæ¯”å¦‚React Nativeï¼‰åˆ†äº«çš„æ ¸å¿ƒå·¥å…·</p>
<p>åœ¨æœ¬æ•™ç¨‹ä¸­ï¼Œ<code>ReactDOM.render</code>ä½äºscriptæ–‡ä»¶çš„åº•ç«¯ååˆ†é‡è¦ï¼Œ<code>ReactDOM.render</code>åªèƒ½åœ¨å¤åˆç»„ä»¶éƒ½è¢«å®šä¹‰å¥½åæ‰èƒ½è¢«è°ƒç”¨ã€‚</p>
<h2 id="ç»„åˆç»„ä»¶"><a href="#ç»„åˆç»„ä»¶" class="headerlink" title="ç»„åˆç»„ä»¶"></a>ç»„åˆç»„ä»¶</h2><p>è®©æˆ‘ä»¬æ¥ä¸º<code>CommentList</code>å’Œ<code>CommentForm</code>è¿›è¡Œæ¶æ„ï¼ŒåŒæ ·ä¹Ÿæ˜¯äº›ç®€å•çš„<code>&lt;div&gt;</code>æ ‡ç­¾ã€‚æŠŠè¿™ä¸¤ä¸ªç»„ä»¶åŠ è¿›ä½ çš„æ–‡ä»¶ï¼Œä¿ç•™åŸæ¥å°±å­˜åœ¨çš„<code>CommentBox</code>å£°æ˜å’Œ<code>ReactDOM.render</code>è°ƒç”¨ã€‚<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// tutorial2.js</span></div><div class="line"><span class="keyword">var</span> CommentList = React.createClass(&#123;</div><div class="line">  <span class="attr">render</span>: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="keyword">return</span> (</div><div class="line">      <span class="xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">className</span>=<span class="string">"commentList"</span>&gt;</span></span></div><div class="line">        Hello, world! I am a CommentList.</div><div class="line">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">    );</div><div class="line">  &#125;</div><div class="line">&#125;);</div><div class="line"></div><div class="line"><span class="keyword">var</span> CommentForm = React.createClass(&#123;</div><div class="line">  <span class="attr">render</span>: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="keyword">return</span> (</div><div class="line">      <span class="xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">className</span>=<span class="string">"commentForm"</span>&gt;</span></span></div><div class="line">        Hello, world! I am a CommentForm.</div><div class="line">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">    );</div><div class="line">  &#125;</div><div class="line">&#125;);</div></pre></td></tr></table></figure></p>
<p>æ¥ä¸‹æ¥ä½¿ç”¨è¿™äº›æ–°ç»„ä»¶æ¥æ›´æ–°<code>CommentBox</code>ç»„ä»¶<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// tutorial3.js</span></div><div class="line"><span class="keyword">var</span> CommentBox = React.createClass(&#123;</div><div class="line">  <span class="attr">render</span>: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="keyword">return</span> (</div><div class="line">      <span class="xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">className</span>=<span class="string">"commentBox"</span>&gt;</span></span></div><div class="line">        <span class="tag">&lt;<span class="name">h1</span>&gt;</span>Comments<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">CommentList</span> /&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">CommentForm</span> /&gt;</span></div><div class="line">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">    );</div><div class="line">  &#125;</div><div class="line">&#125;);</div></pre></td></tr></table></figure></p>
<p>æ³¨æ„æˆ‘ä»¬æ˜¯å¦‚ä½•æ··åˆ HTML æ ‡ç­¾å’Œæˆ‘ä»¬å»ºç«‹çš„ç»„ä»¶çš„ã€‚HTMLç»„ä»¶æ˜¯æ­£å¸¸çš„Reactç»„ä»¶ï¼Œå°±ä½ å®šä¹‰çš„é‚£äº›ï¼Œåªæœ‰ä¸€ä¸ªåŒºåˆ«ã€‚JSXç¼–è¯‘å™¨ä¼šè‡ªåŠ¨é‡å†™HTMLæ ‡ç­¾ä¸ºReact.createElement(tagName)è¡¨è¾¾å¼ï¼Œå…¶ä»–éƒ½ä¸å˜ã€‚è¿™æ˜¯ä¸ºäº†é¿å…æ±¡æŸ“å…¨å±€å‘½åç©ºé—´ã€‚</p>
<h3 id="ä½¿ç”¨propså±æ€§"><a href="#ä½¿ç”¨propså±æ€§" class="headerlink" title="ä½¿ç”¨propså±æ€§"></a>ä½¿ç”¨propså±æ€§</h3><p>ç°åœ¨æˆ‘ä»¬æ¥åˆ›å»º<code>Comment</code>ç»„ä»¶ï¼Œå®ƒä¼šä¾èµ–äºä»çˆ¶èŠ‚ç‚¹ä¼ æ¥çš„æ•°æ®ã€‚ä»çˆ¶ç»„ä»¶ä¼ æ¥çš„æ•°æ®å¯ä»¥ä½œä¸º<code>property</code>åœ¨å­ç»„ä»¶ä¸­ä½¿ç”¨ã€‚è¿™äº›<code>properties</code>é€šè¿‡<code>this.props</code>ä¼ å…¥ã€‚ä½¿ç”¨propsï¼Œæˆ‘ä»¬èƒ½è¯»å–åˆ°ä»<code>CommentList</code>ä¼ åˆ°<code>Comment</code>çš„æ•°æ®ï¼Œå¹¶ä¸”æ¸²æŸ“ä¸€äº›æ ‡è®°<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// tutorial4.js</span></div><div class="line"><span class="keyword">var</span> Comment = React.createClass(&#123;</div><div class="line">  <span class="attr">render</span>: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="keyword">return</span> (</div><div class="line">      <span class="xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">className</span>=<span class="string">"comment"</span>&gt;</span></span></div><div class="line">        <span class="tag">&lt;<span class="name">h2</span> <span class="attr">className</span>=<span class="string">"commentAuthor"</span>&gt;</span></div><div class="line">          &#123;this.props.author&#125;</div><div class="line">        <span class="tag">&lt;/<span class="name">h2</span>&gt;</span></div><div class="line">        &#123;this.props.children&#125;</div><div class="line">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">    );</div><div class="line">  &#125;</div><div class="line">&#125;);</div></pre></td></tr></table></figure></p>
<p>åœ¨JSXä¸­ï¼Œé€šè¿‡æŠŠjsè¡¨è¾¾å¼æ”¾åœ¨å¤§æ‹¬å·ä¸­ï¼ˆä½œä¸ºå±æ€§æˆ–è€…å­èŠ‚ç‚¹ï¼‰ï¼Œä½ èƒ½åœ¨æ ‘ä¸­æ·»åŠ æ–‡æœ¬æˆ–Reactç»„ä»¶ã€‚æˆ‘ä»¬é€šè¿‡<code>this.props</code>çš„keysè®¿é—®ä¼ é€’ç»™ç»„ä»¶çš„å‘½åå±æ€§ï¼Œé€šè¿‡<code>this.props.children</code>è®¿é—®å…¶ä»–åµŒå¥—çš„å…ƒç´ ã€‚</p>
<h2 id="ç»„ä»¶ç‰¹æ€§"><a href="#ç»„ä»¶ç‰¹æ€§" class="headerlink" title="ç»„ä»¶ç‰¹æ€§"></a>ç»„ä»¶ç‰¹æ€§</h2><p>ç°åœ¨æˆ‘ä»¬å·²ç»å®šä¹‰äº†<code>Comment</code>ç»„ä»¶ï¼Œæˆ‘ä»¬æƒ³ç»™ä»–ä¼ ä½œè€…åå’Œè¯„è®ºæ–‡æœ¬ã€‚è¿™å…è®¸æˆ‘ä»¬å¯¹æ¯ä¸ªè¯„è®ºé‡ç”¨ç›¸åŒçš„ä»£ç ã€‚ç°åœ¨è®©æˆ‘ä»¬åœ¨<code>CommentList</code>é‡Œæ¥åŠ ä¸€äº›è¯„è®ºï¼š<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// tutorial5.js</span></div><div class="line"><span class="keyword">var</span> CommentList = React.createClass(&#123;</div><div class="line">  <span class="attr">render</span>: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="keyword">return</span> (</div><div class="line">      <span class="xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">className</span>=<span class="string">"commentList"</span>&gt;</span></span></div><div class="line">        <span class="tag">&lt;<span class="name">Comment</span> <span class="attr">author</span>=<span class="string">"Pete Hunt"</span>&gt;</span>This is one comment<span class="tag">&lt;/<span class="name">Comment</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">Comment</span> <span class="attr">author</span>=<span class="string">"Jordan Walke"</span>&gt;</span>This is *another* comment<span class="tag">&lt;/<span class="name">Comment</span>&gt;</span></div><div class="line">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">    );</div><div class="line">  &#125;</div><div class="line">&#125;);</div></pre></td></tr></table></figure></p>
<p>æ³¨æ„åˆ°æˆ‘ä»¬ä»çˆ¶ç»„ä»¶<code>CommentList</code>ç»™å­ç»„ä»¶<code>Comment</code>ä¼ é€’äº†ä¸€äº›æ•°æ®ã€‚æ¯”å¦‚ï¼Œæˆ‘ä»¬ä¼ é€’äº†<em>Pete Hunt</em>(é€šè¿‡ä¸€ä¸ªå±æ€§)ï¼Œä¼ é€’äº†<em>This is one comment</em>ï¼ˆé€šè¿‡ä¸€ä¸ªç±»xmlå­èŠ‚ç‚¹ï¼‰ç»™ç¬¬ä¸€ä¸ª<code>Comment</code>ã€‚æ­£å¦‚ä¸Šé¢æåˆ°çš„ï¼Œ<code>Comment</code>ç»„ä»¶å°†ä¼šé€šè¿‡<code>this.props.author</code>å’Œ<code>this.prps.children</code>æ¥æ¥å—è¿™äº›â€˜å±æ€§â€™ã€‚</p>
<h2 id="æ·»åŠ Markdown"><a href="#æ·»åŠ Markdown" class="headerlink" title="æ·»åŠ Markdown"></a>æ·»åŠ Markdown</h2><p>Markdownæ˜¯ä¸€ç§æ ¼å¼åŒ–å†…è”æ–‡æœ¬çš„ç®€å•æ–¹æ³•ã€‚æ¯”å¦‚ï¼Œç”¨æ˜Ÿå·åŒ…å›´çš„æ–‡æœ¬ä¼šå˜æˆæ–œä½“ã€‚</p>
<p>åœ¨è¿™ä¸ªæ•™ç¨‹ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨ç¬¬ä¸‰æ–¹åº“<code>remarkable</code>æ¥æŠŠmarkdownæ–‡æœ¬è½¬æ¢æˆåŸå§‹htmlã€‚æˆ‘ä»¬å·²ç»åœ¨é¡µé¢çš„æœ€åˆæ ‡ç­¾åŒ…å«äº†è¿™ä¸ªåº“ï¼Œæ‰€ä»¥æˆ‘ä»¬èƒ½ç›´æ¥å¼€å§‹ä½¿ç”¨å®ƒã€‚è®©æˆ‘ä»¬æŠŠè¯„è®ºæ–‡æœ¬è½¬åŒ–æˆmarkdownå¹¶ä¸”è¾“å‡ºå®ƒã€‚<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// tutorial6.js</span></div><div class="line"><span class="keyword">var</span> Comment = React.createClass(&#123;</div><div class="line">  <span class="attr">render</span>: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="keyword">var</span> md = <span class="keyword">new</span> Remarkable();</div><div class="line">    <span class="keyword">return</span> (</div><div class="line">      <span class="xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">className</span>=<span class="string">"comment"</span>&gt;</span></span></div><div class="line">        <span class="tag">&lt;<span class="name">h2</span> <span class="attr">className</span>=<span class="string">"commentAuthor"</span>&gt;</span></div><div class="line">          &#123;this.props.author&#125;</div><div class="line">        <span class="tag">&lt;/<span class="name">h2</span>&gt;</span></div><div class="line">        &#123;md.render(this.props.children.toString())&#125;</div><div class="line">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">    );</div><div class="line">  &#125;</div><div class="line">&#125;);</div></pre></td></tr></table></figure></p>
<p>æˆ‘ä»¬éœ€è¦åšçš„åªæ˜¯è°ƒç”¨remarkableåº“ã€‚æˆ‘ä»¬éœ€è¦æŠŠä»reactåŒ…è£¹çš„æ–‡æœ¬<code>this.props.children</code>è½¬åŒ–æˆremarkableèƒ½è¯†åˆ«çš„åŸå§‹å­—ç¬¦ä¸²ï¼Œæ‰€ä»¥æˆ‘ä»¬è°ƒç”¨äº†<code>toString</code>æ–¹æ³•ã€‚</p>
<p>ä½†æ˜¯ä¹Ÿæœ‰ä¸€äº›é—®é¢˜ï¼æˆ‘ä»¬æ¸²æŸ“è¿‡çš„è¯„è®ºåœ¨æµè§ˆå™¨é‡Œæ˜¾ç¤ºä¸ºâ€œ<code>&lt;p&gt;</code>This is <code>&lt;em&gt;</code>another<code>&lt;/em&gt;</code> comment<code>&lt;/p&gt;</code>â€ï¼Œæˆ‘ä»¬æƒ³è®©è¿™äº›æ ‡ç­¾åƒhtmlä¸€æ ·æ¸²æŸ“ã€‚</p>
<p>è¿™æ˜¯reactä¸ºäº†é˜²èŒƒ<a href="https://en.wikipedia.org/wiki/Cross-site_scripting" target="_blank" rel="external">xss</a>æ”»å‡»ã€‚æœ‰ä¸€ç§æ–¹æ³•å¯ä»¥ç»•è¿‡å®ƒä½†æ˜¯æ¡†æ¶ä¼šè­¦å‘Šä½ ä¸è¦ä½¿ç”¨å®ƒã€‚<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// tutorial7.js</span></div><div class="line"><span class="keyword">var</span> Comment = React.createClass(&#123;</div><div class="line">  <span class="attr">rawMarkup</span>: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="keyword">var</span> md = <span class="keyword">new</span> Remarkable();</div><div class="line">    <span class="keyword">var</span> rawMarkup = md.render(<span class="keyword">this</span>.props.children.toString());</div><div class="line">    <span class="keyword">return</span> &#123; <span class="attr">__html</span>: rawMarkup &#125;;</div><div class="line">  &#125;,</div><div class="line"></div><div class="line">  <span class="attr">render</span>: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="keyword">return</span> (</div><div class="line">      <span class="xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">className</span>=<span class="string">"comment"</span>&gt;</span></span></div><div class="line">        <span class="tag">&lt;<span class="name">h2</span> <span class="attr">className</span>=<span class="string">"commentAuthor"</span>&gt;</span></div><div class="line">          &#123;this.props.author&#125;</div><div class="line">        <span class="tag">&lt;/<span class="name">h2</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">span</span> <span class="attr">dangerouslySetInnerHTML</span>=<span class="string">&#123;this.rawMarkup()&#125;</span> /&gt;</span></div><div class="line">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">    );</div><div class="line">  &#125;</div><div class="line">&#125;);</div></pre></td></tr></table></figure></p>
<p>è¿™ä¸ªç‰¹æ®Šçš„APIæ•…æ„ä½¿æ’å…¥åŸå§‹htmlå˜å¾—å›°éš¾ï¼Œä½†æ˜¯å¯¹äºremarkableæˆ‘ä»¬å°†ä¼šåˆ©ç”¨è¿™ä¸ªç‰¹æ€§ã€‚</p>
<p><strong>è®°ä½ï¼š</strong>é€šè¿‡ä½¿ç”¨è¿™ä¸ªåŠŸèƒ½ï¼Œremarkableæ˜¯å®‰å…¨çš„ã€‚æ‰€ä»¥ï¼Œremarkableåœ¨è¾“å‡ºä¸­è‡ªåŠ¨å»é™¤htmlæ ‡è®°å’Œä¸å®‰å…¨çš„é“¾æ¥ã€‚</p>
<h2 id="è¿æ¥æ•°æ®æ¨¡å‹"><a href="#è¿æ¥æ•°æ®æ¨¡å‹" class="headerlink" title="è¿æ¥æ•°æ®æ¨¡å‹"></a>è¿æ¥æ•°æ®æ¨¡å‹</h2><p>åˆ°ç°åœ¨ï¼Œæˆ‘ä»¬éƒ½æ˜¯ç›´æ¥åœ¨æºä»£ç é‡Œæ’å…¥è¯„è®ºã€‚æ¢ä¸€ç§å½¢å¼ï¼Œè®©æˆ‘ä»¬æ¸²æŸ“ä¸€ç³»åˆ—jsonæ•°æ®åˆ°comment listã€‚è¿™äº›æœ€ç»ˆæ˜¯è¦ä»æœåŠ¡å™¨è¯»å–ï¼Œä½†æ˜¯ç°åœ¨ï¼Œå…ˆæŠŠå®ƒå†™å…¥æºä»£ç ï¼š<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// tutorial8.js</span></div><div class="line"><span class="keyword">var</span> data = [</div><div class="line">  &#123;<span class="attr">id</span>: <span class="number">1</span>, <span class="attr">author</span>: <span class="string">"Pete Hunt"</span>, <span class="attr">text</span>: <span class="string">"This is one comment"</span>&#125;,</div><div class="line">  &#123;<span class="attr">id</span>: <span class="number">2</span>, <span class="attr">author</span>: <span class="string">"Jordan Walke"</span>, <span class="attr">text</span>: <span class="string">"This is *another* comment"</span>&#125;</div><div class="line">];</div></pre></td></tr></table></figure></p>
<p>æˆ‘ä»¬éœ€è¦ä»¥ä¸€ä¸ªæ¨¡å—åŒ–çš„æ–¹æ³•æ¥ä»<code>CommentList</code>é‡Œå¾—åˆ°æ•°æ®ã€‚ä¿®æ”¹<code>CommentBox</code>å’Œ<code>ReactDOM.render()</code>è°ƒç”¨æ¥æŠŠè¿™äº›æ•°æ®é€šè¿‡propsä¼ åˆ°<code>CmomentList</code>ï¼š<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// tutorial9.js</span></div><div class="line"><span class="keyword">var</span> CommentBox = React.createClass(&#123;</div><div class="line">  <span class="attr">render</span>: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="keyword">return</span> (</div><div class="line">      &lt;div className="commentBox"&gt;</div><div class="line">        &lt;h1&gt;Comments&lt;/h1&gt;</div><div class="line">        &lt;CommentList data=&#123;this.props.data&#125; /&gt;</div><div class="line">        &lt;CommentForm /&gt;</div><div class="line">      &lt;/div&gt;</div><div class="line">    );</div><div class="line">  &#125;</div><div class="line">&#125;);</div><div class="line"></div><div class="line">ReactDOM.render(</div><div class="line">  &lt;CommentBox data=&#123;data&#125; /&gt;,</div><div class="line">  document.getElementById('content')</div><div class="line">);</div></pre></td></tr></table></figure></p>
<p>æ—¢ç„¶è¿™äº›æ•°æ®åœ¨<code>CommentList</code>é‡Œæ˜¯å¯åˆ©ç”¨çš„ï¼Œè®©æˆ‘ä»¬æ¥åŠ¨æ€çš„æ¸²æŸ“è¯„è®ºï¼š<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// tutorial10.js</span></div><div class="line"><span class="keyword">var</span> CommentList = React.createClass(&#123;</div><div class="line">  <span class="attr">render</span>: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="keyword">var</span> commentNodes = <span class="keyword">this</span>.props.data.map(<span class="function"><span class="keyword">function</span>(<span class="params">comment</span>) </span>&#123;</div><div class="line">      <span class="keyword">return</span> (</div><div class="line">        <span class="xml"><span class="tag">&lt;<span class="name">Comment</span> <span class="attr">author</span>=<span class="string">&#123;comment.author&#125;</span> <span class="attr">key</span>=<span class="string">&#123;comment.id&#125;</span>&gt;</span></span></div><div class="line">          &#123;comment.text&#125;</div><div class="line">        <span class="tag">&lt;/<span class="name">Comment</span>&gt;</span></div><div class="line">      );</div><div class="line">    &#125;);</div><div class="line">    <span class="keyword">return</span> (</div><div class="line">      <span class="xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">className</span>=<span class="string">"commentList"</span>&gt;</span></span></div><div class="line">        &#123;commentNodes&#125;</div><div class="line">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">    );</div><div class="line">  &#125;</div><div class="line">&#125;);</div></pre></td></tr></table></figure></p>
<p>å°±æ˜¯è¿™æ ·ï¼</p>
<h2 id="ä»æœåŠ¡å™¨å–å¾—æ•°æ®"><a href="#ä»æœåŠ¡å™¨å–å¾—æ•°æ®" class="headerlink" title="ä»æœåŠ¡å™¨å–å¾—æ•°æ®"></a>ä»æœåŠ¡å™¨å–å¾—æ•°æ®</h2><p>è®©æˆ‘ä»¬æ¥ç”¨ä¸€äº›ä»æœåŠ¡å™¨å–å¾—çš„åŠ¨æ€æ•°æ®æ¥æ›¿æ¢è¿™äº›ç¡¬ç¼–ç æ•°æ®ã€‚æˆ‘ä»¬å°†ç§»é™¤dataå±æ€§å¹¶ä¸”ç”¨ä¸€ä¸ªURLæ›¿æ¢æ¥å–æ•°æ®ï¼š<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// tutorial11.js</span></div><div class="line">ReactDOM.render(</div><div class="line">  <span class="xml"><span class="tag">&lt;<span class="name">CommentBox</span> <span class="attr">url</span>=<span class="string">"/api/comments"</span> /&gt;</span>,</span></div><div class="line">  document.getElementById('content')</div><div class="line">);</div></pre></td></tr></table></figure></p>
<p>è¿™ä¸ªç»„ä»¶ä¸åŒäºå’Œå‰é¢çš„ç»„ä»¶ï¼Œå› ä¸ºå®ƒå¿…é¡»é‡æ–°æ¸²æŸ“è‡ªå·±ã€‚å®ƒåœ¨è¯·æ±‚ä»æœåŠ¡å™¨è¿”å›å‰ä¸ä¼šæœ‰ä»»ä½•æ•°æ®ï¼Œæ­¤æ—¶è¿™ä¸ªç»„ä»¶æˆ–è®¸éœ€è¦æ¸²æŸ“ä¸€äº›æ–°çš„è¯„è®ºã€‚</p>
<p>æ³¨æ„ï¼š ä»£ç åœ¨è¿™ä¸ªé˜¶æ®µä¸ä¼šå·¥ä½œã€‚</p>
<h2 id="reactiveçŠ¶æ€"><a href="#reactiveçŠ¶æ€" class="headerlink" title="reactiveçŠ¶æ€"></a>reactiveçŠ¶æ€</h2><p>åˆ°ç°åœ¨ä¸ºæ­¢ï¼ŒåŸºäºå®ƒçš„propsï¼Œæ¯ä¸ªç»„ä»¶éƒ½ä¼šæ¸²æŸ“è‡ªèº«ä¸€æ¬¡ã€‚propsæ˜¯ä¸å¯æ”¹å˜çš„ï¼šå®ƒä»¬ç”±çˆ¶ç»„ä»¶ä¼ é€’å¹¶ä¸”å±äºçˆ¶ç»„ä»¶ã€‚ä¸ºäº†å®ç°äº¤äº’ï¼Œæˆ‘ä»¬ç»™ç»„ä»¶å¼•å…¥äº†ä¸€ä¸ªåŠ¨æ€çš„<strong>çŠ¶æ€</strong>ã€‚<code>this.state</code>æ˜¯ç»„ä»¶çš„ç§æœ‰å˜é‡å¹¶ä¸”é€šè¿‡è°ƒç”¨<code>this.setState()</code>è¢«æ”¹å˜ã€‚å½“çŠ¶æ€æ›´æ–°æ—¶ï¼Œç»„ä»¶ä¾¿é‡æ–°è¿›è¡Œæ¸²æŸ“ã€‚</p>
<p><code>render()</code>æ–¹æ³•è¢«å£°æ˜ä¸ºthis.propså’Œthis.stateçš„å‡½æ•°ï¼Œæ¡†æ¶ä¿è¯UIå§‹ç»ˆä¸è¾“å…¥ä¸€è‡´ã€‚</p>
<p>å½“ä»æœåŠ¡å™¨è·å–æ•°æ®æ—¶ï¼Œæˆ‘ä»¬ä¼šæ”¹å˜å·²æœ‰çš„è¯„è®ºæ•°æ®ã€‚è®©æˆ‘ä»¬å‘<code>CommentBox</code>ç»„ä»¶æ·»åŠ ä¸€ä¸ªè¯„è®ºæ•°æ®æ•°ç»„ä½œä¸ºå®ƒçš„stateã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// tutorial12.js</span></div><div class="line"><span class="keyword">var</span> CommentBox = React.createClass(&#123;</div><div class="line">  <span class="attr">getInitialState</span>: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="keyword">return</span> &#123;<span class="attr">data</span>: []&#125;;</div><div class="line">  &#125;,</div><div class="line">  <span class="attr">render</span>: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="keyword">return</span> (</div><div class="line">      <span class="xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">className</span>=<span class="string">"commentBox"</span>&gt;</span></span></div><div class="line">        <span class="tag">&lt;<span class="name">h1</span>&gt;</span>Comments<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">CommentList</span> <span class="attr">data</span>=<span class="string">&#123;this.state.data&#125;</span> /&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">CommentForm</span> /&gt;</span></div><div class="line">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">    );</div><div class="line">  &#125;</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<p><code>getInitialState()</code>åœ¨ç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸé‡Œåªæ‰§è¡Œä¸€æ¬¡ï¼Œå¹¶ä¸”åˆå§‹åŒ–ç»„ä»¶çŠ¶æ€ã€‚</p>
<h3 id="æ›´æ–°çŠ¶æ€"><a href="#æ›´æ–°çŠ¶æ€" class="headerlink" title="æ›´æ–°çŠ¶æ€"></a>æ›´æ–°çŠ¶æ€</h3><p>å½“è¿™ä¸ªç»„ä»¶ç¬¬ä¸€æ¬¡è¢«åˆ›å»ºï¼Œæˆ‘ä»¬è¦ä»æœåŠ¡å™¨<code>GET</code>ä¸€äº›<code>JSON</code>æ–‡ä»¶ï¼Œå¹¶ä¸”æ›´æ–°çŠ¶æ€æ¥æ˜¾ç¤ºæœ€è¿‘çš„æ•°æ®ã€‚æˆ‘ä»¬å°†ä½¿ç”¨jqueryæ¥ç»™æˆ‘ä»¬å…ˆå‰å¯åŠ¨çš„æœåŠ¡å™¨æœåŠ¡å™¨å‘é€å¼‚æ­¥è¯·æ±‚æ¥è·å–æˆ‘ä»¬éœ€è¦çš„æ•°æ®ã€‚è¿™ä¸ªæ•°æ®æ˜¯æ—©å°±åŒ…å«åœ¨å¯åŠ¨çš„æœåŠ¡å™¨ä¸­çš„ï¼ˆåŸºäº<code>common.js</code>æ–‡ä»¶ï¼‰ï¼Œæ‰€ä»¥ï¼Œä¸€æ—¦å®ƒè¢«è·å–ï¼Œ<code>this.state.data</code>ä¼šå˜æˆï¼š<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">[</div><div class="line">  &#123;<span class="string">"id"</span>: <span class="string">"1"</span>, <span class="string">"author"</span>: <span class="string">"Pete Hunt"</span>, <span class="string">"text"</span>: <span class="string">"This is one comment"</span>&#125;,</div><div class="line">  &#123;<span class="string">"id"</span>: <span class="string">"2"</span>, <span class="string">"author"</span>: <span class="string">"Jordan Walke"</span>, <span class="string">"text"</span>: <span class="string">"This is *another* comment"</span>&#125;</div><div class="line">]</div></pre></td></tr></table></figure></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// tutorial13.js</span></div><div class="line"><span class="keyword">var</span> CommentBox = React.createClass(&#123;</div><div class="line">  <span class="attr">getInitialState</span>: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="keyword">return</span> &#123;<span class="attr">data</span>: []&#125;;</div><div class="line">  &#125;,</div><div class="line">  <span class="attr">componentDidMount</span>: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">    $.ajax(&#123;</div><div class="line">      <span class="attr">url</span>: <span class="keyword">this</span>.props.url,</div><div class="line">      <span class="attr">dataType</span>: <span class="string">'json'</span>,</div><div class="line">      <span class="attr">cache</span>: <span class="literal">false</span>,</div><div class="line">      <span class="attr">success</span>: <span class="function"><span class="keyword">function</span>(<span class="params">data</span>) </span>&#123;</div><div class="line">        <span class="keyword">this</span>.setState(&#123;<span class="attr">data</span>: data&#125;);</div><div class="line">      &#125;.bind(<span class="keyword">this</span>),</div><div class="line">      <span class="attr">error</span>: <span class="function"><span class="keyword">function</span>(<span class="params">xhr, status, err</span>) </span>&#123;</div><div class="line">        <span class="built_in">console</span>.error(<span class="keyword">this</span>.props.url, status, err.toString());</div><div class="line">      &#125;.bind(<span class="keyword">this</span>)</div><div class="line">    &#125;);</div><div class="line">  &#125;,</div><div class="line">  <span class="attr">render</span>: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="keyword">return</span> (</div><div class="line">      <span class="xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">className</span>=<span class="string">"commentBox"</span>&gt;</span></span></div><div class="line">        <span class="tag">&lt;<span class="name">h1</span>&gt;</span>Comments<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">CommentList</span> <span class="attr">data</span>=<span class="string">&#123;this.state.data&#125;</span> /&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">CommentForm</span> /&gt;</span></div><div class="line">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">    );</div><div class="line">  &#125;</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<p>åœ¨è¿™é‡Œï¼Œ<code>componentDidMount</code>æ˜¯ä¸€ç§åœ¨ç»„ä»¶ç¬¬ä¸€æ¬¡è¢«æ¸²æŸ“ä¹‹åè¢«reactè°ƒç”¨çš„æ–¹æ³•ã€‚åŠ¨æ€æ›´æ–°çš„å…³é”®æ˜¯è°ƒç”¨<code>this.state()</code>æ–¹æ³•ã€‚æˆ‘ä»¬ç”¨æ–°çš„æ¥è‡ªæœåŠ¡å™¨çš„æ•°æ®æ›¿æ¢æ—§çš„è¯„è®ºæ•°ç»„ï¼ŒåŒæ—¶UIä¼šè‡ªåŠ¨æ›´æ–°ã€‚ç”±äºè¿™ç§ååº”æ€§ï¼Œæ·»åŠ å®æ—¶æ›´æ–°åªæ˜¯ä¸€ä¸ªå°çš„æ›´æ”¹ã€‚æˆ‘ä»¬å°†åœ¨è¿™é‡Œä½¿ç”¨ç®€å•çš„<strong><em>polling</em></strong>ï¼Œä½†æ˜¯ä½ å¯ä»¥å¾ˆå®¹æ˜“åœ°ä½¿ç”¨WebSocketsæˆ–å…¶ä»–æŠ€æœ¯ã€‚<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// tutorial14.js</span></div><div class="line"><span class="keyword">var</span> CommentBox = React.createClass(&#123;</div><div class="line">  <span class="attr">loadCommentsFromServer</span>: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">    $.ajax(&#123;</div><div class="line">      <span class="attr">url</span>: <span class="keyword">this</span>.props.url,</div><div class="line">      <span class="attr">dataType</span>: <span class="string">'json'</span>,</div><div class="line">      <span class="attr">cache</span>: <span class="literal">false</span>,</div><div class="line">      <span class="attr">success</span>: <span class="function"><span class="keyword">function</span>(<span class="params">data</span>) </span>&#123;</div><div class="line">        <span class="keyword">this</span>.setState(&#123;<span class="attr">data</span>: data&#125;);</div><div class="line">      &#125;.bind(<span class="keyword">this</span>),</div><div class="line">      <span class="attr">error</span>: <span class="function"><span class="keyword">function</span>(<span class="params">xhr, status, err</span>) </span>&#123;</div><div class="line">        <span class="built_in">console</span>.error(<span class="keyword">this</span>.props.url, status, err.toString());</div><div class="line">      &#125;.bind(<span class="keyword">this</span>)</div><div class="line">    &#125;);</div><div class="line">  &#125;,</div><div class="line">  <span class="attr">getInitialState</span>: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="keyword">return</span> &#123;<span class="attr">data</span>: []&#125;;</div><div class="line">  &#125;,</div><div class="line">  <span class="attr">componentDidMount</span>: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="keyword">this</span>.loadCommentsFromServer();</div><div class="line">    setInterval(<span class="keyword">this</span>.loadCommentsFromServer, <span class="keyword">this</span>.props.pollInterval);</div><div class="line">  &#125;,</div><div class="line">  <span class="attr">render</span>: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="keyword">return</span> (</div><div class="line">      &lt;div className="commentBox"&gt;</div><div class="line">        &lt;h1&gt;Comments&lt;/h1&gt;</div><div class="line">        &lt;CommentList data=&#123;this.state.data&#125; /&gt;</div><div class="line">        &lt;CommentForm /&gt;</div><div class="line">      &lt;/div&gt;</div><div class="line">    );</div><div class="line">  &#125;</div><div class="line">&#125;);</div><div class="line"></div><div class="line">ReactDOM.render(</div><div class="line">  &lt;CommentBox url="/api/comments" pollInterval=&#123;2000&#125; /&gt;,</div><div class="line">  document.getElementById('content')</div><div class="line">);</div></pre></td></tr></table></figure></p>
<p>ç°åœ¨æˆ‘ä»¬éœ€è¦åšçš„æ˜¯æŠŠajaxè°ƒç”¨åˆ†ç¦»æˆå•ç‹¬çš„æ–¹æ³•ï¼Œå½“ç»„ä»¶ç¬¬ä¸€æ¬¡åŠ è½½æ—¶åŠå…¶åæ¯ä¸¤ç§’è°ƒç”¨å®ƒã€‚è¯•ç€åœ¨ä½ çš„æµè§ˆå™¨ä¸­è¿è¡Œå®ƒå¹¶å°è¯•æ›´æ”¹<code>comments.json</code>æ–‡ä»¶ï¼ˆå’ŒæœåŠ¡å™¨åœ¨åŒä¸€æ–‡ä»¶å¤¹ï¼‰ï¼›ä¸ç”¨ä¸¤ç§’ï¼Œæ›´æ”¹å°±ä¼šå‘ˆç°ã€‚</p>
<h2 id="æ·»åŠ æ–°è¯„è®º"><a href="#æ·»åŠ æ–°è¯„è®º" class="headerlink" title="æ·»åŠ æ–°è¯„è®º"></a>æ·»åŠ æ–°è¯„è®º</h2><p>ç°åœ¨æ˜¯æ—¶å€™å»ºç«‹è¡¨å•äº†ã€‚æˆ‘ä»¬çš„<code>CommentForm</code>ç»„ä»¶åº”è¯¥è¯¢é—®ä½¿ç”¨è€…çš„å§“åå’Œè¯„è®ºæ–‡æœ¬ï¼Œç„¶åç»™æœåŠ¡å™¨å‘é€ä¸€ä¸ªè¯·æ±‚æ¥ä¿å­˜è¯„è®ºã€‚<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// tutorial15.js</span></div><div class="line"><span class="keyword">var</span> CommentForm = React.createClass(&#123;</div><div class="line">  <span class="attr">render</span>: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="keyword">return</span> (</div><div class="line">      &lt;form className="commentForm"&gt;</div><div class="line">        &lt;input type="text" placeholder="Your name" /&gt;</div><div class="line">        &lt;input type="text" placeholder="Say something..." /&gt;</div><div class="line">        &lt;input type="submit" value="Post" /&gt;</div><div class="line">      &lt;/form&gt;</div><div class="line">    );</div><div class="line">  &#125;</div><div class="line">&#125;);</div></pre></td></tr></table></figure></p>
<h3 id="å—æ§ç»„ä»¶"><a href="#å—æ§ç»„ä»¶" class="headerlink" title="å—æ§ç»„ä»¶"></a>å—æ§ç»„ä»¶</h3><p>ä½¿ç”¨ä¼ ç»Ÿçš„DOMï¼Œ<code>input</code>å…ƒç´ è¢«æ¸²æŸ“å¹¶ä¸”æ˜¯æµè§ˆå™¨ç®¡ç†è¿™ä¸ªçŠ¶æ€ï¼ˆå®ƒçš„æ¸²æŸ“å˜é‡ï¼‰ã€‚å› æ­¤ï¼Œå®é™…DOMçš„çŠ¶æ€å°†ä¸ç»„ä»¶çš„çŠ¶æ€ä¸åŒã€‚è¿™ä¸ªå¹¶ä¸ç†æƒ³ï¼Œå› ä¸ºè§†å›¾çš„çŠ¶æ€å°†ä¸åŒäºç»„ä»¶çš„çŠ¶æ€ã€‚åœ¨Reacté‡Œï¼Œç»„ä»¶åº”è¯¥å§‹ç»ˆè¡¨ç¤ºè§†å›¾çš„çŠ¶æ€ï¼Œè€Œä¸ä»…ä»…æ˜¯åˆå§‹åŒ–æ—¶çš„çŠ¶æ€ã€‚</p>
<p>å› æ­¤ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨<code>this.state</code>æ¥ä¿å­˜è¾“å…¥æ—¶çš„ç”¨æˆ·è¾“å…¥ã€‚æˆ‘ä»¬ä½¿ç”¨ä¸¤ä¸ªå±æ€§ <code>author</code>å’Œ<code>text</code> æ¥å®šä¹‰åˆå§‹<code>state</code>ï¼Œå¹¶å°†å®ƒä»¬è®¾ç½®æˆç©ºå­—ç¬¦ä¸²ã€‚åœ¨æˆ‘ä»¬çš„<code>&lt;input&gt;</code>å…ƒç´ ä¸­ï¼Œæˆ‘ä»¬è®¾ç½®<code>value</code>propæ¥ååº”ç»„ä»¶çŠ¶æ€å¹¶ç»‘å®šäº†<code>onChange</code>å¤„ç†ç¨‹åºã€‚è¿™äº›å…·æœ‰å˜é‡çš„<code>&lt;input&gt;</code>å…ƒç´ è¢«ç§°ä¸ºå—æ§ç»„ä»¶ã€‚é˜…è¯»æ›´å¤šå…³äºå—æ§ç»„ä»¶çš„å†…å®¹ã€‚<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// tutorial16.js</span></div><div class="line"><span class="keyword">var</span> CommentForm = React.createClass(&#123;</div><div class="line">  <span class="attr">getInitialState</span>: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="keyword">return</span> &#123;<span class="attr">author</span>: <span class="string">''</span>, <span class="attr">text</span>: <span class="string">''</span>&#125;;</div><div class="line">  &#125;,</div><div class="line">  <span class="attr">handleAuthorChange</span>: <span class="function"><span class="keyword">function</span>(<span class="params">e</span>) </span>&#123;</div><div class="line">    <span class="keyword">this</span>.setState(&#123;<span class="attr">author</span>: e.target.value&#125;);</div><div class="line">  &#125;,</div><div class="line">  <span class="attr">handleTextChange</span>: <span class="function"><span class="keyword">function</span>(<span class="params">e</span>) </span>&#123;</div><div class="line">    <span class="keyword">this</span>.setState(&#123;<span class="attr">text</span>: e.target.value&#125;);</div><div class="line">  &#125;,</div><div class="line">  <span class="attr">render</span>: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="keyword">return</span> (</div><div class="line">      &lt;form className="commentForm"&gt;</div><div class="line">        &lt;input</div><div class="line">          type="text"</div><div class="line">          placeholder="Your name"</div><div class="line">          value=&#123;this.state.author&#125;</div><div class="line">          onChange=&#123;this.handleAuthorChange&#125;</div><div class="line">        /&gt;</div><div class="line">        &lt;input</div><div class="line">          type="text"</div><div class="line">          placeholder="Say something..."</div><div class="line">          value=&#123;this.state.text&#125;</div><div class="line">          onChange=&#123;this.handleTextChange&#125;</div><div class="line">        /&gt;</div><div class="line">        &lt;input type="submit" value="Post" /&gt;</div><div class="line">      &lt;/form&gt;</div><div class="line">    );</div><div class="line">  &#125;</div><div class="line">&#125;);</div></pre></td></tr></table></figure></p>
<h3 id="äº‹ä»¶"><a href="#äº‹ä»¶" class="headerlink" title="äº‹ä»¶"></a>äº‹ä»¶</h3><p>Reactä½¿ç”¨é©¼å³°å‘½åæ³•æ¥ç»‘å®šæ—¶é—´å¤„ç†ç¨‹åºã€‚æˆ‘ä»¬ç»™ä¸¤ä¸ª<code>&lt;input&gt;</code>å…ƒç´ ç»‘å®šäº†<code>onChange</code>å¤„ç†ç¨‹åºã€‚ç°åœ¨ï¼Œå½“ç”¨æˆ·åœ¨<code>&lt;input&gt;</code>ä¸­è¾“å…¥æ–‡å­—ï¼Œç»‘å®šçš„<code>onChange</code>å›è°ƒå‡½æ•°è¢«æ¿€å‘ï¼Œå¹¶ä¸”ç»„ä»¶çš„çŠ¶æ€è¢«ä¿®æ”¹ã€‚éšåï¼Œinputå…ƒç´ çš„å·²æ¸²æŸ“çš„å˜é‡å°†è¢«æ›´æ–°åˆ°ç°åœ¨çš„ç»„ä»¶<code>state</code>ã€‚<br>ï¼ˆç²¾æ˜çš„è¯»è€…å¯èƒ½ä¼šæƒŠè®¶ï¼Œè¿™äº›äº‹ä»¶å¤„ç†ç¨‹åºæŒ‰æè¿°çš„é‚£æ ·å·¥ä½œï¼Œå³æ—¶æ–¹æ³•å¼•ç”¨å¹¶æ²¡æ˜ç¡®çš„ç»‘å®šåˆ°<code>this</code>ã€‚<code>React.createClass(...)</code>ä¼šè‡ªåŠ¨å°†æ¯ä¸ªæ–¹æ³•ç»‘å®šåˆ°å…¶ç»„ä»¶å®ä¾‹ï¼Œé¿å…æ˜¾å¼ç»‘å®šçš„éœ€è¦ã€‚ï¼‰</p>
<h3 id="æäº¤è¡¨å•"><a href="#æäº¤è¡¨å•" class="headerlink" title="æäº¤è¡¨å•"></a>æäº¤è¡¨å•</h3><p>è®©æˆ‘ä»¬æ¥å®ç°è¡¨å•äº¤äº’ã€‚å½“ç”¨æˆ·æäº¤è¡¨å•ï¼Œæˆ‘ä»¬åº”è¯¥æ¸…ç©ºå®ƒï¼Œå‘æœåŠ¡å™¨æäº¤ä¸€ä¸ªè¯·æ±‚ï¼Œå¹¶ä¸”åˆ·æ–°è¯„è®ºåˆ—è¡¨ã€‚é¦–å…ˆï¼Œè®©æˆ‘ä»¬ç›‘å¬è¡¨å•çš„æäº¤æ—¶é—´å¹¶ä¸”æ¸…ç©ºå®ƒã€‚<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// tutorial17.js</span></div><div class="line"><span class="keyword">var</span> CommentForm = React.createClass(&#123;</div><div class="line">  <span class="attr">getInitialState</span>: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="keyword">return</span> &#123;<span class="attr">author</span>: <span class="string">''</span>, <span class="attr">text</span>: <span class="string">''</span>&#125;;</div><div class="line">  &#125;,</div><div class="line">  <span class="attr">handleAuthorChange</span>: <span class="function"><span class="keyword">function</span>(<span class="params">e</span>) </span>&#123;</div><div class="line">    <span class="keyword">this</span>.setState(&#123;<span class="attr">author</span>: e.target.value&#125;);</div><div class="line">  &#125;,</div><div class="line">  <span class="attr">handleTextChange</span>: <span class="function"><span class="keyword">function</span>(<span class="params">e</span>) </span>&#123;</div><div class="line">    <span class="keyword">this</span>.setState(&#123;<span class="attr">text</span>: e.target.value&#125;);</div><div class="line">  &#125;,</div><div class="line">  <span class="attr">handleSubmit</span>: <span class="function"><span class="keyword">function</span>(<span class="params">e</span>) </span>&#123;</div><div class="line">    e.preventDefault();</div><div class="line">    <span class="keyword">var</span> author = <span class="keyword">this</span>.state.author.trim();</div><div class="line">    <span class="keyword">var</span> text = <span class="keyword">this</span>.state.text.trim();</div><div class="line">    <span class="keyword">if</span> (!text || !author) &#123;</div><div class="line">      <span class="keyword">return</span>;</div><div class="line">    &#125;</div><div class="line">    <span class="comment">// <span class="doctag">TODO:</span> send request to the server</span></div><div class="line">    <span class="keyword">this</span>.setState(&#123;<span class="attr">author</span>: <span class="string">''</span>, <span class="attr">text</span>: <span class="string">''</span>&#125;);</div><div class="line">  &#125;,</div><div class="line">  <span class="attr">render</span>: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="keyword">return</span> (</div><div class="line">      &lt;form className="commentForm" onSubmit=&#123;this.handleSubmit&#125;&gt;</div><div class="line">        &lt;input</div><div class="line">          type="text"</div><div class="line">          placeholder="Your name"</div><div class="line">          value=&#123;this.state.author&#125;</div><div class="line">          onChange=&#123;this.handleAuthorChange&#125;</div><div class="line">        /&gt;</div><div class="line">        &lt;input</div><div class="line">          type="text"</div><div class="line">          placeholder="Say something..."</div><div class="line">          value=&#123;this.state.text&#125;</div><div class="line">          onChange=&#123;this.handleTextChange&#125;</div><div class="line">        /&gt;</div><div class="line">        &lt;input type="submit" value="Post" /&gt;</div><div class="line">      &lt;/form&gt;</div><div class="line">    );</div><div class="line">  &#125;</div><div class="line">&#125;);</div></pre></td></tr></table></figure></p>
<p>æˆ‘ä»¬ç»™è¡¨å•ç»‘å®šäº†<code>onSubmit</code>å¤„ç†å‡½æ•°å¹¶ä¸”åœ¨è¡¨å•æäº¤æœ‰æ•ˆè¾“å…¥åæ¸…ç©ºè¡¨å•ã€‚</p>
<p>åœ¨äº‹ä»¶ä¸­è°ƒç”¨<code>prevenDefault()</code>å‡½æ•°æ¥ç»„ç»‡æµè§ˆå™¨æäº¤è¡¨å•çš„é»˜è®¤æ“ä½œã€‚</p>
<h3 id="å›è°ƒå‡½æ•°ä½œä¸ºå±æ€§"><a href="#å›è°ƒå‡½æ•°ä½œä¸ºå±æ€§" class="headerlink" title="å›è°ƒå‡½æ•°ä½œä¸ºå±æ€§"></a>å›è°ƒå‡½æ•°ä½œä¸ºå±æ€§</h3><p>å½“ä¸€ä¸ªç”¨æˆ·æäº¤äº†è¯„è®ºï¼Œæˆ‘ä»¬éœ€è¦åˆ·æ–°è¯„è®ºè¡¨æ¥å¢æ·»æ–°è¯„è®ºã€‚åœ¨<code>CommentBox</code>ä¸­æ‰§è¡Œè¿™äº›é€»è¾‘æ›´æœ‰æ„ä¹‰ï¼Œå› ä¸º<code>CommentBox</code>æ‹¥æœ‰èƒ½ä»£è¡¨è¯„è®ºè¡¨å•çš„çŠ¶æ€ã€‚</p>
<p>æˆ‘ä»¬éœ€è¦ä»å­ç»„ä»¶å›ä¼ æ•°æ®åˆ°çˆ¶ç»„ä»¶ã€‚æˆ‘ä»¬åœ¨çˆ¶ç»„ä»¶çš„<code>render</code>æ–¹æ³•ä¸­ï¼Œé€šè¿‡ç»™å­ç»„ä»¶ä¼ é€’ä¸€ä¸ªæ–°çš„å›è°ƒå‡½æ•°ï¼ˆ<code>handleCommentSubmit</code>ï¼‰æ¥å®ç°ï¼Œç»‘å®šå®ƒåˆ°å­èŠ‚ç‚¹çš„<code>onCommentSubmit</code>äº‹ä»¶ã€‚ä¸ç®¡äº‹ä»¶ä»€ä¹ˆæ—¶å€™è¢«è§¦å‘ï¼Œè¿™ä¸ªå›è°ƒå‡½æ•°éƒ½ä¼šè¢«å”¤èµ·ã€‚<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// tutorial18.js</span></div><div class="line"><span class="keyword">var</span> CommentBox = React.createClass(&#123;</div><div class="line">  <span class="attr">loadCommentsFromServer</span>: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">    $.ajax(&#123;</div><div class="line">      <span class="attr">url</span>: <span class="keyword">this</span>.props.url,</div><div class="line">      <span class="attr">dataType</span>: <span class="string">'json'</span>,</div><div class="line">      <span class="attr">cache</span>: <span class="literal">false</span>,</div><div class="line">      <span class="attr">success</span>: <span class="function"><span class="keyword">function</span>(<span class="params">data</span>) </span>&#123;</div><div class="line">        <span class="keyword">this</span>.setState(&#123;<span class="attr">data</span>: data&#125;);</div><div class="line">      &#125;.bind(<span class="keyword">this</span>),</div><div class="line">      <span class="attr">error</span>: <span class="function"><span class="keyword">function</span>(<span class="params">xhr, status, err</span>) </span>&#123;</div><div class="line">        <span class="built_in">console</span>.error(<span class="keyword">this</span>.props.url, status, err.toString());</div><div class="line">      &#125;.bind(<span class="keyword">this</span>)</div><div class="line">    &#125;);</div><div class="line">  &#125;,</div><div class="line">  <span class="attr">handleCommentSubmit</span>: <span class="function"><span class="keyword">function</span>(<span class="params">comment</span>) </span>&#123;</div><div class="line">    <span class="comment">// <span class="doctag">TODO:</span> submit to the server and refresh the list</span></div><div class="line">  &#125;,</div><div class="line">  <span class="attr">getInitialState</span>: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="keyword">return</span> &#123;<span class="attr">data</span>: []&#125;;</div><div class="line">  &#125;,</div><div class="line">  <span class="attr">componentDidMount</span>: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="keyword">this</span>.loadCommentsFromServer();</div><div class="line">    setInterval(<span class="keyword">this</span>.loadCommentsFromServer, <span class="keyword">this</span>.props.pollInterval);</div><div class="line">  &#125;,</div><div class="line">  <span class="attr">render</span>: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="keyword">return</span> (</div><div class="line">      &lt;div className="commentBox"&gt;</div><div class="line">        &lt;h1&gt;Comments&lt;/h1&gt;</div><div class="line">        &lt;CommentList data=&#123;this.state.data&#125; /&gt;</div><div class="line">        &lt;CommentForm onCommentSubmit=&#123;this.handleCommentSubmit&#125; /&gt;</div><div class="line">      &lt;/div&gt;</div><div class="line">    );</div><div class="line">  &#125;</div><div class="line">&#125;);</div></pre></td></tr></table></figure></p>
<p>æ—¢ç„¶<code>CommentBox</code>å·²ç»é€šè¿‡<code>onCommentSubmit</code>propç»™<code>CommentForm</code>æä¾›äº†å›è°ƒå‡½æ•°ï¼Œå½“ç”¨æˆ·æäº¤è¡¨å•çš„æ—¶å€™<code>CommentForm</code>ä¾¿è¦è°ƒç”¨å›è°ƒå‡½æ•°ï¼š<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// tutorial19.js</span></div><div class="line"><span class="keyword">var</span> CommentForm = React.createClass(&#123;</div><div class="line">  <span class="attr">getInitialState</span>: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="keyword">return</span> &#123;<span class="attr">author</span>: <span class="string">''</span>, <span class="attr">text</span>: <span class="string">''</span>&#125;;</div><div class="line">  &#125;,</div><div class="line">  <span class="attr">handleAuthorChange</span>: <span class="function"><span class="keyword">function</span>(<span class="params">e</span>) </span>&#123;</div><div class="line">    <span class="keyword">this</span>.setState(&#123;<span class="attr">author</span>: e.target.value&#125;);</div><div class="line">  &#125;,</div><div class="line">  <span class="attr">handleTextChange</span>: <span class="function"><span class="keyword">function</span>(<span class="params">e</span>) </span>&#123;</div><div class="line">    <span class="keyword">this</span>.setState(&#123;<span class="attr">text</span>: e.target.value&#125;);</div><div class="line">  &#125;,</div><div class="line">  <span class="attr">handleSubmit</span>: <span class="function"><span class="keyword">function</span>(<span class="params">e</span>) </span>&#123;</div><div class="line">    e.preventDefault();</div><div class="line">    <span class="keyword">var</span> author = <span class="keyword">this</span>.state.author.trim();</div><div class="line">    <span class="keyword">var</span> text = <span class="keyword">this</span>.state.text.trim();</div><div class="line">    <span class="keyword">if</span> (!text || !author) &#123;</div><div class="line">      <span class="keyword">return</span>;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">this</span>.props.onCommentSubmit(&#123;<span class="attr">author</span>: author, <span class="attr">text</span>: text&#125;);</div><div class="line">    <span class="keyword">this</span>.setState(&#123;<span class="attr">author</span>: <span class="string">''</span>, <span class="attr">text</span>: <span class="string">''</span>&#125;);</div><div class="line">  &#125;,</div><div class="line">  <span class="attr">render</span>: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="keyword">return</span> (</div><div class="line">      &lt;form className="commentForm" onSubmit=&#123;this.handleSubmit&#125;&gt;</div><div class="line">        &lt;input</div><div class="line">          type="text"</div><div class="line">          placeholder="Your name"</div><div class="line">          value=&#123;this.state.author&#125;</div><div class="line">          onChange=&#123;this.handleAuthorChange&#125;</div><div class="line">        /&gt;</div><div class="line">        &lt;input</div><div class="line">          type="text"</div><div class="line">          placeholder="Say something..."</div><div class="line">          value=&#123;this.state.text&#125;</div><div class="line">          onChange=&#123;this.handleTextChange&#125;</div><div class="line">        /&gt;</div><div class="line">        &lt;input type="submit" value="Post" /&gt;</div><div class="line">      &lt;/form&gt;</div><div class="line">    );</div><div class="line">  &#125;</div><div class="line">&#125;);</div></pre></td></tr></table></figure></p>
<p>ç°åœ¨å›è°ƒå·²ç»å°±ç»ªï¼Œæˆ‘ä»¬æ‰€è¦åšçš„å°±æ˜¯æäº¤åˆ°æœåŠ¡å™¨å¹¶åˆ·æ–°åˆ—è¡¨ï¼š<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// tutorial20.js</span></div><div class="line"><span class="keyword">var</span> CommentBox = React.createClass(&#123;</div><div class="line">  <span class="attr">loadCommentsFromServer</span>: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">    $.ajax(&#123;</div><div class="line">      <span class="attr">url</span>: <span class="keyword">this</span>.props.url,</div><div class="line">      <span class="attr">dataType</span>: <span class="string">'json'</span>,</div><div class="line">      <span class="attr">cache</span>: <span class="literal">false</span>,</div><div class="line">      <span class="attr">success</span>: <span class="function"><span class="keyword">function</span>(<span class="params">data</span>) </span>&#123;</div><div class="line">        <span class="keyword">this</span>.setState(&#123;<span class="attr">data</span>: data&#125;);</div><div class="line">      &#125;.bind(<span class="keyword">this</span>),</div><div class="line">      <span class="attr">error</span>: <span class="function"><span class="keyword">function</span>(<span class="params">xhr, status, err</span>) </span>&#123;</div><div class="line">        <span class="built_in">console</span>.error(<span class="keyword">this</span>.props.url, status, err.toString());</div><div class="line">      &#125;.bind(<span class="keyword">this</span>)</div><div class="line">    &#125;);</div><div class="line">  &#125;,</div><div class="line">  <span class="attr">handleCommentSubmit</span>: <span class="function"><span class="keyword">function</span>(<span class="params">comment</span>) </span>&#123;</div><div class="line">    $.ajax(&#123;</div><div class="line">      <span class="attr">url</span>: <span class="keyword">this</span>.props.url,</div><div class="line">      <span class="attr">dataType</span>: <span class="string">'json'</span>,</div><div class="line">      <span class="attr">type</span>: <span class="string">'POST'</span>,</div><div class="line">      <span class="attr">data</span>: comment,</div><div class="line">      <span class="attr">success</span>: <span class="function"><span class="keyword">function</span>(<span class="params">data</span>) </span>&#123;</div><div class="line">        <span class="keyword">this</span>.setState(&#123;<span class="attr">data</span>: data&#125;);</div><div class="line">      &#125;.bind(<span class="keyword">this</span>),</div><div class="line">      <span class="attr">error</span>: <span class="function"><span class="keyword">function</span>(<span class="params">xhr, status, err</span>) </span>&#123;</div><div class="line">        <span class="built_in">console</span>.error(<span class="keyword">this</span>.props.url, status, err.toString());</div><div class="line">      &#125;.bind(<span class="keyword">this</span>)</div><div class="line">    &#125;);</div><div class="line">  &#125;,</div><div class="line">  <span class="attr">getInitialState</span>: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="keyword">return</span> &#123;<span class="attr">data</span>: []&#125;;</div><div class="line">  &#125;,</div><div class="line">  <span class="attr">componentDidMount</span>: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="keyword">this</span>.loadCommentsFromServer();</div><div class="line">    setInterval(<span class="keyword">this</span>.loadCommentsFromServer, <span class="keyword">this</span>.props.pollInterval);</div><div class="line">  &#125;,</div><div class="line">  <span class="attr">render</span>: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="keyword">return</span> (</div><div class="line">      &lt;div className="commentBox"&gt;</div><div class="line">        &lt;h1&gt;Comments&lt;/h1&gt;</div><div class="line">        &lt;CommentList data=&#123;this.state.data&#125; /&gt;</div><div class="line">        &lt;CommentForm onCommentSubmit=&#123;this.handleCommentSubmit&#125; /&gt;</div><div class="line">      &lt;/div&gt;</div><div class="line">    );</div><div class="line">  &#125;</div><div class="line">&#125;);</div></pre></td></tr></table></figure></p>
<h2 id="ä¼˜åŒ–ï¼šä¼˜åŒ–çš„æ›´æ–°"><a href="#ä¼˜åŒ–ï¼šä¼˜åŒ–çš„æ›´æ–°" class="headerlink" title="ä¼˜åŒ–ï¼šä¼˜åŒ–çš„æ›´æ–°"></a>ä¼˜åŒ–ï¼šä¼˜åŒ–çš„æ›´æ–°</h2><p>æˆ‘ä»¬çš„åº”ç”¨ç°åœ¨å·²ç»åŠŸèƒ½é½å…¨ï¼Œä½†æ˜¯å®ƒæ„Ÿè§‰å¾ˆæ…¢ï¼Œå› ä¸ºåœ¨è¯„è®ºå±•ç°åœ¨åˆ—è¡¨å‰å¿…é¡»è¦ç­‰å¾…æœåŠ¡å™¨è¯·æ±‚å®Œæˆã€‚æˆ‘ä»¬å¯ä»¥ä¼˜åŒ–æ·»åŠ è¯„è®ºåˆ°åˆ—è¡¨æ¥ä½¿åº”ç”¨æ„Ÿè§‰æ›´å¿«ã€‚<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// tutorial21.js</span></div><div class="line"><span class="keyword">var</span> CommentBox = React.createClass(&#123;</div><div class="line">  <span class="attr">loadCommentsFromServer</span>: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">    $.ajax(&#123;</div><div class="line">      <span class="attr">url</span>: <span class="keyword">this</span>.props.url,</div><div class="line">      <span class="attr">dataType</span>: <span class="string">'json'</span>,</div><div class="line">      <span class="attr">cache</span>: <span class="literal">false</span>,</div><div class="line">      <span class="attr">success</span>: <span class="function"><span class="keyword">function</span>(<span class="params">data</span>) </span>&#123;</div><div class="line">        <span class="keyword">this</span>.setState(&#123;<span class="attr">data</span>: data&#125;);</div><div class="line">      &#125;.bind(<span class="keyword">this</span>),</div><div class="line">      <span class="attr">error</span>: <span class="function"><span class="keyword">function</span>(<span class="params">xhr, status, err</span>) </span>&#123;</div><div class="line">        <span class="built_in">console</span>.error(<span class="keyword">this</span>.props.url, status, err.toString());</div><div class="line">      &#125;.bind(<span class="keyword">this</span>)</div><div class="line">    &#125;);</div><div class="line">  &#125;,</div><div class="line">  <span class="attr">handleCommentSubmit</span>: <span class="function"><span class="keyword">function</span>(<span class="params">comment</span>) </span>&#123;</div><div class="line">    <span class="keyword">var</span> comments = <span class="keyword">this</span>.state.data;</div><div class="line">    <span class="comment">// Optimistically set an id on the new comment. It will be replaced by an</span></div><div class="line">    <span class="comment">// id generated by the server. In a production application you would likely</span></div><div class="line">    <span class="comment">// not use Date.now() for this and would have a more robust system in place.</span></div><div class="line">    comment.id = <span class="built_in">Date</span>.now();</div><div class="line">    <span class="keyword">var</span> newComments = comments.concat([comment]);</div><div class="line">    <span class="keyword">this</span>.setState(&#123;<span class="attr">data</span>: newComments&#125;);</div><div class="line">    $.ajax(&#123;</div><div class="line">      <span class="attr">url</span>: <span class="keyword">this</span>.props.url,</div><div class="line">      <span class="attr">dataType</span>: <span class="string">'json'</span>,</div><div class="line">      <span class="attr">type</span>: <span class="string">'POST'</span>,</div><div class="line">      <span class="attr">data</span>: comment,</div><div class="line">      <span class="attr">success</span>: <span class="function"><span class="keyword">function</span>(<span class="params">data</span>) </span>&#123;</div><div class="line">        <span class="keyword">this</span>.setState(&#123;<span class="attr">data</span>: data&#125;);</div><div class="line">      &#125;.bind(<span class="keyword">this</span>),</div><div class="line">      <span class="attr">error</span>: <span class="function"><span class="keyword">function</span>(<span class="params">xhr, status, err</span>) </span>&#123;</div><div class="line">        <span class="keyword">this</span>.setState(&#123;<span class="attr">data</span>: comments&#125;);</div><div class="line">        <span class="built_in">console</span>.error(<span class="keyword">this</span>.props.url, status, err.toString());</div><div class="line">      &#125;.bind(<span class="keyword">this</span>)</div><div class="line">    &#125;);</div><div class="line">  &#125;,</div><div class="line">  <span class="attr">getInitialState</span>: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="keyword">return</span> &#123;<span class="attr">data</span>: []&#125;;</div><div class="line">  &#125;,</div><div class="line">  <span class="attr">componentDidMount</span>: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="keyword">this</span>.loadCommentsFromServer();</div><div class="line">    setInterval(<span class="keyword">this</span>.loadCommentsFromServer, <span class="keyword">this</span>.props.pollInterval);</div><div class="line">  &#125;,</div><div class="line">  <span class="attr">render</span>: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="keyword">return</span> (</div><div class="line">      &lt;div className="commentBox"&gt;</div><div class="line">        &lt;h1&gt;Comments&lt;/h1&gt;</div><div class="line">        &lt;CommentList data=&#123;this.state.data&#125; /&gt;</div><div class="line">        &lt;CommentForm onCommentSubmit=&#123;this.handleCommentSubmit&#125; /&gt;</div><div class="line">      &lt;/div&gt;</div><div class="line">    );</div><div class="line">  &#125;</div><div class="line">&#125;);</div></pre></td></tr></table></figure></p>
<h2 id="ç¥è´ºä½ ï¼"><a href="#ç¥è´ºä½ ï¼" class="headerlink" title="ç¥è´ºä½ ï¼"></a>ç¥è´ºä½ ï¼</h2><p>ä½ å·²ç»ç”¨ä¸€äº›ç®€å•çš„æ­¥éª¤æ­å»ºäº†ä¸€ä¸ªè¯„è®ºæ¡†ã€‚å­¦ä¹ æ›´å¤šå…³äº<a href="">ä¸ºä»€ä¹ˆä½¿ç”¨React</a>ï¼Œæˆ–è€…è·³è½¬åˆ°<a href="">APIæŒ‡å—</a>æ¥å¼€å§‹ç¼–ç¨‹ï¼ç¥ä½ å¥½è¿ã€‚</p>
]]></content>
      
        <categories>
            
            <category> React </category>
            
        </categories>
        
        
        <tags>
            
            <tag> React </tag>
            
            <tag> Javascript </tag>
            
            <tag> Book </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[Reactä¸­æ–‡æ–‡æ¡£(ä¸€)Getting Started]]></title>
      <url>http://yoursite.com/2017/03/06/React%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A3(%E4%B8%80)/</url>
      <content type="html"><![CDATA[<p><img src="https://ooo.0o0.ooo/2017/03/08/58bf86c6ce2b1.jpg" style="width:70%"></p>
<p>æœ¬æ–‡ç¿»è¯‘è‡ª<a href="http://reactjs.cn/react/docs/getting-started.html" target="_blank" rel="external">Reactå®˜ç½‘æ•™ç¨‹</a>,æ¬¢è¿æŒ‡å‡ºé”™è¯¯ã€‚<br><a id="more"></a></p>
<h2 id="JSFiddle"><a href="#JSFiddle" class="headerlink" title="JSFiddle"></a>JSFiddle</h2><p>å¼€å§‹å­¦ä¹  React çš„æœ€ç®€å•çš„æ–¹æ³•æ˜¯ç”¨ä¸‹é¢ JSFiddle çš„ Hello Worldä¾‹å­ï¼š</p>
<ul>
<li><a href="https://jsfiddle.net/reactjs/69z2wepo/" target="_blank" rel="external">React JSFiddle</a></li>
<li><a href="https://jsfiddle.net/reactjs/5vjqabv3/" target="_blank" rel="external">React JSFiddle without JSX</a></li>
</ul>
<h2 id="åˆå§‹åŒ…"><a href="#åˆå§‹åŒ…" class="headerlink" title="åˆå§‹åŒ…"></a>åˆå§‹åŒ…</h2><p>å¦‚æœä½ åªæ˜¯åˆšå…¥é—¨ï¼Œä½ å¯ä»¥ä¸‹è½½åˆå§‹å¥—ä»¶ã€‚å®ƒåŒ…å«äº†é¢„ç¼–è¯‘å¥½çš„Reactå’ŒReact DOMï¼Œè¿˜æœ‰ä¸€äº›ç”¨ä¾‹ä»£ç æ¥å¸®ä½ æ›´å¿«å…¥é—¨ã€‚</p>
<p><div style="text-align:center"><a href="http://reactjs.cn/react/downloads/react-15.3.1.zip" style="font-size:15px;color:#286834;border:1px solid green;border-radius:5px;display:inline-block;padding:5px;width:250px;line-height:30px" target="_blank" rel="external">ä¸‹è½½åˆå§‹å¥—ä»¶</a></div><br></p>
<p>åœ¨å¥—ä»¶çš„æ ¹ç›®å½•ä¸‹æ–°å»º<code>helloworld.html</code>ï¼Œä»£ç å¦‚ä¸‹ï¼š<br><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span> /&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Hello React!<span class="tag">&lt;/<span class="name">title</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"build/react.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"build/react-dom.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"https://npmcdn.com/babel-core@5.8.38/browser.min.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"example"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/babel"</span>&gt;</span><span class="xml"></span></div><div class="line">      ReactDOM.render(</div><div class="line">        <span class="tag">&lt;<span class="name">h1</span>&gt;</span>Hello, world!<span class="tag">&lt;/<span class="name">h1</span>&gt;</span>,</div><div class="line">        document.getElementById('example')</div><div class="line">      );</div><div class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></div></pre></td></tr></table></figure></p>
<p>JavaScriptä¸­åŒ…å«çš„ç±»ä¼¼XMLçš„è¯­æ³•å«åšJSXã€‚ä½ å¯ä»¥é€šè¿‡å­¦ä¹ åé¢çš„JSXè¯­æ³•æ•™ç¨‹æ¥å­¦ä¹ ã€‚æˆ‘ä»¬ä½¿ç”¨<code>&lt;script type=&quot;text/babel&quot;&gt;</code>æŠŠå®ƒè½¬æ¢æˆæ™®é€šJavascriptä»£ç ï¼Œå¼•å…¥babelå®ç°åœ¨æµè§ˆå™¨ä¸­çš„ä»£ç è½¬æ¢ã€‚ç°åœ¨åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€è¿™ä¸ªhtmlæ–‡ä»¶å°±å¯ä»¥çœ‹åˆ°æ¬¢è¿ç•Œé¢ï¼</p>
<h3 id="åˆ†ç¦»æ–‡ä»¶"><a href="#åˆ†ç¦»æ–‡ä»¶" class="headerlink" title="åˆ†ç¦»æ–‡ä»¶"></a>åˆ†ç¦»æ–‡ä»¶</h3><p>ä½ çš„Reactä»£ç å¯ä»¥è¢«å•ç‹¬æ”¾ç½®åœ¨ä¸€ä¸ªæ–‡ä»¶é‡Œã€‚æ–°å»º<code>src/helloworld.js</code>æ–‡ä»¶ã€‚<br><figure class="highlight jsx"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">ReactDOM.render(</div><div class="line">  <span class="xml"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>Hello, world!<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span>,</div><div class="line">  <span class="built_in">document</span>.getElementById(<span class="string">'example'</span>)</div><div class="line">);</div></pre></td></tr></table></figure></p>
<p>ç„¶ååœ¨<code>helloworld.html</code>ä¸­é“¾æ¥å®ƒ<br><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/babel"</span> <span class="attr">src</span>=<span class="string">"src/helloworld.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div></pre></td></tr></table></figure></p>
<p>æ³¨æ„ï¼Œä¸€äº›æµè§ˆå™¨ï¼ˆæ¯”å¦‚Chromeï¼‰ä¸­åŠ è½½ä¸å‡ºæ–‡ä»¶ï¼Œé™¤éå®ƒå·²ç»è¿è¡Œåœ¨æœåŠ¡å™¨ä¸­ã€‚</p>
<h2 id="ä½¿ç”¨React"><a href="#ä½¿ç”¨React" class="headerlink" title="ä½¿ç”¨React"></a>ä½¿ç”¨React</h2><p>ä½ å¯ä»¥é€šè¿‡ä»¥ä¸‹ä¸‰ç§æ–¹æ³•ä½¿ç”¨React</p>
<h3 id="ä½¿ç”¨æ‰˜ç®¡åœ¨CDNä¸Šçš„React"><a href="#ä½¿ç”¨æ‰˜ç®¡åœ¨CDNä¸Šçš„React" class="headerlink" title="ä½¿ç”¨æ‰˜ç®¡åœ¨CDNä¸Šçš„React"></a>ä½¿ç”¨æ‰˜ç®¡åœ¨CDNä¸Šçš„React</h3><p>æˆ‘ä»¬åœ¨<a href="http://reactjs.cn/react/downloads.html" target="_blank" rel="external">ä¸‹è½½é¡µé¢</a>æä¾›äº†æ‰˜ç®¡åœ¨CDNä¸Šçš„ç‰ˆæœ¬ã€‚è¿™äº›é¢„ç¼–è¯‘çš„æ–‡ä»¶ä½¿ç”¨UMDæ ¼å¼åŒ–ã€‚é€šè¿‡<code>&lt;script&gt;</code>æ ‡ç­¾æ¥æŠŠ<code>React</code>å’Œ<code>ReactDOM</code>å¼•å…¥ä½ çš„å…¨å±€ç¯å¢ƒã€‚<strong><em>It should also work out-of-the-box in CommonJS and AMD environments.</em></strong></p>
<h3 id="é€šè¿‡npmä½¿ç”¨React"><a href="#é€šè¿‡npmä½¿ç”¨React" class="headerlink" title="é€šè¿‡npmä½¿ç”¨React"></a>é€šè¿‡npmä½¿ç”¨React</h3><p>ä½ å¯ä»¥åœ¨Reactä¸­ä½¿ç”¨CommonJSæ¨¡å—ç³»ç»Ÿï¼Œæ¯”å¦‚<a href="http://browserify.org/" target="_blank" rel="external">browserify</a>å’Œ<a href="https://webpack.github.io/" target="_blank" rel="external">webpack</a>ã€‚æ¥ä½¿ç”¨<a href="https://www.npmjs.com/package/react" target="_blank" rel="external">react</a>å’Œ<a href="https://www.npmjs.com/package/react-dom" target="_blank" rel="external">react-dom</a> npmåŒ…ã€‚<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// main.js</span></div><div class="line"><span class="keyword">var</span> React = <span class="built_in">require</span>(<span class="string">'react'</span>);</div><div class="line"><span class="keyword">var</span> ReactDOM = <span class="built_in">require</span>(<span class="string">'react-dom'</span>);</div><div class="line"></div><div class="line">ReactDOM.render(</div><div class="line">  <span class="xml"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>Hello, world!<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span>,</div><div class="line">  <span class="built_in">document</span>.getElementById(<span class="string">'example'</span>)</div><div class="line">);</div></pre></td></tr></table></figure></p>
<p>ä½¿ç”¨<code>.babelrc</code>æ–‡ä»¶æ¥é…ç½®<code>babel</code><br><figure class="highlight json"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&#123; <span class="attr">"presets"</span>: [<span class="string">"react"</span>] &#125;</div></pre></td></tr></table></figure></p>
<blockquote>
<p><strong>Note:</strong><br>å¦‚æœä½ åœ¨ä½¿ç”¨ES2015ï¼Œä½ ä¹Ÿéœ€è¦ä½¿ç”¨<code>babel-preset-es2015</code>åŒ…</p>
</blockquote>
<ul>
<li><p>ä½¿ç”¨browserifyå®‰è£…React DOMå’Œæ„å»ºä½ çš„åŒ…</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">$ npm install --save react react-dom babelify babel-preset-react</div><div class="line">$ browserify -t [ babelify ] main.js -o bundle.js</div></pre></td></tr></table></figure>
</li>
<li><p>ä½¿ç”¨webpackå®‰è£…React DOMå’Œæ„å»ºä½ çš„åŒ…</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">$ npm install --save react react-dom babel-preset-react babel-loader babel-core</div><div class="line">$ webpack main.js bundle.js --module-bind &apos;js=babel-loader&apos;</div></pre></td></tr></table></figure>
</li>
</ul>
<p><strong>Note:</strong><br>Reacté»˜è®¤çš„æ˜¯å¼€å‘æ¨¡å¼ï¼Œé€Ÿåº¦ç¼“æ…¢ä¸å»ºè®®å‘—ç”¨äºç”Ÿäº§ä¸­ã€‚ä¸ºäº†ä½¿ç”¨ç”Ÿäº§æ¨¡å¼ï¼Œè¦æŠŠç¯å¢ƒå˜é‡<code>NODE_ENV</code>æ”¹ä¸º<code>produxtion</code>ï¼ˆ<strong><em>using envify or webpackâ€™s DefinePlugin</em></strong>ï¼‰ã€‚æ¯”å¦‚ï¼Œ<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">new</span> webpack.DefinePlugin(&#123;</div><div class="line">  <span class="string">"process.env"</span>: &#123;</div><div class="line">    <span class="attr">NODE_ENV</span>: <span class="built_in">JSON</span>.stringify(<span class="string">"production"</span>)</div><div class="line">  &#125;</div><div class="line">&#125;);</div></pre></td></tr></table></figure></p>
<p>htmlæ–‡ä»¶æ›´æ–°ä¸º<br><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span> /&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Hello React!<span class="tag">&lt;/<span class="name">title</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"build/react.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"build/react-dom.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line">    <span class="comment">&lt;!-- No need for Babel! --&gt;</span></div><div class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"example"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"build/helloworld.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></div></pre></td></tr></table></figure></p>
<h3 id="é€šè¿‡Bowerä½¿ç”¨React"><a href="#é€šè¿‡Bowerä½¿ç”¨React" class="headerlink" title="é€šè¿‡Bowerä½¿ç”¨React"></a>é€šè¿‡Bowerä½¿ç”¨React</h3><p>Boweræ˜¯ä¸€ä¸ªç”¨äºå‰ç«¯ä¼˜åŒ–å¼€å‘çš„åŒ…ç®¡ç†å™¨ã€‚å¦‚æœå¤šä¸ªåŒ…ä¾èµ–äºä¸€ä¸ªåŒ…ï¼Œæ¯”å¦‚jqueryï¼ŒBowerå°†åªéœ€ä¸‹è½½ä¸€æ¬¡jqueryã€‚<strong><em>This is known as a flat dependency graph and it helps reduce page load. </em></strong>æƒ³äº†è§£æ›´å¤šçš„ä¿¡æ¯ï¼Œå»è®¿é—®å®ƒçš„<a href="http://bower.io/" target="_blank" rel="external">å®˜ç½‘</a>ã€‚</p>
<p>å¦‚æœä½ ä½¿ç”¨bowerï¼ŒåŒæ ·å¾ˆå®¹æ˜“<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">bower install --save react</div></pre></td></tr></table></figure></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span> /&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Hello React!<span class="tag">&lt;/<span class="name">title</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"bower_components/react/react.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"bower_components/react/react-dom.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"https://npmcdn.com/babel-core@5.8.38/browser.min.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"example"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/babel"</span>&gt;</span><span class="javascript"></span></div><div class="line">      ReactDOM.render(</div><div class="line">        <span class="xml"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>Hello, world!<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span>,</div><div class="line">        <span class="built_in">document</span>.getElementById(<span class="string">'example'</span>)</div><div class="line">      );</div><div class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></div></pre></td></tr></table></figure>
]]></content>
      
        <categories>
            
            <category> React </category>
            
        </categories>
        
        
        <tags>
            
            <tag> React </tag>
            
            <tag> Javascript </tag>
            
            <tag> Book </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[Javascriptå­¦ä¹ ç¬”è®°]]></title>
      <url>http://yoursite.com/2016/09/02/js%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/</url>
      <content type="html"><![CDATA[<p><img src="https://udemy-images.udemy.com/course/750x422/672274_cd11_2.jpg" style="width:70%"></p>
<p>[æ•°ç»„+å‡½æ•°+å¯¹è±¡+é¢å‘å¯¹è±¡]<br><a id="more"></a></p>
<h3 id="Firstly"><a href="#Firstly" class="headerlink" title="Firstly"></a>Firstly</h3><h4 id="æ•°ç»„"><a href="#æ•°ç»„" class="headerlink" title="æ•°ç»„"></a>æ•°ç»„</h4><h5 id="å‡ ç§å¸¸ç”¨æ–¹æ³•ï¼š"><a href="#å‡ ç§å¸¸ç”¨æ–¹æ³•ï¼š" class="headerlink" title="å‡ ç§å¸¸ç”¨æ–¹æ³•ï¼š"></a>å‡ ç§å¸¸ç”¨æ–¹æ³•ï¼š</h5><ul>
<li><code>indexOf()</code> æ¥æœç´¢ä¸€ä¸ªæŒ‡å®šçš„å…ƒç´ çš„ä½ç½®</li>
<li><p><code>slice()</code>å°±æ˜¯å¯¹åº”Stringçš„<code>substring()</code>ç‰ˆæœ¬ï¼Œå®ƒæˆªå–Arrayçš„éƒ¨åˆ†å…ƒç´ ï¼Œç„¶åè¿”å›ä¸€ä¸ªæ–°çš„Arrayã€‚</p>
<ul>
<li><p>æ³¨æ„åˆ°<code>slice()</code>çš„èµ·æ­¢å‚æ•°åŒ…æ‹¬å¼€å§‹ç´¢å¼•ï¼Œä¸åŒ…æ‹¬ç»“æŸç´¢å¼•ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> arr = [<span class="string">'A'</span>, <span class="string">'B'</span>, <span class="string">'C'</span>, <span class="string">'D'</span>, <span class="string">'E'</span>, <span class="string">'F'</span>, <span class="string">'G'</span>];</div><div class="line">arr.slice(<span class="number">0</span>, <span class="number">3</span>); <span class="comment">// ä»ç´¢å¼•0å¼€å§‹ï¼Œåˆ°ç´¢å¼•3ç»“æŸï¼Œä½†ä¸åŒ…æ‹¬ç´¢å¼•3: ['A', 'B', 'C']</span></div><div class="line">arr.slice(<span class="number">3</span>); <span class="comment">// ä»ç´¢å¼•3å¼€å§‹åˆ°ç»“æŸ: ['D', 'E', 'F', 'G']</span></div></pre></td></tr></table></figure>
</li>
<li><p>å¦‚æœä¸ç»™<code>slice()</code>ä¼ é€’ä»»ä½•å‚æ•°ï¼Œå®ƒå°±ä¼šä»å¤´åˆ°å°¾æˆªå–æ‰€æœ‰å…ƒç´ ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> arr = [<span class="string">'A'</span>, <span class="string">'B'</span>, <span class="string">'C'</span>, <span class="string">'D'</span>, <span class="string">'E'</span>, <span class="string">'F'</span>, <span class="string">'G'</span>];</div><div class="line"><span class="keyword">var</span> aCopy = arr.slice();</div><div class="line">aCopy; <span class="comment">// ['A', 'B', 'C', 'D', 'E', 'F', 'G']</span></div><div class="line">aCopy === arr; <span class="comment">// false</span></div></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ul>
<ul>
<li><code>push()</code>å‘Arrayçš„æœ«å°¾æ·»åŠ è‹¥å¹²å…ƒç´ ï¼Œ<code>pop()</code>åˆ™æŠŠArrayçš„æœ€åä¸€ä¸ªå…ƒç´ åˆ é™¤æ‰ï¼š</li>
<li>å¦‚æœè¦å¾€Arrayçš„å¤´éƒ¨æ·»åŠ è‹¥å¹²å…ƒç´ ï¼Œä½¿ç”¨<code>unshift()</code>æ–¹æ³•ï¼Œ<code>shift()</code>æ–¹æ³•åˆ™æŠŠArrayçš„ç¬¬ä¸€ä¸ªå…ƒç´ åˆ æ‰</li>
<li><p><code>splice()</code>æ–¹æ³•æ˜¯ä¿®æ”¹Arrayçš„â€œä¸‡èƒ½æ–¹æ³•â€ï¼Œå®ƒå¯ä»¥ä»æŒ‡å®šçš„ç´¢å¼•å¼€å§‹åˆ é™¤è‹¥å¹²å…ƒç´ ï¼Œç„¶åå†ä»è¯¥ä½ç½®æ·»åŠ è‹¥å¹²å…ƒç´ </p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">arr.splice(<span class="number">2</span>, <span class="number">3</span>, <span class="string">'Google'</span>, <span class="string">'Facebook'</span>);<span class="comment">//ä»ç´¢å¼•2å¼€å§‹åˆ é™¤ä¸‰ä¸ªå…ƒç´ å¹¶æ·»åŠ ä¸¤ä¸ªå…ƒç´ </span></div></pre></td></tr></table></figure>
</li>
<li><p><code>join()</code>æ–¹æ³•æŠŠå½“å‰Arrayçš„æ¯ä¸ªå…ƒç´ éƒ½ç”¨æŒ‡å®šçš„å­—ç¬¦ä¸²è¿æ¥èµ·æ¥ï¼Œç„¶åè¿”å›è¿æ¥åçš„å­—ç¬¦ä¸²</p>
</li>
</ul>
<h4 id="å¯¹è±¡"><a href="#å¯¹è±¡" class="headerlink" title="å¯¹è±¡"></a>å¯¹è±¡</h4><ul>
<li>å¦‚æœæˆ‘ä»¬è¦æ£€æµ‹xiaomingæ˜¯å¦æ‹¥æœ‰æŸä¸€å±æ€§ï¼Œå¯ä»¥ç”¨<code>in</code>æ“ä½œç¬¦ï¼š<code>&#39;name&#39; in xiaoming</code>;</li>
<li>ä¸è¿‡è¦å°å¿ƒï¼Œå¦‚æœinåˆ¤æ–­ä¸€ä¸ªå±æ€§å­˜åœ¨ï¼Œè¿™ä¸ªå±æ€§ä¸ä¸€å®šæ˜¯xiaomingçš„ï¼Œå®ƒå¯èƒ½æ˜¯xiaomingç»§æ‰¿å¾—åˆ°çš„ï¼šè¦åˆ¤æ–­ä¸€ä¸ªå±æ€§æ˜¯å¦æ˜¯xiaomingè‡ªèº«æ‹¥æœ‰çš„ï¼Œè€Œä¸æ˜¯ç»§æ‰¿å¾—åˆ°çš„ï¼Œå¯ä»¥ç”¨<code>hasOwnProperty(&#39;name&#39;)</code>æ–¹æ³•ï¼š</li>
</ul>
<h4 id="Mapå’ŒSet"><a href="#Mapå’ŒSet" class="headerlink" title="Mapå’ŒSet"></a>Mapå’ŒSet</h4><p>JavaScriptçš„é»˜è®¤å¯¹è±¡è¡¨ç¤ºæ–¹å¼{}å¯ä»¥è§†ä¸ºå…¶ä»–è¯­è¨€ä¸­çš„Mapæˆ–Dictionaryçš„æ•°æ®ç»“æ„ï¼Œå³ä¸€ç»„é”®å€¼å¯¹ã€‚ä½†æ˜¯JavaScriptçš„å¯¹è±¡æœ‰ä¸ªå°é—®é¢˜ï¼Œå°±æ˜¯é”®å¿…é¡»æ˜¯å­—ç¬¦ä¸²ã€‚ä½†å®é™…ä¸ŠNumberæˆ–è€…å…¶ä»–æ•°æ®ç±»å‹ä½œä¸ºé”®ä¹Ÿæ˜¯éå¸¸åˆç†çš„ã€‚</p>
<ul>
<li><p>ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæœ€æ–°çš„ES6è§„èŒƒå¼•å…¥äº†æ–°çš„æ•°æ®ç±»å‹Map</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> m = <span class="keyword">new</span> <span class="built_in">Map</span>([[<span class="string">'Michael'</span>, <span class="number">95</span>], [<span class="string">'Bob'</span>, <span class="number">75</span>], [<span class="string">'Tracy'</span>, <span class="number">85</span>]]);</div><div class="line">m.get(<span class="string">'Michael'</span>); <span class="comment">// 95</span></div><div class="line">m.set(<span class="string">'Adam'</span>, <span class="number">67</span>); <span class="comment">// æ·»åŠ æ–°çš„key-value</span></div></pre></td></tr></table></figure>
</li>
<li><p>Setå’ŒMapç±»ä¼¼ï¼Œä¹Ÿæ˜¯ä¸€ç»„keyçš„é›†åˆï¼Œä½†ä¸å­˜å‚¨valueã€‚ç”±äºkeyä¸èƒ½é‡å¤ï¼Œæ‰€ä»¥ï¼Œåœ¨Setä¸­ï¼Œæ²¡æœ‰é‡å¤çš„keyã€‚è¦åˆ›å»ºä¸€ä¸ªSetï¼Œéœ€è¦æä¾›ä¸€ä¸ªArrayä½œä¸ºè¾“å…¥ï¼Œæˆ–è€…ç›´æ¥åˆ›å»ºä¸€ä¸ªç©ºSetï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> s1 = <span class="keyword">new</span> <span class="built_in">Set</span>(); <span class="comment">// ç©ºSet</span></div><div class="line"><span class="keyword">var</span> s2 = <span class="keyword">new</span> <span class="built_in">Set</span>([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]); <span class="comment">// å«1, 2, 3</span></div><div class="line"><span class="comment">//é‡å¤å…ƒç´ åœ¨Setä¸­è‡ªåŠ¨è¢«è¿‡æ»¤</span></div></pre></td></tr></table></figure>
</li>
</ul>
<h4 id="iterable"><a href="#iterable" class="headerlink" title="iterable"></a>iterable</h4><p>éå†Arrayå¯ä»¥é‡‡ç”¨ä¸‹æ ‡å¾ªç¯ï¼Œéå†Mapå’ŒSetå°±æ— æ³•ä½¿ç”¨ä¸‹æ ‡ã€‚ä¸ºäº†ç»Ÿä¸€é›†åˆç±»å‹ï¼ŒES6æ ‡å‡†å¼•å…¥äº†æ–°çš„iterableç±»å‹ï¼ŒArrayã€Mapå’ŒSetéƒ½å±äºiterableç±»å‹ã€‚å…·æœ‰iterableç±»å‹çš„é›†åˆå¯ä»¥é€šè¿‡æ–°çš„<code>for ... of</code>å¾ªç¯æ¥éå†ã€‚(<code>for ... of</code>å¾ªç¯æ˜¯ES6å¼•å…¥çš„æ–°çš„è¯­æ³•)</p>
<h5 id="for-â€¦-ofå¾ªç¯å’Œfor-â€¦-inå¾ªç¯æœ‰ä½•åŒºåˆ«ï¼Ÿ"><a href="#for-â€¦-ofå¾ªç¯å’Œfor-â€¦-inå¾ªç¯æœ‰ä½•åŒºåˆ«ï¼Ÿ" class="headerlink" title="for â€¦ ofå¾ªç¯å’Œfor â€¦ inå¾ªç¯æœ‰ä½•åŒºåˆ«ï¼Ÿ"></a>for â€¦ ofå¾ªç¯å’Œfor â€¦ inå¾ªç¯æœ‰ä½•åŒºåˆ«ï¼Ÿ</h5><p>for â€¦ ofå¾ªç¯åªå¾ªç¯é›†åˆæœ¬èº«çš„å…ƒç´  inè¿˜éå†ç»§æ‰¿æ¥çš„å±æ€§</p>
<h5 id="forEachæ–¹æ³•"><a href="#forEachæ–¹æ³•" class="headerlink" title="forEachæ–¹æ³•"></a>forEachæ–¹æ³•</h5><p>æ›´å¥½çš„æ–¹æ³•æ˜¯<code>forEach</code>æ–¹æ³•ï¼Œå®ƒæ¥æ”¶ä¸€ä¸ªå‡½æ•°ï¼Œæ¯æ¬¡è¿­ä»£å°±è‡ªåŠ¨å›è°ƒè¯¥å‡½æ•°ã€‚ä»¥Arrayä¸ºä¾‹ï¼š<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> a = [<span class="string">'A'</span>, <span class="string">'B'</span>, <span class="string">'C'</span>];</div><div class="line">a.forEach(<span class="function"><span class="keyword">function</span> (<span class="params">element, index, array</span>) </span>&#123;</div><div class="line">	<span class="comment">// element: æŒ‡å‘å½“å‰å…ƒç´ çš„å€¼</span></div><div class="line">	<span class="comment">// index: æŒ‡å‘å½“å‰ç´¢å¼•</span></div><div class="line">	<span class="comment">// array: æŒ‡å‘Arrayå¯¹è±¡æœ¬èº«</span></div><div class="line">	alert(element);</div><div class="line">&#125;);</div></pre></td></tr></table></figure></p>
<p>Setä¸Arrayç±»ä¼¼ï¼Œä½†Setæ²¡æœ‰ç´¢å¼•ï¼Œå› æ­¤å›è°ƒå‡½æ•°çš„å‰ä¸¤ä¸ªå‚æ•°éƒ½æ˜¯å…ƒç´ æœ¬èº«ï¼š<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> s = <span class="keyword">new</span> <span class="built_in">Set</span>([<span class="string">'A'</span>, <span class="string">'B'</span>, <span class="string">'C'</span>]);</div><div class="line">s.forEach(<span class="function"><span class="keyword">function</span> (<span class="params">element, sameElement, set</span>) </span>&#123;</div><div class="line">	alert(element);</div><div class="line">&#125;);</div></pre></td></tr></table></figure></p>
<p>Mapçš„å›è°ƒå‡½æ•°å‚æ•°ä¾æ¬¡ä¸ºvalueã€keyå’Œmapæœ¬èº«ï¼š<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> m = <span class="keyword">new</span> <span class="built_in">Map</span>([[<span class="number">1</span>, <span class="string">'x'</span>], [<span class="number">2</span>, <span class="string">'y'</span>], [<span class="number">3</span>, <span class="string">'z'</span>]]);</div><div class="line">m.forEach(<span class="function"><span class="keyword">function</span> (<span class="params">value, key, map</span>) </span>&#123;</div><div class="line">	alert(value);</div><div class="line">&#125;);</div></pre></td></tr></table></figure></p>
<h3 id="å‡½æ•°"><a href="#å‡½æ•°" class="headerlink" title="å‡½æ•°"></a>å‡½æ•°</h3><h4 id="arguments"><a href="#arguments" class="headerlink" title="arguments"></a>arguments</h4><p>JavaScriptè¿˜æœ‰ä¸€ä¸ªå…è´¹èµ é€çš„å…³é”®å­—argumentsï¼Œå®ƒåªåœ¨å‡½æ•°å†…éƒ¨èµ·ä½œç”¨ï¼Œå¹¶ä¸”æ°¸è¿œæŒ‡å‘å½“å‰å‡½æ•°çš„è°ƒç”¨è€…ä¼ å…¥çš„æ‰€æœ‰å‚æ•°ã€‚argumentsç±»ä¼¼Arrayä½†å®ƒä¸æ˜¯ä¸€ä¸ªArrayï¼š<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params">x</span>) </span>&#123;</div><div class="line">	alert(x); <span class="comment">// 10</span></div><div class="line">	<span class="keyword">for</span> (<span class="keyword">var</span> i=<span class="number">0</span>; i&lt;<span class="built_in">arguments</span>.length; i++) &#123;</div><div class="line">   	 alert(<span class="built_in">arguments</span>[i]); <span class="comment">// 10, 20, 30</span></div><div class="line">	&#125;</div><div class="line">&#125;</div><div class="line">foo(<span class="number">10</span>, <span class="number">20</span>, <span class="number">30</span>);</div></pre></td></tr></table></figure></p>
<p>argumentsæœ€å¸¸ç”¨äºåˆ¤æ–­ä¼ å…¥å‚æ•°çš„ä¸ªæ•°ã€‚ä½ å¯èƒ½ä¼šçœ‹åˆ°è¿™æ ·çš„å†™æ³•ï¼š<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// foo(a[, b], c)</span></div><div class="line"><span class="comment">// æ¥æ”¶2~3ä¸ªå‚æ•°ï¼Œbæ˜¯å¯é€‰å‚æ•°ï¼Œå¦‚æœåªä¼ 2ä¸ªå‚æ•°ï¼Œbé»˜è®¤ä¸ºnullï¼š</span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params">a, b, c</span>) </span>&#123;</div><div class="line">	<span class="keyword">if</span> (<span class="built_in">arguments</span>.length === <span class="number">2</span>) &#123;</div><div class="line">    	<span class="comment">// å®é™…æ‹¿åˆ°çš„å‚æ•°æ˜¯aå’Œbï¼Œcä¸ºundefined</span></div><div class="line">   	 	c = b; <span class="comment">// æŠŠbèµ‹ç»™c</span></div><div class="line">    	b = <span class="literal">null</span>; <span class="comment">// bå˜ä¸ºé»˜è®¤å€¼</span></div><div class="line">	&#125;</div><div class="line">	<span class="comment">// ...</span></div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<h4 id="rest"><a href="#rest" class="headerlink" title="rest"></a>rest</h4><p>è¦æŠŠä¸­é—´çš„å‚æ•°bå˜ä¸ºâ€œå¯é€‰â€å‚æ•°ï¼Œå°±åªèƒ½é€šè¿‡argumentsåˆ¤æ–­ï¼Œç„¶åé‡æ–°è°ƒæ•´å‚æ•°å¹¶èµ‹å€¼ã€‚<br>ES6æ ‡å‡†å¼•å…¥äº†restå‚æ•°ï¼Œä¸Šé¢çš„å‡½æ•°å¯ä»¥æ”¹å†™ä¸ºï¼š<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params">a, b, ...rest</span>) </span>&#123;</div><div class="line">	<span class="built_in">console</span>.log(<span class="string">'a = '</span> + a);</div><div class="line">	<span class="built_in">console</span>.log(<span class="string">'b = '</span> + b);</div><div class="line">	<span class="built_in">console</span>.log(rest);</div><div class="line">&#125;</div><div class="line"></div><div class="line">foo(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>);</div><div class="line"><span class="comment">// ç»“æœ:</span></div><div class="line"><span class="comment">// a = 1</span></div><div class="line"><span class="comment">// b = 2</span></div><div class="line"><span class="comment">// Array [ 3, 4, 5 ]</span></div><div class="line"></div><div class="line">foo(<span class="number">1</span>);</div><div class="line"><span class="comment">// ç»“æœ:</span></div><div class="line"><span class="comment">// a = 1</span></div><div class="line"><span class="comment">// b = undefined</span></div><div class="line"><span class="comment">// Array []</span></div></pre></td></tr></table></figure></p>
<ul>
<li><p>restå‚æ•°åªèƒ½å†™åœ¨æœ€åï¼Œå‰é¢ç”¨â€¦æ ‡è¯†ï¼Œä»è¿è¡Œç»“æœå¯çŸ¥ï¼Œä¼ å…¥çš„å‚æ•°å…ˆç»‘å®šaã€bï¼Œå¤šä½™çš„å‚æ•°ä»¥æ•°ç»„å½¢å¼äº¤ç»™å˜é‡restï¼Œæ‰€ä»¥ï¼Œä¸å†éœ€è¦argumentsæˆ‘ä»¬å°±è·å–äº†å…¨éƒ¨å‚æ•°ã€‚</p>
</li>
<li><p>å¦‚æœä¼ å…¥çš„å‚æ•°è¿æ­£å¸¸å®šä¹‰çš„å‚æ•°éƒ½æ²¡å¡«æ»¡ï¼Œä¹Ÿä¸è¦ç´§ï¼Œrestå‚æ•°ä¼šæ¥æ”¶ä¸€ä¸ªç©ºæ•°ç»„ï¼ˆæ³¨æ„ä¸æ˜¯undefinedï¼‰ã€‚</p>
</li>
</ul>
<h4 id="åå­—ç©ºé—´"><a href="#åå­—ç©ºé—´" class="headerlink" title="åå­—ç©ºé—´"></a>åå­—ç©ºé—´</h4><p>å…¨å±€å˜é‡ä¼šç»‘å®šåˆ°windowä¸Šï¼Œä¸åŒçš„JavaScriptæ–‡ä»¶å¦‚æœä½¿ç”¨äº†ç›¸åŒçš„å…¨å±€å˜é‡ï¼Œæˆ–è€…å®šä¹‰äº†ç›¸åŒåå­—çš„é¡¶å±‚å‡½æ•°ï¼Œéƒ½ä¼šé€ æˆå‘½åå†²çªï¼Œå¹¶ä¸”å¾ˆéš¾è¢«å‘ç°ã€‚</p>
<p>å‡å°‘å†²çªçš„ä¸€ä¸ªæ–¹æ³•æ˜¯æŠŠè‡ªå·±çš„æ‰€æœ‰å˜é‡å’Œå‡½æ•°å…¨éƒ¨ç»‘å®šåˆ°ä¸€ä¸ªå…¨å±€å˜é‡ä¸­ã€‚ä¾‹å¦‚ï¼š<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// å”¯ä¸€çš„å…¨å±€å˜é‡MYAPP:</span></div><div class="line"><span class="keyword">var</span> MYAPP = &#123;&#125;;</div><div class="line"></div><div class="line"><span class="comment">// å…¶ä»–å˜é‡:</span></div><div class="line">MYAPP.name = <span class="string">'myapp'</span>;</div><div class="line">MYAPP.version = <span class="number">1.0</span>;</div><div class="line"></div><div class="line"><span class="comment">// å…¶ä»–å‡½æ•°:</span></div><div class="line">MYAPP.foo = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">	<span class="keyword">return</span> <span class="string">'foo'</span>;</div><div class="line">&#125;;</div></pre></td></tr></table></figure></p>
<h4 id="apply-call"><a href="#apply-call" class="headerlink" title="apply call"></a>apply call</h4><p>è¦æŒ‡å®šå‡½æ•°çš„thisæŒ‡å‘å“ªä¸ªå¯¹è±¡ï¼Œå¯ä»¥ç”¨å‡½æ•°æœ¬èº«çš„applyæ–¹æ³•ï¼Œå®ƒæ¥æ”¶ä¸¤ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªå‚æ•°å°±æ˜¯éœ€è¦ç»‘å®šçš„thiså˜é‡ï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯Arrayï¼Œè¡¨ç¤ºå‡½æ•°æœ¬èº«çš„å‚æ•°ã€‚</p>
<p>ç”¨applyä¿®å¤<code>getAge()</code>è°ƒç”¨ï¼š<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">getAge</span>(<span class="params"></span>) </span>&#123;</div><div class="line">	<span class="keyword">var</span> y = <span class="keyword">new</span> <span class="built_in">Date</span>().getFullYear();</div><div class="line">	<span class="keyword">return</span> y - <span class="keyword">this</span>.birth;</div><div class="line">&#125;</div><div class="line">	</div><div class="line"><span class="keyword">var</span> xiaoming = &#123;</div><div class="line">	<span class="attr">name</span>: <span class="string">'å°æ˜'</span>,</div><div class="line">	<span class="attr">birth</span>: <span class="number">1990</span>,</div><div class="line">	<span class="attr">age</span>: getAge</div><div class="line">&#125;;</div><div class="line">	</div><div class="line">xiaoming.age(); <span class="comment">// 25</span></div><div class="line">getAge.apply(xiaoming, []); <span class="comment">// 25, thisæŒ‡å‘xiaoming, å‚æ•°ä¸ºç©º</span></div></pre></td></tr></table></figure></p>
<p>å¦ä¸€ä¸ªä¸<code>apply()</code>ç±»ä¼¼çš„æ–¹æ³•æ˜¯<code>call()</code>ï¼Œå”¯ä¸€åŒºåˆ«æ˜¯ï¼š</p>
<p><code>apply()</code>æŠŠå‚æ•°æ‰“åŒ…æˆArrayå†ä¼ å…¥ï¼›</p>
<p><code>call()</code>æŠŠå‚æ•°æŒ‰é¡ºåºä¼ å…¥ã€‚</p>
<p>æ¯”å¦‚è°ƒç”¨<code>Math.max(3, 5, 4)</code>ï¼Œåˆ†åˆ«ç”¨apply()å’Œcall()å®ç°å¦‚ä¸‹ï¼š<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">Math</span>.max.apply(<span class="literal">null</span>, [<span class="number">3</span>, <span class="number">5</span>, <span class="number">4</span>]); <span class="comment">// 5</span></div><div class="line"><span class="built_in">Math</span>.max.call(<span class="literal">null</span>, <span class="number">3</span>, <span class="number">5</span>, <span class="number">4</span>); <span class="comment">// 5</span></div></pre></td></tr></table></figure></p>
<p>å¯¹æ™®é€šå‡½æ•°è°ƒç”¨ï¼Œæˆ‘ä»¬é€šå¸¸æŠŠthisç»‘å®šä¸ºnullã€‚</p>
<h4 id="è£…é¥°å™¨"><a href="#è£…é¥°å™¨" class="headerlink" title="è£…é¥°å™¨"></a>è£…é¥°å™¨</h4><p>åˆ©ç”¨apply()ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥åŠ¨æ€æ”¹å˜å‡½æ•°çš„è¡Œä¸ºã€‚</p>
<p>JavaScriptçš„æ‰€æœ‰å¯¹è±¡éƒ½æ˜¯åŠ¨æ€çš„ï¼Œå³ä½¿å†…ç½®çš„å‡½æ•°ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥é‡æ–°æŒ‡å‘æ–°çš„å‡½æ•°ã€‚</p>
<p>ç°åœ¨å‡å®šæˆ‘ä»¬æƒ³ç»Ÿè®¡ä¸€ä¸‹ä»£ç ä¸€å…±è°ƒç”¨äº†å¤šå°‘æ¬¡<code>parseInt()</code>ï¼Œå¯ä»¥æŠŠæ‰€æœ‰çš„è°ƒç”¨éƒ½æ‰¾å‡ºæ¥ï¼Œç„¶åæ‰‹åŠ¨åŠ ä¸Š<code>count += 1</code>ï¼Œä¸è¿‡è¿™æ ·åšå¤ªå‚»äº†ã€‚æœ€ä½³æ–¹æ¡ˆæ˜¯ç”¨æˆ‘ä»¬è‡ªå·±çš„å‡½æ•°æ›¿æ¢æ‰é»˜è®¤çš„parseInt()ï¼š<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> count = <span class="number">0</span>;</div><div class="line"><span class="keyword">var</span> oldParseInt = <span class="built_in">parseInt</span>; <span class="comment">// ä¿å­˜åŸå‡½æ•°</span></div><div class="line"></div><div class="line"><span class="built_in">window</span>.parseInt = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">	count += <span class="number">1</span>;</div><div class="line">	<span class="keyword">return</span> oldParseInt.apply(<span class="literal">null</span>, <span class="built_in">arguments</span>); <span class="comment">// è°ƒç”¨åŸå‡½æ•°</span></div><div class="line">&#125;;</div><div class="line"></div><div class="line"><span class="comment">// æµ‹è¯•:</span></div><div class="line"><span class="built_in">parseInt</span>(<span class="string">'10'</span>);</div><div class="line"><span class="built_in">parseInt</span>(<span class="string">'20'</span>);</div><div class="line"><span class="built_in">parseInt</span>(<span class="string">'30'</span>);</div><div class="line">count; <span class="comment">// 3</span></div></pre></td></tr></table></figure></p>
<h4 id="é«˜é˜¶å‡½æ•°"><a href="#é«˜é˜¶å‡½æ•°" class="headerlink" title="é«˜é˜¶å‡½æ•°"></a>é«˜é˜¶å‡½æ•°</h4><p>æŠŠå‡½æ•°ä½œä¸ºå‚æ•°ä¼ åˆ°å¦ä¸€ä¸ªå‡½æ•°<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">add</span>(<span class="params">x, y, f</span>) </span>&#123;</div><div class="line"><span class="keyword">return</span> f(x) + f(y);</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<h5 id="map"><a href="#map" class="headerlink" title="map"></a>map</h5><p>mapæ–¹æ³•å®šä¹‰åœ¨Arrayä¸­ï¼Œå‚æ•°æ˜¯å‡½æ•°ï¼Œå¯¹æ•°ç»„æ¯ä¸€é¡¹æ‰§è¡Œå‡½æ•°ã€‚</p>
<p>æ‰€ä»¥ï¼Œ<code>map()</code>ä½œä¸ºé«˜é˜¶å‡½æ•°ï¼Œäº‹å®ä¸Šå®ƒæŠŠè¿ç®—è§„åˆ™æŠ½è±¡äº†ï¼Œå› æ­¤ï¼Œæˆ‘ä»¬ä¸ä½†å¯ä»¥è®¡ç®—ç®€å•çš„<code>f(x)=x2</code>ï¼Œè¿˜å¯ä»¥è®¡ç®—ä»»æ„å¤æ‚çš„å‡½æ•°ï¼Œæ¯”å¦‚ï¼ŒæŠŠArrayçš„æ‰€æœ‰æ•°å­—è½¬ä¸ºå­—ç¬¦ä¸²ï¼š<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>];</div><div class="line">arr.map(<span class="built_in">String</span>); <span class="comment">// ['1', '2', '3', '4', '5', '6', '7', '8', '9']</span></div></pre></td></tr></table></figure></p>
<p>åªéœ€è¦ä¸€è¡Œä»£ç ã€‚</p>
<h5 id="reduce"><a href="#reduce" class="headerlink" title="reduce"></a>reduce</h5><p>æ¯”æ–¹è¯´å¯¹ä¸€ä¸ªArrayæ±‚å’Œï¼Œå°±å¯ä»¥ç”¨reduceå®ç°ï¼š<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> arr = [<span class="number">1</span>, <span class="number">3</span>, <span class="number">5</span>, <span class="number">7</span>, <span class="number">9</span>];</div><div class="line">arr.reduce(<span class="function"><span class="keyword">function</span> (<span class="params">x, y</span>) </span>&#123;</div><div class="line">	<span class="keyword">return</span> x + y;</div><div class="line">&#125;); <span class="comment">// 25</span></div></pre></td></tr></table></figure></p>
<p>è¦æŠŠ[1, 3, 5, 7, 9]å˜æ¢æˆæ•´æ•°13579ï¼Œ<code>reduce()</code>ä¹Ÿèƒ½æ´¾ä¸Šç”¨åœºï¼š<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> arr = [<span class="number">1</span>, <span class="number">3</span>, <span class="number">5</span>, <span class="number">7</span>, <span class="number">9</span>];</div><div class="line">arr.reduce(<span class="function"><span class="keyword">function</span> (<span class="params">x, y</span>) </span>&#123;</div><div class="line">	<span class="keyword">return</span> x * <span class="number">10</span> + y;</div><div class="line">&#125;); <span class="comment">// 13579</span></div><div class="line"><span class="string">``</span><span class="string">`	</span></div><div class="line">å¦‚æœæˆ‘ä»¬ç»§ç»­æ”¹è¿›è¿™ä¸ªä¾‹å­ï¼Œæƒ³åŠæ³•æŠŠä¸€ä¸ªå­—ç¬¦ä¸²13579å…ˆå˜æˆArrayâ€”â€”[1, 3, 5, 7, 9]ï¼Œå†åˆ©ç”¨`reduce()<span class="string">`å°±å¯ä»¥å†™å‡ºä¸€ä¸ªæŠŠå­—ç¬¦ä¸²è½¬æ¢ä¸ºNumberçš„å‡½æ•°ã€‚</span></div><div class="line"></div><div class="line">ç»ƒä¹ ï¼šä¸è¦ä½¿ç”¨JavaScriptå†…ç½®çš„`<span class="built_in">parseInt</span>()<span class="string">`å‡½æ•°ï¼Œåˆ©ç”¨mapå’Œreduceæ“ä½œå®ç°ä¸€ä¸ª`</span>string2int()<span class="string">`å‡½æ•°ï¼š</span></div><div class="line">`<span class="string">``</span>javascript</div><div class="line"><span class="meta">'use strict'</span>;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">string2int</span>(<span class="params">s</span>) </span>&#123;</div><div class="line">	<span class="keyword">var</span> arr = s.split();</div><div class="line"></div><div class="line">	<span class="keyword">return</span> arr.map(<span class="function"><span class="keyword">function</span> (<span class="params">x</span>)</span>&#123;<span class="keyword">return</span> +x;&#125;).reduce(<span class="function"><span class="keyword">function</span> (<span class="params">x,y</span>)</span>&#123;<span class="keyword">return</span> x*<span class="number">10</span>+y;&#125;)</div><div class="line">&#125;</div><div class="line"><span class="string">``</span><span class="string">`	</span></div><div class="line">ç»ƒä¹ </div><div class="line"></div><div class="line">è¯·æŠŠç”¨æˆ·è¾“å…¥çš„ä¸è§„èŒƒçš„è‹±æ–‡åå­—ï¼Œå˜ä¸ºé¦–å­—æ¯å¤§å†™ï¼Œå…¶ä»–å°å†™çš„è§„èŒƒåå­—ã€‚è¾“å…¥ï¼š['adam', 'LISA', 'barT']ï¼Œè¾“å‡ºï¼š['Adam', 'Lisa', 'Bart']ã€‚</div><div class="line">`<span class="string">``</span>javascript</div><div class="line"><span class="meta">'use strict'</span>;</div><div class="line">	</div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">normalize</span>(<span class="params">arr</span>) </span>&#123;</div><div class="line">	<span class="keyword">return</span> arr.map(<span class="function"><span class="keyword">function</span> (<span class="params">x</span>)</span>&#123;<span class="keyword">var</span> tail = x.substring(<span class="number">1</span>).toLowerCase();<span class="keyword">var</span> head = x[<span class="number">0</span>].toUpperCase();<span class="keyword">return</span> head + tail;&#125;)</div><div class="line">ï½</div></pre></td></tr></table></figure></p>
<p>ç»ƒä¹ </p>
<p>åˆ©ç”¨map()æŠŠå­—ç¬¦ä¸²å˜æˆæ•´æ•°<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="meta">'use strict'</span>;</div><div class="line"></div><div class="line"><span class="keyword">var</span> arr = [<span class="string">'1'</span>, <span class="string">'2'</span>, <span class="string">'3'</span>];</div><div class="line"><span class="keyword">var</span> r;</div><div class="line"></div><div class="line">r = arr.map(r = arr.map(<span class="function"><span class="keyword">function</span> (<span class="params">x</span>)</span>&#123;<span class="keyword">return</span> +x;&#125;););</div><div class="line"></div><div class="line">alert(<span class="string">'['</span> + r[<span class="number">0</span>] + <span class="string">', '</span> + r[<span class="number">1</span>] + <span class="string">', '</span> + r[<span class="number">2</span>] + <span class="string">']'</span>);</div></pre></td></tr></table></figure></p>
<h5 id="filter"><a href="#filter" class="headerlink" title="filter"></a>filter</h5><p>å‚æ•°ä¹Ÿæ˜¯å‡½æ•°ï¼ŒæŠŠå‡½æ•°ä½œç”¨äºæ¯ä¸ªå…ƒç´ ï¼Œæ ¹æ®return trueè¿˜æ˜¯falseæ¥å†³å®šä¿ç•™è¿˜æ˜¯ä¸¢å¼ƒå…ƒç´ </p>
<h5 id="sort"><a href="#sort" class="headerlink" title="sort"></a>sort</h5><p>sortæŒ‰ç…§asciiç è¿›è¡Œæ’åºï¼Œä½†<code>sort()</code>æ–¹æ³•ä¹Ÿæ˜¯ä¸€ä¸ªé«˜é˜¶å‡½æ•°ï¼Œä¹Ÿå¯ä»¥æ¥æ”¶ä¸€ä¸ªæ¯”è¾ƒå‡½æ•°æ¥å®ç°è‡ªå®šä¹‰çš„æ’åºã€‚ï¼</p>
<h4 id="é—­åŒ…"><a href="#é—­åŒ…" class="headerlink" title="é—­åŒ…"></a>é—­åŒ…</h4><p>åœ¨é¢å‘å¯¹è±¡çš„ç¨‹åºè®¾è®¡è¯­è¨€é‡Œï¼Œæ¯”å¦‚Javaå’ŒC++ï¼Œè¦åœ¨å¯¹è±¡å†…éƒ¨å°è£…ä¸€ä¸ªç§æœ‰å˜é‡ï¼Œå¯ä»¥ç”¨privateä¿®é¥°ä¸€ä¸ªæˆå‘˜å˜é‡ã€‚</p>
<p>åœ¨æ²¡æœ‰classæœºåˆ¶ï¼Œåªæœ‰å‡½æ•°çš„è¯­è¨€é‡Œï¼Œå€ŸåŠ©é—­åŒ…ï¼ŒåŒæ ·å¯ä»¥å°è£…ä¸€ä¸ªç§æœ‰å˜é‡ã€‚æˆ‘ä»¬ç”¨JavaScriptåˆ›å»ºä¸€ä¸ªè®¡æ•°å™¨ï¼š<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="meta">'use strict'</span>;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">create_counter</span>(<span class="params">initial</span>) </span>&#123;</div><div class="line">	<span class="keyword">var</span> x = initial || <span class="number">0</span>;</div><div class="line">	<span class="keyword">return</span> &#123;</div><div class="line">    	<span class="attr">inc</span>: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">        	x += <span class="number">1</span>;</div><div class="line">        	<span class="keyword">return</span> x;</div><div class="line">    	&#125;</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>å®ƒç”¨èµ·æ¥åƒè¿™æ ·ï¼š<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> c1 = create_counter();</div><div class="line">c1.inc(); <span class="comment">// 1</span></div><div class="line">c1.inc(); <span class="comment">// 2</span></div><div class="line">c1.inc(); <span class="comment">// 3</span></div><div class="line"></div><div class="line"><span class="keyword">var</span> c2 = create_counter(<span class="number">10</span>);</div><div class="line">c2.inc(); <span class="comment">// 11</span></div><div class="line">c2.inc(); <span class="comment">// 12</span></div><div class="line">c2.inc(); <span class="comment">// 13</span></div></pre></td></tr></table></figure></p>
<p>åœ¨è¿”å›çš„å¯¹è±¡ä¸­ï¼Œå®ç°äº†ä¸€ä¸ªé—­åŒ…ï¼Œè¯¥é—­åŒ…æºå¸¦äº†å±€éƒ¨å˜é‡xï¼Œå¹¶ä¸”ï¼Œä»å¤–éƒ¨ä»£ç æ ¹æœ¬æ— æ³•è®¿é—®åˆ°å˜é‡xã€‚æ¢å¥è¯è¯´ï¼Œé—­åŒ…å°±æ˜¯æºå¸¦çŠ¶æ€çš„å‡½æ•°ï¼Œå¹¶ä¸”å®ƒçš„çŠ¶æ€å¯ä»¥å®Œå…¨å¯¹å¤–éšè—èµ·æ¥ã€‚</p>
<p>é—­åŒ…è¿˜å¯ä»¥æŠŠå¤šå‚æ•°çš„å‡½æ•°å˜æˆå•å‚æ•°çš„å‡½æ•°ã€‚ä¾‹å¦‚ï¼Œè¦è®¡ç®—xyå¯ä»¥ç”¨<code>Math.pow(x, y)</code>å‡½æ•°ï¼Œä¸è¿‡è€ƒè™‘åˆ°ç»å¸¸è®¡ç®—x2æˆ–x3ï¼Œæˆ‘ä»¬å¯ä»¥åˆ©ç”¨é—­åŒ…åˆ›å»ºæ–°çš„å‡½æ•°pow2å’Œpow3ï¼š<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">make_pow</span>(<span class="params">n</span>) </span>&#123;</div><div class="line">	<span class="keyword">return</span> <span class="function"><span class="keyword">function</span> (<span class="params">x</span>) </span>&#123;</div><div class="line">    	<span class="keyword">return</span> <span class="built_in">Math</span>.pow(x, n);</div><div class="line">	&#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">// åˆ›å»ºä¸¤ä¸ªæ–°å‡½æ•°:</span></div><div class="line"><span class="keyword">var</span> pow2 = make_pow(<span class="number">2</span>);</div><div class="line"><span class="keyword">var</span> pow3 = make_pow(<span class="number">3</span>);</div><div class="line"></div><div class="line">pow2(<span class="number">5</span>); <span class="comment">// 25</span></div><div class="line">pow3(<span class="number">7</span>); <span class="comment">// 343</span></div></pre></td></tr></table></figure></p>
<p>å®šä¹‰è¿ç®—<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div></pre></td><td class="code"><pre><div class="line"><span class="meta">'use strict'</span>;</div><div class="line"></div><div class="line"><span class="comment">// å®šä¹‰æ•°å­—0:</span></div><div class="line"><span class="keyword">var</span> zero = <span class="function"><span class="keyword">function</span> (<span class="params">f</span>) </span>&#123;</div><div class="line">	<span class="keyword">return</span> <span class="function"><span class="keyword">function</span> (<span class="params">x</span>) </span>&#123;</div><div class="line">    	<span class="keyword">return</span> x;</div><div class="line">	&#125;</div><div class="line">&#125;;</div><div class="line"></div><div class="line"><span class="comment">// å®šä¹‰æ•°å­—1:</span></div><div class="line"><span class="keyword">var</span> one = <span class="function"><span class="keyword">function</span> (<span class="params">f</span>) </span>&#123;</div><div class="line">	<span class="keyword">return</span> <span class="function"><span class="keyword">function</span> (<span class="params">x</span>) </span>&#123;</div><div class="line">    	<span class="keyword">return</span> f(x);</div><div class="line">	&#125;</div><div class="line">&#125;;</div><div class="line"></div><div class="line"><span class="comment">// å®šä¹‰åŠ æ³•:</span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">add</span>(<span class="params">n, m</span>) </span>&#123;</div><div class="line">	<span class="keyword">return</span> <span class="function"><span class="keyword">function</span> (<span class="params">f</span>) </span>&#123;</div><div class="line">    	<span class="keyword">return</span> <span class="function"><span class="keyword">function</span> (<span class="params">x</span>) </span>&#123;</div><div class="line">        	<span class="keyword">return</span> m(f)(n(f)(x));</div><div class="line">    	&#125;</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p><em>å‚è§ç»´åŸºç™¾ç§‘<a href="https://zh.wikipedia.org/wiki/%CE%9B%E6%BC%94%E7%AE%97" target="_blank" rel="external">Î»æ¼”ç®—</a></em></p>
<h4 id="ç®­å¤´å‡½æ•°"><a href="#ç®­å¤´å‡½æ•°" class="headerlink" title="ç®­å¤´å‡½æ•°"></a>ç®­å¤´å‡½æ•°</h4><p><em>ES6æ–°å¢å‡½æ•° Arrow Function</em><br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">x =&gt; x * x</div></pre></td></tr></table></figure></p>
<p>ä¸Šé¢çš„ç®­å¤´å‡½æ•°ç›¸å½“äºä¸€ä¸ªåŒ¿åå‡½æ•°ï¼š<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> (<span class="params">x</span>) </span>&#123;</div><div class="line">	<span class="keyword">return</span> x * x;</div><div class="line">&#125;</div><div class="line"><span class="string">``</span><span class="string">`	</span></div><div class="line">- =&gt;å‰ä»£è¡¨å‚æ•°ï¼šå¦‚æœæœ‰å¤šä¸ªå‚æ•°ï¼Œç”¨æ‹¬å·æ‹¬èµ·æ¥(x,y)=&gt;</div><div class="line">- å¦‚æœè¦è¿”å›ä¸€ä¸ªå¯¹è±¡ï¼Œx =&gt; (&#123; foo: x &#125;)ï¼Œè¦å’Œå‡½æ•°ä½“æœ¬èº«çš„ï½›...ï½åŒºåˆ†å¼€</div><div class="line"></div><div class="line">*ç®­å¤´å‡½æ•°ä¸åŒ¿åå‡½æ•°çš„åŒºåˆ«ï¼šç®­å¤´å‡½æ•°å†…éƒ¨çš„thisæ˜¯è¯æ³•ä½œç”¨åŸŸï¼Œä¹Ÿå°±æ˜¯å¤–å±‚è°ƒç”¨è€…objï¼Œç”±ä¸Šä¸‹æ–‡ç¡®å®š*</div><div class="line"></div><div class="line">*ç”±äºthisåœ¨ç®­å¤´å‡½æ•°ä¸­å·²ç»æŒ‰ç…§è¯æ³•ä½œç”¨åŸŸç»‘å®šäº†ï¼Œæ‰€ä»¥ï¼Œç”¨call()æˆ–è€…apply()è°ƒç”¨ç®­å¤´å‡½æ•°æ—¶ï¼Œæ— æ³•å¯¹thisè¿›è¡Œç»‘å®šï¼Œå³ä¼ å…¥çš„ç¬¬ä¸€ä¸ªå‚æ•°è¢«å¿½ç•¥*</div><div class="line"></div><div class="line">#### generator</div><div class="line">generatorï¼ˆç”Ÿæˆå™¨ï¼‰æ˜¯ES6æ ‡å‡†å¼•å…¥çš„æ–°çš„æ•°æ®ç±»å‹ã€‚ä¸€ä¸ªgeneratorçœ‹ä¸Šå»åƒä¸€ä¸ªå‡½æ•°ï¼Œä½†å¯ä»¥è¿”å›å¤šæ¬¡ã€‚</div><div class="line"></div><div class="line">ç›´æ¥è°ƒç”¨ä¸€ä¸ªgeneratorå’Œè°ƒç”¨å‡½æ•°ä¸ä¸€æ ·ï¼Œfib(5)ä»…ä»…æ˜¯åˆ›å»ºäº†ä¸€ä¸ªgeneratorå¯¹è±¡ï¼Œè¿˜æ²¡æœ‰å»æ‰§è¡Œå®ƒã€‚</div><div class="line"></div><div class="line">è°ƒç”¨generatorå¯¹è±¡æœ‰ä¸¤ä¸ªæ–¹æ³•ï¼Œä¸€æ˜¯ä¸æ–­åœ°è°ƒç”¨generatorå¯¹è±¡çš„`next()<span class="string">`æ–¹æ³•ï¼š</span></div><div class="line">`<span class="string">``</span>javascript</div><div class="line"><span class="keyword">var</span> f = fib(<span class="number">5</span>);</div><div class="line">f.next(); <span class="comment">// &#123;value: 0, done: false&#125;</span></div><div class="line">f.next(); <span class="comment">// &#123;value: 1, done: false&#125;</span></div><div class="line">f.next(); <span class="comment">// &#123;value: 1, done: false&#125;</span></div><div class="line">f.next(); <span class="comment">// &#123;value: 2, done: false&#125;</span></div><div class="line">f.next(); <span class="comment">// &#123;value: 3, done: true&#125;</span></div></pre></td></tr></table></figure></p>
<p>next()æ–¹æ³•ä¼šæ‰§è¡Œgeneratorçš„ä»£ç ï¼Œç„¶åï¼Œæ¯æ¬¡é‡åˆ°yield x;å°±è¿”å›ä¸€ä¸ªå¯¹è±¡{value: x, done: true/false}ï¼Œç„¶åâ€œæš‚åœâ€ã€‚è¿”å›çš„valueå°±æ˜¯yieldçš„è¿”å›å€¼ï¼Œdoneè¡¨ç¤ºè¿™ä¸ªgeneratoræ˜¯å¦å·²ç»æ‰§è¡Œç»“æŸäº†ã€‚å¦‚æœdoneä¸ºtrueï¼Œåˆ™valueå°±æ˜¯returnçš„è¿”å›å€¼ã€‚</p>
<p>å½“æ‰§è¡Œåˆ°doneä¸ºtrueæ—¶ï¼Œè¿™ä¸ªgeneratorå¯¹è±¡å°±å·²ç»å…¨éƒ¨æ‰§è¡Œå®Œæ¯•ï¼Œä¸è¦å†ç»§ç»­è°ƒç”¨next()äº†ã€‚</p>
<p>ç¬¬äºŒä¸ªæ–¹æ³•æ˜¯ç›´æ¥ç”¨<code>for ... of</code>å¾ªç¯è¿­ä»£generatorå¯¹è±¡ï¼Œè¿™ç§æ–¹å¼ä¸éœ€è¦æˆ‘ä»¬è‡ªå·±åˆ¤æ–­doneï¼š<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">for</span> (<span class="keyword">var</span> x <span class="keyword">of</span> fib(<span class="number">5</span>)) &#123;</div><div class="line">	<span class="built_in">console</span>.log(x); <span class="comment">// ä¾æ¬¡è¾“å‡º0, 1, 1, 2, 3</span></div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<h3 id="æ ‡å‡†å¯¹è±¡"><a href="#æ ‡å‡†å¯¹è±¡" class="headerlink" title="æ ‡å‡†å¯¹è±¡"></a>æ ‡å‡†å¯¹è±¡</h3><ul>
<li><p>ä¸è¦ä½¿ç”¨<code>new Number()</code>ã€<code>new Boolean()</code>ã€<code>new String()</code>åˆ›å»ºåŒ…è£…å¯¹è±¡ï¼›</p>
</li>
<li><p>ç”¨<code>parseInt()</code>æˆ–<code>parseFloat()</code>æ¥è½¬æ¢ä»»æ„ç±»å‹åˆ°numberï¼›</p>
</li>
<li><p>ç”¨<code>String()</code>æ¥è½¬æ¢ä»»æ„ç±»å‹åˆ°stringï¼Œæˆ–è€…ç›´æ¥è°ƒç”¨æŸä¸ªå¯¹è±¡çš„<code>toString()</code>æ–¹æ³•ï¼›</p>
</li>
<li><p>é€šå¸¸ä¸å¿…æŠŠä»»æ„ç±»å‹è½¬æ¢ä¸ºbooleanå†åˆ¤æ–­ï¼Œå› ä¸ºå¯ä»¥ç›´æ¥å†™<code>if (myVar) {...}</code>ï¼›</p>
</li>
<li><p>typeofæ“ä½œç¬¦å¯ä»¥åˆ¤æ–­å‡ºnumberã€booleanã€stringã€functionå’Œundefinedï¼›</p>
</li>
<li><p>åˆ¤æ–­Arrayè¦ä½¿ç”¨<code>Array.isArray(arr)</code>ï¼›</p>
</li>
<li><p>åˆ¤æ–­nullè¯·ä½¿ç”¨<code>myVar === null</code>ï¼›</p>
</li>
<li><p>åˆ¤æ–­æŸä¸ªå…¨å±€å˜é‡æ˜¯å¦å­˜åœ¨ç”¨<code>typeof window.myVar === &#39;undefined&#39;</code>ï¼›</p>
</li>
<li><p>å‡½æ•°å†…éƒ¨åˆ¤æ–­æŸä¸ªå˜é‡æ˜¯å¦å­˜åœ¨ç”¨<code>typeof myVar === &#39;undefined&#39;</code>ã€‚</p>
</li>
<li>numberå¯¹è±¡è°ƒç”¨<code>toString()</code>æŠ¥SyntaxErrorï¼š<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="number">123.</span>toString(); <span class="comment">// SyntaxError</span></div></pre></td></tr></table></figure>
</li>
</ul>
<p>é‡åˆ°è¿™ç§æƒ…å†µï¼Œè¦ç‰¹æ®Šå¤„ç†ä¸€ä¸‹ï¼š<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="number">123.</span>.toString(); <span class="comment">// '123', æ³¨æ„æ˜¯ä¸¤ä¸ªç‚¹ï¼</span></div><div class="line">(<span class="number">123</span>).toString(); <span class="comment">// '123'</span></div></pre></td></tr></table></figure></p>
<h4 id="Date"><a href="#Date" class="headerlink" title="Date"></a>Date</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> now = <span class="keyword">new</span> <span class="built_in">Date</span>();</div><div class="line">now; <span class="comment">// Wed Jun 24 2015 19:49:22 GMT+0800 (CST)</span></div><div class="line">now.getFullYear(); <span class="comment">// 2015, å¹´ä»½</span></div><div class="line">now.getMonth(); <span class="comment">// 5, æœˆä»½ï¼Œæ³¨æ„æœˆä»½èŒƒå›´æ˜¯0~11ï¼Œ5è¡¨ç¤ºå…­æœˆ</span></div><div class="line">now.getDate(); <span class="comment">// 24, è¡¨ç¤º24å·</span></div><div class="line">now.getDay(); <span class="comment">// 3, è¡¨ç¤ºæ˜ŸæœŸä¸‰</span></div><div class="line">now.getHours(); <span class="comment">// 19, 24å°æ—¶åˆ¶</span></div><div class="line">now.getMinutes(); <span class="comment">// 49, åˆ†é’Ÿ</span></div><div class="line">now.getSeconds(); <span class="comment">// 22, ç§’</span></div><div class="line">now.getMilliseconds(); <span class="comment">// 875, æ¯«ç§’æ•°</span></div><div class="line">now.getTime(); <span class="comment">// 1435146562875, ä»¥numberå½¢å¼è¡¨ç¤ºçš„æ—¶é—´æˆ³</span></div><div class="line"><span class="string">``</span><span class="string">`	</span></div><div class="line">*ps:getmouth()ä»0-11*</div><div class="line">#### RegExp</div><div class="line">ç”¨*è¡¨ç¤ºä»»æ„ä¸ªå­—ç¬¦ï¼ˆåŒ…æ‹¬0ä¸ªï¼‰ï¼Œç”¨+è¡¨ç¤ºè‡³å°‘ä¸€ä¸ªå­—ç¬¦ï¼Œç”¨?è¡¨ç¤º0ä¸ªæˆ–1ä¸ªå­—ç¬¦ï¼Œç”¨&#123;n&#125;è¡¨ç¤ºnä¸ªå­—ç¬¦ï¼Œç”¨&#123;n,m&#125;è¡¨ç¤ºn-mä¸ªå­—ç¬¦</div><div class="line"></div><div class="line">##### åˆ›å»ºæ­£åˆ™è¡¨è¾¾å¼ï¼š</div><div class="line"></div><div class="line">1. /.../</div><div class="line">2. new RegExp('...')</div><div class="line"></div><div class="line">ä¸¤ç§å†™æ³•æ˜¯ä¸€æ ·çš„ï¼š</div><div class="line">`<span class="string">``</span>javascript</div><div class="line"><span class="keyword">var</span> re1 = <span class="regexp">/ABC\-001/</span>;</div><div class="line"><span class="keyword">var</span> re2 = <span class="keyword">new</span> <span class="built_in">RegExp</span>(<span class="string">'ABC\\-001'</span>);</div><div class="line"></div><div class="line">re1; <span class="comment">// /ABC\-001/</span></div><div class="line">re2; <span class="comment">// /ABC\-001/</span></div></pre></td></tr></table></figure>
<p>æ³¨æ„ï¼Œå¦‚æœä½¿ç”¨ç¬¬äºŒç§å†™æ³•ï¼Œå› ä¸ºå­—ç¬¦ä¸²çš„è½¬ä¹‰é—®é¢˜ï¼Œå­—ç¬¦ä¸²çš„ä¸¤ä¸ª\å®é™…ä¸Šæ˜¯ä¸€ä¸ª\ã€‚</p>
<p>å…ˆçœ‹çœ‹å¦‚ä½•åˆ¤æ–­æ­£åˆ™è¡¨è¾¾å¼æ˜¯å¦åŒ¹é…ï¼š<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> re = <span class="regexp">/^\d&#123;3&#125;\-\d&#123;3,8&#125;$/</span>;</div><div class="line">re.test(<span class="string">'010-12345'</span>); <span class="comment">// true</span></div><div class="line">re.test(<span class="string">'010-1234x'</span>); <span class="comment">// false</span></div><div class="line">re.test(<span class="string">'010 12345'</span>); <span class="comment">// false</span></div></pre></td></tr></table></figure></p>
<p>RegExpå¯¹è±¡çš„<code>test()</code>æ–¹æ³•ç”¨äºæµ‹è¯•ç»™å®šçš„å­—ç¬¦ä¸²æ˜¯å¦ç¬¦åˆæ¡ä»¶ã€‚</p>
<h5 id="æå–å­ä¸²ï¼šexec"><a href="#æå–å­ä¸²ï¼šexec" class="headerlink" title="æå–å­ä¸²ï¼šexec();"></a>æå–å­ä¸²ï¼š<code>exec()</code>;</h5><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> re = <span class="regexp">/^(\d&#123;3&#125;)-(\d&#123;3,8&#125;)$/</span>;</div><div class="line">re.exec(<span class="string">'010-12345'</span>); <span class="comment">// ['010-12345', '010', '12345']</span></div><div class="line">re.exec(<span class="string">'010 12345'</span>); <span class="comment">// null</span></div><div class="line"><span class="string">``</span><span class="string">`	</span></div><div class="line">- exec()æ–¹æ³•åœ¨åŒ¹é…æˆåŠŸåï¼Œä¼šè¿”å›ä¸€ä¸ªArrayï¼Œç¬¬ä¸€ä¸ªå…ƒç´ æ˜¯æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…åˆ°çš„æ•´ä¸ªå­—ç¬¦ä¸²ï¼Œåé¢çš„å­—ç¬¦ä¸²è¡¨ç¤ºåŒ¹é…æˆåŠŸçš„å­ä¸²ã€‚</div><div class="line">- exec()æ–¹æ³•åœ¨åŒ¹é…å¤±è´¥æ—¶è¿”å›nullã€‚</div><div class="line">##### è´ªå©ªåŒ¹é…</div><div class="line">æ­£åˆ™åŒ¹é…é»˜è®¤æ˜¯è´ªå©ªåŒ¹é…ï¼Œä¹Ÿå°±æ˜¯åŒ¹é…å°½å¯èƒ½å¤šçš„å­—ç¬¦ã€‚ä¸¾ä¾‹å¦‚ä¸‹ï¼ŒåŒ¹é…å‡ºæ•°å­—åé¢çš„0ï¼š</div><div class="line">`<span class="string">``</span>javascript</div><div class="line"><span class="keyword">var</span> re = <span class="regexp">/^(\d+)(0*)$/</span>;</div><div class="line">re.exec(<span class="string">'102300'</span>); <span class="comment">// ['102300', '102300', '']</span></div></pre></td></tr></table></figure>
<p>ç”±äº\d+é‡‡ç”¨è´ªå©ªåŒ¹é…ï¼Œç›´æ¥æŠŠåé¢çš„0å…¨éƒ¨åŒ¹é…äº†ï¼Œç»“æœ0*åªèƒ½åŒ¹é…ç©ºå­—ç¬¦ä¸²äº†ã€‚</p>
<p>å¿…é¡»è®©\d+é‡‡ç”¨éè´ªå©ªåŒ¹é…ï¼ˆä¹Ÿå°±æ˜¯å°½å¯èƒ½å°‘åŒ¹é…ï¼‰ï¼Œæ‰èƒ½æŠŠåé¢çš„0åŒ¹é…å‡ºæ¥ï¼ŒåŠ ä¸ª?å°±å¯ä»¥è®©\d+é‡‡ç”¨éè´ªå©ªåŒ¹é…ï¼š<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> re = <span class="regexp">/^(\d+?)(0*)$/</span>;</div><div class="line">re.exec(<span class="string">'102300'</span>); <span class="comment">// ['102300', '1023', '00']</span></div></pre></td></tr></table></figure></p>
<h5 id="å…¨å±€æœç´¢"><a href="#å…¨å±€æœç´¢" class="headerlink" title="å…¨å±€æœç´¢"></a>å…¨å±€æœç´¢</h5><p>gï¼šå…¨å±€æœç´¢<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> r1 = <span class="regexp">/test/g</span>;</div><div class="line"><span class="comment">// ç­‰ä»·äº:</span></div><div class="line"><span class="keyword">var</span> r2 = <span class="keyword">new</span> <span class="built_in">RegExp</span>(<span class="string">'test'</span>, <span class="string">'g'</span>);</div></pre></td></tr></table></figure></p>
<p>å…¨å±€åŒ¹é…å¯ä»¥å¤šæ¬¡æ‰§è¡Œ<code>exec()</code>æ–¹æ³•æ¥æœç´¢ä¸€ä¸ªåŒ¹é…çš„å­—ç¬¦ä¸²ã€‚å½“æˆ‘ä»¬æŒ‡å®šgæ ‡å¿—åï¼Œæ¯æ¬¡è¿è¡Œ<code>exec()</code>ï¼Œæ­£åˆ™è¡¨è¾¾å¼æœ¬èº«ä¼šæ›´æ–°lastIndexå±æ€§ï¼Œè¡¨ç¤ºä¸Šæ¬¡åŒ¹é…åˆ°çš„æœ€åç´¢å¼•</p>
<p>iï¼šå¿½ç•¥å¤§å°å†™</p>
<p>mï¼šæ‰§è¡Œå¤šè¡ŒåŒ¹é…<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> re =  <span class="regexp">/^\w+\.?\w+@\w+\.(com|org)/</span>;</div><div class="line"><span class="comment">//æ­£åˆ™çš„ï½›ï½é‡Œè¡¨ç¤ºåŒ¹é…æ¬¡æ•°</span></div><div class="line"><span class="comment">//()è¡¨ç¤ºçš„å°±æ˜¯è¦æå–çš„åˆ†ç»„ï¼ˆGroupï¼‰</span></div><div class="line"><span class="keyword">var</span> re = <span class="regexp">/^(\d&#123;3&#125;)-(\d&#123;3,8&#125;)$/</span>;</div></pre></td></tr></table></figure></p>
<h4 id="JSON"><a href="#JSON" class="headerlink" title="JSON"></a>JSON</h4><p>JavaScript Object Notation</p>
<p>JSONæ˜¯ä¸€ç§æ•°æ®äº¤æ¢æ ¼å¼ï¼Œå¾ˆå¤šé«˜çº§è¯­è¨€å†…ç½®äº†JSONåº“ã€‚<br>1.åºåˆ—åŒ–ï¼ˆæŠŠJavaScriptå¯¹è±¡å˜æˆJSONï¼‰<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//é¦–å…ˆå®šä¹‰ä¸€ä¸ªå¯¹è±¡xiaoming</span></div><div class="line"><span class="keyword">var</span> xiaoming&#123;</div><div class="line">	<span class="attr">name</span>:<span class="string">'å°æ˜'</span>ï¼Œ</div><div class="line">	age:<span class="number">13</span>,</div><div class="line">	<span class="attr">gender</span>:<span class="literal">true</span>,</div><div class="line">	<span class="attr">height</span>:<span class="number">1.40</span>,</div><div class="line">	<span class="attr">grade</span>: <span class="literal">null</span>,</div><div class="line">	<span class="string">'middle-school'</span>: <span class="string">'\"W3C\" Middle School'</span>,</div><div class="line">	<span class="attr">skills</span>: [<span class="string">'JavaScript'</span>, <span class="string">'Java'</span>, <span class="string">'Python'</span>, <span class="string">'Lisp'</span>]</div><div class="line">&#125;;</div><div class="line"><span class="comment">//ç„¶ååºåˆ—åŒ–è¯¥å¯¹è±¡</span></div><div class="line"><span class="built_in">JSON</span>.stringify(xiaoming);</div><div class="line"><span class="comment">//äº§ç”Ÿæ•´é½ä¸€ç‚¹çš„JSONå­—ç¬¦ä¸²å¯ä»¥è¿™æ ·å†™ï¼š</span></div><div class="line"><span class="built_in">JSON</span>.stringify(xiaoming,<span class="literal">null</span>,<span class="string">'  '</span>);</div><div class="line"><span class="comment">//ç¬¬äºŒä¸ªå‚æ•°å¯ä»¥ç”¨ä¸€ä¸ªæ•°ç»„/å‡½æ•°ä»£æ›¿ã€‚ä»¥æ­¤äº§ç”Ÿç”¨æˆ·æ‰€éœ€çš„JSONå­—ç¬¦ä¸²ã€‚</span></div></pre></td></tr></table></figure></p>
<p>2.ååºåˆ—åŒ–ï¼Œå°±æ˜¯æŠŠJSONæ ¼å¼çš„å­—ç¬¦ä¸²å˜æˆä¸€ä¸ªJSå¯¹è±¡ã€‚<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">JSON</span>.parse(<span class="string">'&#123;"name":"å°æ˜","age"ï¼š14&#125;'</span>,<span class="function"><span class="keyword">function</span>(<span class="params">key,value</span>)</span>&#123;</div><div class="line">	<span class="keyword">if</span>(key===<span class="string">'name'</span>)&#123;</div><div class="line">  	<span class="keyword">return</span> value+<span class="string">'åŒå­¦'</span>;</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">return</span> value;</div><div class="line">&#125;);</div></pre></td></tr></table></figure></p>
<h3 id="é¢å‘å¯¹è±¡ç¼–ç¨‹"><a href="#é¢å‘å¯¹è±¡ç¼–ç¨‹" class="headerlink" title="é¢å‘å¯¹è±¡ç¼–ç¨‹"></a>é¢å‘å¯¹è±¡ç¼–ç¨‹</h3><p>åˆ›å»ºåŸå‹çš„æ–¹æ³•<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> Student = &#123;</div><div class="line">	<span class="attr">name</span>: <span class="string">'Robot'</span>,</div><div class="line">	<span class="attr">height</span>: <span class="number">1.2</span>,</div><div class="line">	<span class="attr">run</span>: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">    	<span class="built_in">console</span>.log(<span class="keyword">this</span>.name + <span class="string">' is running...'</span>);</div><div class="line">	&#125;</div><div class="line">&#125;;</div><div class="line"></div><div class="line"><span class="keyword">var</span> xiaoming = &#123;</div><div class="line">	<span class="attr">name</span>: <span class="string">'å°æ˜'</span></div><div class="line">&#125;;</div><div class="line"></div><div class="line">xiaoming.__proto__ = Student;</div></pre></td></tr></table></figure></p>
<p>ä½†æ˜¯ï¼Œç”±äºä½ç‰ˆæœ¬çš„IEä¹Ÿæ— æ³•ä½¿ç”¨<code>__proto__</code>ã€‚<code>Object.create()</code>æ–¹æ³•å¯ä»¥ä¼ å…¥ä¸€ä¸ªåŸå‹å¯¹è±¡ï¼Œå¹¶åˆ›å»ºä¸€ä¸ªåŸºäºè¯¥åŸå‹çš„æ–°å¯¹è±¡ï¼Œä½†æ˜¯æ–°å¯¹è±¡ä»€ä¹ˆå±æ€§éƒ½æ²¡æœ‰ï¼Œå› æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥ç¼–å†™ä¸€ä¸ªå‡½æ•°æ¥åˆ›å»ºxiaomingï¼š<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">createStudent</span>(<span class="params">name</span>) </span>&#123;</div><div class="line">	<span class="comment">// åŸºäºStudentåŸå‹åˆ›å»ºä¸€ä¸ªæ–°å¯¹è±¡:</span></div><div class="line">	<span class="keyword">var</span> s = <span class="built_in">Object</span>.create(Student);</div><div class="line">	<span class="comment">// åˆå§‹åŒ–æ–°å¯¹è±¡:</span></div><div class="line">	s.name = name;</div><div class="line">	<span class="keyword">return</span> s;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">var</span> xiaoming = createStudent(<span class="string">'å°æ˜'</span>);</div><div class="line">xiaoming.run(); <span class="comment">// å°æ˜ is running...</span></div><div class="line">xiaoming.__proto__ === Student; <span class="comment">// true</span></div></pre></td></tr></table></figure></p>
<p>####åˆ›å»ºå¯¹è±¡ï¼Šimportant<br>é™¤äº†ç›´æ¥ç”¨{ â€¦ }åˆ›å»ºä¸€ä¸ªå¯¹è±¡å¤–ï¼ŒJavaScriptè¿˜å¯ä»¥ç”¨ä¸€ç§æ„é€ å‡½æ•°çš„æ–¹æ³•æ¥åˆ›å»ºå¯¹è±¡ã€‚å®ƒçš„ç”¨æ³•æ˜¯ï¼Œå…ˆå®šä¹‰ä¸€ä¸ªæ„é€ å‡½æ•°ï¼š<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">Student</span>(<span class="params">name</span>) </span>&#123;</div><div class="line">	<span class="keyword">this</span>.name = name;</div><div class="line">	<span class="keyword">this</span>.hello = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">    	alert(<span class="string">'Hello, '</span> + <span class="keyword">this</span>.name + <span class="string">'!'</span>);</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>ä½ ä¼šé—®ï¼Œå’¦ï¼Œè¿™ä¸æ˜¯ä¸€ä¸ªæ™®é€šå‡½æ•°å—ï¼Ÿ</p>
<p>è¿™ç¡®å®æ˜¯ä¸€ä¸ªæ™®é€šå‡½æ•°ï¼Œä½†æ˜¯åœ¨JavaScriptä¸­ï¼Œå¯ä»¥ç”¨å…³é”®å­—newæ¥è°ƒç”¨è¿™ä¸ªå‡½æ•°ï¼Œå¹¶è¿”å›ä¸€ä¸ªå¯¹è±¡ï¼š<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> xiaoming = <span class="keyword">new</span> Student(<span class="string">'å°æ˜'</span>);</div><div class="line">xiaoming.name; <span class="comment">// 'å°æ˜'</span></div><div class="line">xiaoming.hello(); <span class="comment">// Hello, å°æ˜!</span></div></pre></td></tr></table></figure></p>
<p>æ³¨æ„ï¼Œå¦‚æœä¸å†™newï¼Œè¿™å°±æ˜¯ä¸€ä¸ªæ™®é€šå‡½æ•°ï¼Œå®ƒè¿”å›undefinedã€‚ä½†æ˜¯ï¼Œå¦‚æœå†™äº†newï¼Œå®ƒå°±å˜æˆäº†ä¸€ä¸ªæ„é€ å‡½æ•°ï¼Œå®ƒç»‘å®šçš„thisæŒ‡å‘æ–°åˆ›å»ºçš„å¯¹è±¡ï¼Œå¹¶é»˜è®¤è¿”å›thisï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œä¸éœ€è¦åœ¨æœ€åå†™return this;ã€‚</p>
<p>æ–°åˆ›å»ºçš„xiaomingçš„åŸå‹é“¾æ˜¯ï¼š</p>
<pre><code>xiaoming ----&gt; Student.prototype ----&gt; Object.prototype ----&gt; null
</code></pre><p>prototypeï¼constructor</p>
<p>ç”¨new Student()åˆ›å»ºçš„å¯¹è±¡è¿˜ä»åŸå‹ä¸Šè·å¾—äº†ä¸€ä¸ªconstructorå±æ€§ï¼Œå®ƒæŒ‡å‘å‡½æ•°Studentæœ¬èº«ï¼š<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div></pre></td><td class="code"><pre><div class="line">xiaoming.constructor === Student.prototype.constructor; <span class="comment">// true</span></div><div class="line">Student.prototype.constructor === Student; <span class="comment">// true</span></div><div class="line"></div><div class="line"><span class="built_in">Object</span>.getPrototypeOf(xiaoming) === Student.prototype; <span class="comment">// true</span></div><div class="line"></div><div class="line">xiaoming <span class="keyword">instanceof</span> Student; <span class="comment">// true</span></div><div class="line"><span class="string">``</span><span class="string">`	</span></div><div class="line">![åŸå‹é“¾](http://www.liaoxuefeng.com/files/attachments/00143529922671163eebb527bc14547ac11363bf186557d000/l)</div><div class="line">#### åŸå‹ç»§æ‰¿ï¼Šï¼Šimportant</div><div class="line">`<span class="string">``</span>javascript</div><div class="line"><span class="comment">// PrimaryStudentæ„é€ å‡½æ•°:</span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">PrimaryStudent</span>(<span class="params">props</span>) </span>&#123;</div><div class="line">	Student.call(<span class="keyword">this</span>, props);</div><div class="line">	<span class="keyword">this</span>.grade = props.grade || <span class="number">1</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">// ç©ºå‡½æ•°F:</span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">F</span>(<span class="params"></span>) </span>&#123;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">// æŠŠFçš„åŸå‹æŒ‡å‘Student.prototype:</span></div><div class="line">F.prototype = Student.prototype;</div><div class="line"></div><div class="line"><span class="comment">// æŠŠPrimaryStudentçš„åŸå‹æŒ‡å‘ä¸€ä¸ªæ–°çš„Få¯¹è±¡ï¼ŒFå¯¹è±¡çš„åŸå‹æ­£å¥½æŒ‡å‘Student.prototype:</span></div><div class="line">PrimaryStudent.prototype = <span class="keyword">new</span> F();</div><div class="line"></div><div class="line"><span class="comment">// æŠŠPrimaryStudentåŸå‹çš„æ„é€ å‡½æ•°ä¿®å¤ä¸ºPrimaryStudent:</span></div><div class="line">PrimaryStudent.prototype.constructor = PrimaryStudent;</div><div class="line"></div><div class="line"><span class="comment">// ç»§ç»­åœ¨PrimaryStudentåŸå‹ï¼ˆå°±æ˜¯new F()å¯¹è±¡ï¼‰ä¸Šå®šä¹‰æ–¹æ³•ï¼š</span></div><div class="line">PrimaryStudent.prototype.getGrade = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">	<span class="keyword">return</span> <span class="keyword">this</span>.grade;</div><div class="line">&#125;;</div><div class="line"></div><div class="line"><span class="comment">// åˆ›å»ºxiaoming:</span></div><div class="line"><span class="keyword">var</span> xiaoming = <span class="keyword">new</span> PrimaryStudent(&#123;</div><div class="line">	<span class="attr">name</span>: <span class="string">'å°æ˜'</span>,</div><div class="line">	<span class="attr">grade</span>: <span class="number">2</span></div><div class="line">&#125;);</div><div class="line">xiaoming.name; <span class="comment">// 'å°æ˜'</span></div><div class="line">xiaoming.grade; <span class="comment">// 2</span></div><div class="line"></div><div class="line"><span class="comment">// éªŒè¯åŸå‹:</span></div><div class="line">xiaoming.__proto__ === PrimaryStudent.prototype; <span class="comment">// true</span></div><div class="line">xiaoming.__proto__.__proto__ === Student.prototype; <span class="comment">// true</span></div><div class="line"></div><div class="line"><span class="comment">// éªŒè¯ç»§æ‰¿å…³ç³»:</span></div><div class="line">xiaoming <span class="keyword">instanceof</span> PrimaryStudent; <span class="comment">// true</span></div><div class="line">xiaoming <span class="keyword">instanceof</span> Student; <span class="comment">// true</span></div><div class="line"><span class="string">``</span><span class="string">`	</span></div><div class="line">![å›¾è§£](http://www.liaoxuefeng.com/files/attachments/001439872160923ca15925ec79f4692a98404ddb2ed5503000/l)</div><div class="line"></div><div class="line">æ³¨æ„ï¼Œå‡½æ•°Fä»…ç”¨äºæ¡¥æ¥ï¼Œæˆ‘ä»¬ä»…åˆ›å»ºäº†ä¸€ä¸ª`<span class="keyword">new</span> F()<span class="string">`å®ä¾‹ï¼Œè€Œä¸”ï¼Œæ²¡æœ‰æ”¹å˜åŸæœ‰çš„Studentå®šä¹‰çš„åŸå‹é“¾ã€‚</span></div><div class="line"></div><div class="line">å¦‚æœæŠŠç»§æ‰¿è¿™ä¸ªåŠ¨ä½œç”¨ä¸€ä¸ª`inherits()<span class="string">`å‡½æ•°å°è£…èµ·æ¥ï¼Œè¿˜å¯ä»¥éšè—Fçš„å®šä¹‰ï¼Œå¹¶ç®€åŒ–ä»£ç ï¼š</span></div><div class="line">`<span class="string">``</span>javascript</div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">inherits</span>(<span class="params">Child, Parent</span>) </span>&#123;</div><div class="line">	<span class="keyword">var</span> F = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;&#125;;</div><div class="line">	F.prototype = Parent.prototype;</div><div class="line">	Child.prototype = <span class="keyword">new</span> F();</div><div class="line">	Child.prototype.constructor = Child;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>è¿™ä¸ª<code>inherits()</code>å‡½æ•°å¯ä»¥å¤ç”¨ï¼š<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">Student</span>(<span class="params">props</span>) </span>&#123;</div><div class="line">	<span class="keyword">this</span>.name = props.name || <span class="string">'Unnamed'</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line">Student.prototype.hello = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">	alert(<span class="string">'Hello, '</span> + <span class="keyword">this</span>.name + <span class="string">'!'</span>);</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">PrimaryStudent</span>(<span class="params">props</span>) </span>&#123;</div><div class="line">	Student.call(<span class="keyword">this</span>, props);</div><div class="line">	<span class="keyword">this</span>.grade = props.grade || <span class="number">1</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">// å®ç°åŸå‹ç»§æ‰¿é“¾:</span></div><div class="line">inherits(PrimaryStudent, Student);</div><div class="line"></div><div class="line"><span class="comment">// ç»‘å®šå…¶ä»–æ–¹æ³•åˆ°PrimaryStudentåŸå‹:</span></div><div class="line">PrimaryStudent.prototype.getGrade = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">	<span class="keyword">return</span> <span class="keyword">this</span>.grade;</div><div class="line">&#125;;</div></pre></td></tr></table></figure></p>
<p>JavaScriptçš„åŸå‹ç»§æ‰¿å®ç°æ–¹å¼å°±æ˜¯ï¼š</p>
<ol>
<li><p>å®šä¹‰æ–°çš„æ„é€ å‡½æ•°ï¼Œå¹¶åœ¨å†…éƒ¨ç”¨<code>call()</code>è°ƒç”¨å¸Œæœ›â€œç»§æ‰¿â€çš„æ„é€ å‡½æ•°ï¼Œå¹¶ç»‘å®šthisï¼›</p>
</li>
<li><p>å€ŸåŠ©ä¸­é—´å‡½æ•°Få®ç°åŸå‹é“¾ç»§æ‰¿ï¼Œæœ€å¥½é€šè¿‡å°è£…çš„inheritså‡½æ•°å®Œæˆï¼›</p>
</li>
<li><p>ç»§ç»­åœ¨æ–°çš„æ„é€ å‡½æ•°çš„åŸå‹ä¸Šå®šä¹‰æ–°æ–¹æ³•ã€‚</p>
</li>
</ol>
<h4 id="classç»§æ‰¿"><a href="#classç»§æ‰¿" class="headerlink" title="classç»§æ‰¿"></a>classç»§æ‰¿</h4><p>classä»ES6å¼€å§‹æ­£å¼è¢«å¼•å…¥åˆ°JavaScriptä¸­ã€‚classçš„ç›®çš„å°±æ˜¯è®©å®šä¹‰ç±»æ›´ç®€å•ã€‚<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Student</span> </span>&#123;</div><div class="line">	<span class="keyword">constructor</span>(name) &#123;</div><div class="line">		<span class="keyword">this</span>.name = name;</div><div class="line">	&#125;</div><div class="line"></div><div class="line">	hello() &#123;</div><div class="line">		alert(<span class="string">'Hello, '</span> + <span class="keyword">this</span>.name + <span class="string">'!'</span>);</div><div class="line">	&#125;</div><div class="line">&#125;</div><div class="line">	</div><div class="line"><span class="comment">//è°ƒç”¨</span></div><div class="line"><span class="keyword">var</span> xiaoming = <span class="keyword">new</span> Student(<span class="string">'å°æ˜'</span>);</div><div class="line">xiaoming.hello();</div><div class="line">	</div><div class="line"><span class="comment">//ç»§æ‰¿</span></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">PrimaryStudent</span> <span class="keyword">extends</span> <span class="title">Student</span> </span>&#123;</div><div class="line">	<span class="keyword">constructor</span>(name, grade) &#123;</div><div class="line">		<span class="keyword">super</span>(name); <span class="comment">// è®°å¾—ç”¨superè°ƒç”¨çˆ¶ç±»çš„æ„é€ æ–¹æ³•!</span></div><div class="line">		<span class="keyword">this</span>.grade = grade;</div><div class="line">	&#125;</div><div class="line"></div><div class="line">	myGrade() &#123;</div><div class="line">		alert(<span class="string">'I am at grade '</span> + <span class="keyword">this</span>.grade);</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<h3 id="æµè§ˆå™¨"><a href="#æµè§ˆå™¨" class="headerlink" title="æµè§ˆå™¨"></a>æµè§ˆå™¨</h3><h4 id="æµè§ˆå™¨å¯¹è±¡"><a href="#æµè§ˆå™¨å¯¹è±¡" class="headerlink" title="æµè§ˆå™¨å¯¹è±¡"></a>æµè§ˆå™¨å¯¹è±¡</h4><ul>
<li><p>window</p>
</li>
<li><p>navigator</p>
  <figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">alert(<span class="string">'appName = '</span> + navigator.appName + <span class="string">'\n'</span> +</div><div class="line">	<span class="string">'appVersion = '</span> + navigator.appVersion + <span class="string">'\n'</span> +</div><div class="line">	<span class="string">'language = '</span> + navigator.language + <span class="string">'\n'</span> +</div><div class="line">	<span class="string">'platform = '</span> + navigator.platform + <span class="string">'\n'</span> +</div><div class="line">	<span class="string">'userAgent = '</span> + navigator.userAgent);</div></pre></td></tr></table></figure>
</li>
</ul>
<p><strong><em>è¯·æ³¨æ„</em></strong>ï¼Œnavigatorçš„ä¿¡æ¯å¯ä»¥å¾ˆå®¹æ˜“åœ°è¢«ç”¨æˆ·ä¿®æ”¹ï¼Œæ‰€ä»¥JavaScriptè¯»å–çš„å€¼ä¸ä¸€å®šæ˜¯æ­£ç¡®çš„ã€‚å¾ˆå¤šåˆå­¦è€…ä¸ºäº†é’ˆå¯¹ä¸åŒæµè§ˆå™¨ç¼–å†™ä¸åŒçš„ä»£ç ï¼Œå–œæ¬¢ç”¨ifåˆ¤æ–­æµè§ˆå™¨ç‰ˆæœ¬ï¼Œä¾‹å¦‚ï¼š<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> width;</div><div class="line"><span class="keyword">if</span> (getIEVersion(navigator.userAgent) &lt; <span class="number">9</span>) &#123;</div><div class="line">	width = <span class="built_in">document</span>.body.clientWidth;</div><div class="line">&#125; <span class="keyword">else</span> &#123;</div><div class="line">	width = <span class="built_in">window</span>.innerWidth;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>ä½†è¿™æ ·æ—¢å¯èƒ½åˆ¤æ–­ä¸å‡†ç¡®ï¼Œä¹Ÿå¾ˆéš¾ç»´æŠ¤ä»£ç ã€‚æ­£ç¡®çš„æ–¹æ³•æ˜¯å……åˆ†åˆ©ç”¨JavaScriptå¯¹ä¸å­˜åœ¨å±æ€§è¿”å›undefinedçš„ç‰¹æ€§ï¼Œç›´æ¥ç”¨çŸ­è·¯è¿ç®—ç¬¦||è®¡ç®—ï¼š</p>
<pre><code>var width = window.innerWidth || document.body.clientWidth;
</code></pre><ul>
<li><p>screen</p>
  <figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">screen.widthï¼šå±å¹•å®½åº¦ï¼Œä»¥åƒç´ ä¸ºå•ä½ï¼›</div><div class="line">screen.heightï¼šå±å¹•é«˜åº¦ï¼Œä»¥åƒç´ ä¸ºå•ä½ï¼›</div><div class="line">screen.colorDepthï¼šè¿”å›é¢œè‰²ä½æ•°ï¼Œå¦‚<span class="number">8</span>ã€<span class="number">16</span>ã€<span class="number">24</span>ã€‚</div></pre></td></tr></table></figure>
</li>
<li><p>location</p>
  <figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">location.protocol; <span class="comment">// 'http'</span></div><div class="line">location.host; <span class="comment">// 'www.example.com'</span></div><div class="line">location.port; <span class="comment">// '8080'</span></div><div class="line">location.pathname; <span class="comment">// '/path/index.html'</span></div><div class="line">location.search; <span class="comment">// '?a=1&amp;b=2'</span></div><div class="line">location.hash; <span class="comment">// 'TOP'</span></div><div class="line">location.assign(<span class="string">''</span>);<span class="comment">//åŠ è½½ä¸€ä¸ªæ–°é¡µé¢</span></div><div class="line">location.reload();<span class="comment">//é‡æ–°åŠ è½½å½“å‰é¡µé¢</span></div></pre></td></tr></table></figure>
</li>
<li><p>document</p>
<ul>
<li>document.getElementById()</li>
<li>document.getElementsByTagName()</li>
<li><p>document.cookie; // â€˜v=123; remember=true; prefer=zhâ€™</p>
<p>  <em>Cookieæ˜¯ç”±æœåŠ¡å™¨å‘é€çš„key-valueæ ‡ç¤ºç¬¦ã€‚å› ä¸ºHTTPåè®®æ˜¯æ— çŠ¶æ€çš„ï¼Œä½†æ˜¯æœåŠ¡å™¨è¦åŒºåˆ†åˆ°åº•æ˜¯å“ªä¸ªç”¨æˆ·å‘è¿‡æ¥çš„è¯·æ±‚ï¼Œå°±å¯ä»¥ç”¨Cookieæ¥åŒºåˆ†ã€‚å½“ä¸€ä¸ªç”¨æˆ·æˆåŠŸç™»å½•åï¼ŒæœåŠ¡å™¨å‘é€ä¸€ä¸ªCookieç»™æµè§ˆå™¨ï¼Œä¾‹å¦‚user=ABC123XYZ(åŠ å¯†çš„å­—ç¬¦ä¸²)â€¦ï¼Œæ­¤åï¼Œæµè§ˆå™¨è®¿é—®è¯¥ç½‘ç«™æ—¶ï¼Œä¼šåœ¨è¯·æ±‚å¤´é™„ä¸Šè¿™ä¸ªCookieï¼ŒæœåŠ¡å™¨æ ¹æ®Cookieå³å¯åŒºåˆ†å‡ºç”¨æˆ·ã€‚<br>Cookieè¿˜å¯ä»¥å­˜å‚¨ç½‘ç«™çš„ä¸€äº›è®¾ç½®ï¼Œä¾‹å¦‚ï¼Œé¡µé¢æ˜¾ç¤ºçš„è¯­è¨€ç­‰ç­‰ã€‚</em></p>
<p>JavaScriptå¯ä»¥é€šè¿‡document.cookieè¯»å–åˆ°å½“å‰é¡µé¢çš„Cookieï¼š</p>
<p>  document.cookie; // â€˜v=123; remember=true; prefer=zhâ€™<br>ç”±äºJavaScriptèƒ½è¯»å–åˆ°é¡µé¢çš„Cookieï¼Œè€Œç”¨æˆ·çš„ç™»å½•ä¿¡æ¯é€šå¸¸ä¹Ÿå­˜åœ¨Cookieä¸­ï¼Œè¿™å°±é€ æˆäº†å·¨å¤§çš„å®‰å…¨éšæ‚£ï¼Œè¿™æ˜¯å› ä¸ºåœ¨HTMLé¡µé¢ä¸­å¼•å…¥ç¬¬ä¸‰æ–¹çš„JavaScriptä»£ç æ˜¯å…è®¸çš„ï¼š</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">head</span>&gt;</span></div><div class="line">   		<span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"http://www.foo.com/jquery.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line">	<span class="tag">&lt;/<span class="name">head</span>&gt;</span></div><div class="line">	...</div><div class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></div></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ul>
<p>å¦‚æœå¼•å…¥çš„ç¬¬ä¸‰æ–¹çš„JavaScriptä¸­å­˜åœ¨æ¶æ„ä»£ç ï¼Œåˆ™www.foo.comç½‘ç«™å°†ç›´æ¥è·å–åˆ°www.example.comç½‘ç«™çš„ç”¨æˆ·ç™»å½•ä¿¡æ¯ã€‚</p>
<pre><code>ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼ŒæœåŠ¡å™¨åœ¨è®¾ç½®Cookieæ—¶å¯ä»¥ä½¿ç”¨httpOnlyï¼Œè®¾å®šäº†httpOnlyçš„Cookieå°†ä¸èƒ½è¢«JavaScriptè¯»å–ã€‚è¿™ä¸ªè¡Œä¸ºç”±æµè§ˆå™¨å®ç°ï¼Œä¸»æµæµè§ˆå™¨å‡æ”¯æŒhttpOnlyé€‰é¡¹ï¼ŒIEä»IE6 SP1å¼€å§‹æ”¯æŒã€‚

ä¸ºäº†ç¡®ä¿å®‰å…¨ï¼ŒæœåŠ¡å™¨ç«¯åœ¨è®¾ç½®Cookieæ—¶ï¼Œåº”è¯¥å§‹ç»ˆåšæŒä½¿ç”¨httpOnlyã€‚
</code></pre><ul>
<li><p>history</p>
<p>   ä»»ä½•æ—¶å€™éƒ½ä¸å»ºè®®ç”¨</p>
</li>
</ul>
<h4 id="æ“ä½œdomä¸¤ç§æ–¹æ³•ï¼šdocument-getå’Œqueryselector"><a href="#æ“ä½œdomä¸¤ç§æ–¹æ³•ï¼šdocument-getå’Œqueryselector" class="headerlink" title="æ“ä½œdomä¸¤ç§æ–¹æ³•ï¼šdocument.getå’Œqueryselector"></a>æ“ä½œdomä¸¤ç§æ–¹æ³•ï¼šdocument.getå’Œqueryselector</h4><p>æ–¹æ³•ä¸€<br>    <figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// è¿”å›IDä¸º'test'çš„èŠ‚ç‚¹ï¼š</span></div><div class="line"><span class="keyword">var</span> test = <span class="built_in">document</span>.getElementById(<span class="string">'test'</span>);</div><div class="line"></div><div class="line"><span class="comment">// å…ˆå®šä½IDä¸º'test-table'çš„èŠ‚ç‚¹ï¼Œå†è¿”å›å…¶å†…éƒ¨æ‰€æœ‰trèŠ‚ç‚¹ï¼š</span></div><div class="line"><span class="keyword">var</span> trs = <span class="built_in">document</span>.getElementById(<span class="string">'test-table'</span>).getElementsByTagName(<span class="string">'tr'</span>);</div><div class="line"></div><div class="line"><span class="comment">// å…ˆå®šä½IDä¸º'test-div'çš„èŠ‚ç‚¹ï¼Œå†è¿”å›å…¶å†…éƒ¨æ‰€æœ‰classåŒ…å«redçš„èŠ‚ç‚¹ï¼š</span></div><div class="line"><span class="keyword">var</span> reds = <span class="built_in">document</span>.getElementById(<span class="string">'test-div'</span>).getElementsByClassName(<span class="string">'red'</span>);</div><div class="line"></div><div class="line"><span class="comment">// è·å–èŠ‚ç‚¹testä¸‹çš„æ‰€æœ‰ç›´å±å­èŠ‚ç‚¹:</span></div><div class="line"><span class="keyword">var</span> cs = test.children;</div><div class="line"></div><div class="line"><span class="comment">// è·å–èŠ‚ç‚¹testä¸‹ç¬¬ä¸€ä¸ªã€æœ€åä¸€ä¸ªå­èŠ‚ç‚¹ï¼š</span></div><div class="line"><span class="keyword">var</span> first = test.firstElementChild;</div><div class="line"><span class="keyword">var</span> last = test.lastElementChild;</div></pre></td></tr></table></figure></p>
<p>æ–¹æ³•äºŒ<br>    <figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// é€šè¿‡querySelectorè·å–IDä¸ºq1çš„èŠ‚ç‚¹ï¼š</span></div><div class="line"><span class="keyword">var</span> q1 = <span class="built_in">document</span>.querySelector(<span class="string">'#q1'</span>);</div><div class="line"></div><div class="line"><span class="comment">// é€šè¿‡querySelectorAllè·å–q1èŠ‚ç‚¹å†…çš„ç¬¦åˆæ¡ä»¶çš„æ‰€æœ‰èŠ‚ç‚¹ï¼š</span></div><div class="line"><span class="keyword">var</span> ps = q1.querySelectorAll(<span class="string">'div.highlighted &gt; p'</span>);</div></pre></td></tr></table></figure></p>
<h5 id="æ›´æ–°dom"><a href="#æ›´æ–°dom" class="headerlink" title="æ›´æ–°dom"></a>æ›´æ–°dom</h5><ul>
<li><p>ä¿®æ”¹innerhtmlå±æ€§ï¼Œè¦æ³¨æ„å¯¹å­—ç¬¦ç¼–ç æ¥é¿å…XSSæ”»å‡»</p>
</li>
<li><p>ä¿®æ”¹innertextå’Œinnercontentå±æ€§ï¼Œç¡®ä¿æ— æ³•è®¾ç½®htmlæ ‡ç­¾</p>
</li>
<li><p>ä¿®æ”¹cssï¼ˆDOMèŠ‚ç‚¹çš„styleå±æ€§å¯¹åº”æ‰€æœ‰çš„CSSï¼Œå¯ä»¥ç›´æ¥è·å–æˆ–è®¾ç½®ã€‚å› ä¸ºCSSå…è®¸<code>font-size</code>è¿™æ ·çš„åç§°ï¼Œä½†å®ƒå¹¶éJavaScriptæœ‰æ•ˆçš„å±æ€§åï¼Œæ‰€ä»¥éœ€è¦åœ¨JavaScriptä¸­æ”¹å†™ä¸ºé©¼å³°å¼å‘½å<code>fontSize</code>ï¼‰</p>
  <figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// è·å–&lt;p id="p-id"&gt;...&lt;/p&gt;</span></div><div class="line"><span class="keyword">var</span> p = <span class="built_in">document</span>.getElementById(<span class="string">'p-id'</span>);</div><div class="line"><span class="comment">// è®¾ç½®CSS:</span></div><div class="line">p.style.color = <span class="string">'#ff0000'</span>;</div><div class="line">p.style.fontSize = <span class="string">'20px'</span>;</div><div class="line">p.style.paddingTop = <span class="string">'2em'</span>;</div></pre></td></tr></table></figure>
</li>
</ul>
<h5 id="æ’å…¥dom"><a href="#æ’å…¥dom" class="headerlink" title="æ’å…¥dom"></a>æ’å…¥dom</h5><p>appendChild<br>    <figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> d = <span class="built_in">document</span>.createElement(<span class="string">'style'</span>);</div><div class="line">d.setAttribute(<span class="string">'type'</span>, <span class="string">'text/css'</span>);</div><div class="line">d.innerHTML = <span class="string">'p &#123; color: red &#125;'</span>;</div><div class="line"><span class="built_in">document</span>.getElementsByTagName(<span class="string">'head'</span>)[<span class="number">0</span>].appendChild(d);</div></pre></td></tr></table></figure></p>
<p>insertBefore</p>
<p><code>parentElement.insertBefore(newElement, referenceElement);</code>ï¼Œå­èŠ‚ç‚¹ä¼šæ’å…¥åˆ°referenceElementä¹‹å‰ã€‚</p>
<p>å‡å®šæˆ‘ä»¬è¦æŠŠHaskellæ’å…¥åˆ°Pythonä¹‹å‰ï¼š<br><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="comment">&lt;!-- HTMLç»“æ„ --&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"list"</span>&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">p</span> <span class="attr">id</span>=<span class="string">"java"</span>&gt;</span>Java<span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">p</span> <span class="attr">id</span>=<span class="string">"python"</span>&gt;</span>Python<span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">p</span> <span class="attr">id</span>=<span class="string">"scheme"</span>&gt;</span>Scheme<span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure></p>
<p>å¯ä»¥è¿™ä¹ˆå†™ï¼š<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span></div><div class="line">	list = <span class="built_in">document</span>.getElementById(<span class="string">'list'</span>),</div><div class="line">	ref = <span class="built_in">document</span>.getElementById(<span class="string">'python'</span>),</div><div class="line">	haskell = <span class="built_in">document</span>.createElement(<span class="string">'p'</span>);</div><div class="line">haskell.id = <span class="string">'haskell'</span>;</div><div class="line">haskell.innerText = <span class="string">'Haskell'</span>;</div><div class="line">list.insertBefore(haskell, ref);</div><div class="line"><span class="string">``</span><span class="string">`	</span></div><div class="line">##### åˆ é™¤dom</div><div class="line">å…ˆè·å¾—çˆ¶èŠ‚ç‚¹ï¼Œç„¶åremovechild</div><div class="line">`<span class="string">``</span>javascript</div><div class="line"><span class="comment">// æ‹¿åˆ°å¾…åˆ é™¤èŠ‚ç‚¹:</span></div><div class="line"><span class="keyword">var</span> self = <span class="built_in">document</span>.getElementById(<span class="string">'to-be-removed'</span>);</div><div class="line"><span class="comment">// æ‹¿åˆ°çˆ¶èŠ‚ç‚¹:</span></div><div class="line"><span class="keyword">var</span> parent = self.parentElement;</div><div class="line"><span class="comment">// åˆ é™¤:</span></div><div class="line"><span class="keyword">var</span> removed = parent.removeChild(self);</div><div class="line">removed === self; <span class="comment">// true</span></div></pre></td></tr></table></figure></p>
<p><em>æ³¨æ„åˆ°åˆ é™¤åçš„èŠ‚ç‚¹è™½ç„¶ä¸åœ¨æ–‡æ¡£æ ‘ä¸­äº†ï¼Œä½†å…¶å®å®ƒè¿˜åœ¨å†…å­˜ä¸­ï¼Œå¯ä»¥éšæ—¶å†æ¬¡è¢«æ·»åŠ åˆ°åˆ«çš„ä½ç½®ã€‚</em></p>
<p>å½“ä½ éå†ä¸€ä¸ªçˆ¶èŠ‚ç‚¹çš„å­èŠ‚ç‚¹å¹¶è¿›è¡Œåˆ é™¤æ“ä½œæ—¶ï¼Œè¦æ³¨æ„ï¼Œchildrenå±æ€§æ˜¯ä¸€ä¸ªåªè¯»å±æ€§ï¼Œå¹¶ä¸”å®ƒåœ¨å­èŠ‚ç‚¹å˜åŒ–æ—¶ä¼šå®æ—¶æ›´æ–°ã€‚</p>
<h4 id="æ“ä½œè¡¨å•"><a href="#æ“ä½œè¡¨å•" class="headerlink" title="æ“ä½œè¡¨å•"></a>æ“ä½œè¡¨å•</h4><p>HTML5æ–°å¢äº†å¤§é‡æ ‡å‡†æ§ä»¶ï¼Œå¸¸ç”¨çš„åŒ…æ‹¬dateã€datetimeã€datetime-localã€colorç­‰ï¼Œå®ƒä»¬éƒ½ä½¿ç”¨<code>&lt;input&gt;</code>æ ‡ç­¾ï¼š<br><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"date"</span> <span class="attr">value</span>=<span class="string">"2015-07-01"</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"datetime-local"</span> <span class="attr">value</span>=<span class="string">"2015-07-01T02:03:04"</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"color"</span> <span class="attr">value</span>=<span class="string">"#ff0000"</span>&gt;</span></div></pre></td></tr></table></figure></p>
<p>æäº¤è¡¨å•ï¼š</p>
<ul>
<li><p><code>&lt;form&gt;</code>çš„<code>submit()</code>æ–¹æ³•</p>
  <figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">id</span>=<span class="string">"test-form"</span>&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">name</span>=<span class="string">"test"</span>&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">button</span> <span class="attr">type</span>=<span class="string">"button"</span> <span class="attr">onclick</span>=<span class="string">"doSubmitForm()"</span>&gt;</span>Submit<span class="tag">&lt;/<span class="name">button</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></div><div class="line"></div><div class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">doSubmitForm</span>(<span class="params"></span>) </span>&#123;</div><div class="line">	<span class="keyword">var</span> form = <span class="built_in">document</span>.getElementById(<span class="string">'test-form'</span>);</div><div class="line">	<span class="comment">// å¯ä»¥åœ¨æ­¤ä¿®æ”¹formçš„input...</span></div><div class="line">	<span class="comment">// æäº¤form:</span></div><div class="line">	form.submit();</div><div class="line">&#125;</div><div class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div></pre></td></tr></table></figure>
</li>
<li><p>å“åº”<code>&lt;form&gt;</code>æœ¬èº«çš„<code>onsubmit</code>äº‹ä»¶ï¼Œåœ¨æäº¤formæ—¶ä½œä¿®æ”¹ï¼š</p>
  <figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div></pre></td><td class="code"><pre><div class="line">	<span class="tag">&lt;<span class="name">form</span> <span class="attr">id</span>=<span class="string">"test-form"</span> <span class="attr">onsubmit</span>=<span class="string">"return checkForm()"</span>&gt;</span></div><div class="line">		<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">name</span>=<span class="string">"test"</span>&gt;</span></div><div class="line">		<span class="tag">&lt;<span class="name">button</span> <span class="attr">type</span>=<span class="string">"submit"</span>&gt;</span>Submit<span class="tag">&lt;/<span class="name">button</span>&gt;</span></div><div class="line">	<span class="tag">&lt;/<span class="name">form</span>&gt;</span></div><div class="line"></div><div class="line">	<span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></div><div class="line">	<span class="function"><span class="keyword">function</span> <span class="title">checkForm</span>(<span class="params"></span>) </span>&#123;</div><div class="line">		<span class="keyword">var</span> form = <span class="built_in">document</span>.getElementById(<span class="string">'test-form'</span>);</div><div class="line">		<span class="comment">// å¯ä»¥åœ¨æ­¤ä¿®æ”¹formçš„input...</span></div><div class="line">		<span class="comment">// ç»§ç»­ä¸‹ä¸€æ­¥:</span></div><div class="line">		<span class="keyword">return</span> <span class="literal">true</span>;</div><div class="line">	&#125;</div><div class="line">	<span class="tag">&lt;/<span class="name">script</span>&gt;</span> </div><div class="line">	```	</div><div class="line">***å¯†ç MD5åŠ å¯†***</div><div class="line">```html	</div><div class="line"><span class="comment">&lt;!-- HTML --&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">id</span>=<span class="string">"login-form"</span> <span class="attr">method</span>=<span class="string">"post"</span> <span class="attr">onsubmit</span>=<span class="string">"return checkForm()"</span>&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">id</span>=<span class="string">"username"</span> <span class="attr">name</span>=<span class="string">"username"</span>&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"password"</span> <span class="attr">id</span>=<span class="string">"password"</span> <span class="attr">name</span>=<span class="string">"password"</span>&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">button</span> <span class="attr">type</span>=<span class="string">"submit"</span>&gt;</span>Submit<span class="tag">&lt;/<span class="name">button</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></div><div class="line"></div><div class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">checkForm</span>(<span class="params"></span>) </span>&#123;</div><div class="line">	<span class="keyword">var</span> pwd = <span class="built_in">document</span>.getElementById(<span class="string">'password'</span>);</div><div class="line">	<span class="comment">// æŠŠç”¨æˆ·è¾“å…¥çš„æ˜æ–‡å˜ä¸ºMD5:</span></div><div class="line">	pwd.value = toMD5(pwd.value);</div><div class="line">	<span class="comment">// ç»§ç»­ä¸‹ä¸€æ­¥:</span></div><div class="line">	<span class="keyword">return</span> <span class="literal">true</span>;</div><div class="line">&#125;</div><div class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div></pre></td></tr></table></figure>
</li>
</ul>
<p>è¿™ä¸ªåšæ³•çœ‹ä¸Šå»æ²¡å•¥é—®é¢˜ï¼Œä½†ç”¨æˆ·è¾“å…¥äº†å£ä»¤æäº¤æ—¶ï¼Œå£ä»¤æ¡†çš„æ˜¾ç¤ºä¼šçªç„¶ä»å‡ ä¸ª<em>å˜æˆ32ä¸ª</em>ï¼ˆå› ä¸ºMD5æœ‰32ä¸ªå­—ç¬¦ï¼‰ã€‚</p>
<p>è¦æƒ³ä¸æ”¹å˜ç”¨æˆ·çš„è¾“å…¥ï¼Œå¯ä»¥åˆ©ç”¨<code>&lt;input type=&quot;hidden&quot;&gt;</code>å®ç°ï¼š<br><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line"><span class="comment">&lt;!-- HTML --&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">id</span>=<span class="string">"login-form"</span> <span class="attr">method</span>=<span class="string">"post"</span> <span class="attr">onsubmit</span>=<span class="string">"return checkForm()"</span>&gt;</span></div><div class="line">   	<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">id</span>=<span class="string">"username"</span> <span class="attr">name</span>=<span class="string">"username"</span>&gt;</span></div><div class="line">   	<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"password"</span> <span class="attr">id</span>=<span class="string">"input-password"</span>&gt;</span></div><div class="line">   	<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"hidden"</span> <span class="attr">id</span>=<span class="string">"md5-password"</span> <span class="attr">name</span>=<span class="string">"password"</span>&gt;</span></div><div class="line">   	<span class="tag">&lt;<span class="name">button</span> <span class="attr">type</span>=<span class="string">"submit"</span>&gt;</span>Submit<span class="tag">&lt;/<span class="name">button</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></div><div class="line"></div><div class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">checkForm</span>(<span class="params"></span>) </span>&#123;</div><div class="line">   	<span class="keyword">var</span> input_pwd = <span class="built_in">document</span>.getElementById(<span class="string">'input-password'</span>);</div><div class="line">   	<span class="keyword">var</span> md5_pwd = <span class="built_in">document</span>.getElementById(<span class="string">'md5-password'</span>);</div><div class="line">   	<span class="comment">// æŠŠç”¨æˆ·è¾“å…¥çš„æ˜æ–‡å˜ä¸ºMD5:</span></div><div class="line">   	md5_pwd.value = toMD5(input_pwd.value);</div><div class="line">   	<span class="comment">// ç»§ç»­ä¸‹ä¸€æ­¥:</span></div><div class="line">   	<span class="keyword">return</span> <span class="literal">true</span>;</div><div class="line">&#125;</div><div class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div></pre></td></tr></table></figure></p>
<h4 id="æ“ä½œæ–‡ä»¶"><a href="#æ“ä½œæ–‡ä»¶" class="headerlink" title="æ“ä½œæ–‡ä»¶"></a>æ“ä½œæ–‡ä»¶</h4><p>åœ¨HTMLè¡¨å•ä¸­ï¼Œå¯ä»¥ä¸Šä¼ æ–‡ä»¶çš„å”¯ä¸€æ§ä»¶å°±æ˜¯<code>&lt;input type=&quot;file&quot;&gt;</code>ã€‚</p>
<p>æ³¨æ„ï¼šå½“ä¸€ä¸ªè¡¨å•åŒ…å«<code>&lt;input type=&quot;file&quot;&gt;</code>æ—¶ï¼Œè¡¨å•çš„enctypeå¿…é¡»æŒ‡å®šä¸ºmultipart/form-dataï¼Œmethodå¿…é¡»æŒ‡å®šä¸ºpostï¼Œæµè§ˆå™¨æ‰èƒ½æ­£ç¡®ç¼–ç å¹¶ä»¥multipart/form-dataæ ¼å¼å‘é€è¡¨å•çš„æ•°æ®ã€‚</p>
<p>å‡ºäºå®‰å…¨è€ƒè™‘ï¼Œæµè§ˆå™¨åªå…è®¸ç”¨æˆ·ç‚¹å‡»<code>&lt;input type=&quot;file&quot;&gt;</code>æ¥é€‰æ‹©æœ¬åœ°æ–‡ä»¶ï¼Œç”¨JavaScriptå¯¹<code>&lt;input type=&quot;file&quot;&gt;</code>çš„valueèµ‹å€¼æ˜¯æ²¡æœ‰ä»»ä½•æ•ˆæœçš„ã€‚å½“ç”¨æˆ·é€‰æ‹©äº†ä¸Šä¼ æŸä¸ªæ–‡ä»¶åï¼ŒJavaScriptä¹Ÿæ— æ³•è·å¾—è¯¥æ–‡ä»¶çš„çœŸå®è·¯å¾„</p>
<p>ä½†æ˜¯jså¯ä»¥åœ¨æäº¤è¡¨å•æ—¶å¯¹æ–‡ä»¶æ‰©å±•ååšæ£€æŸ¥<br>    <figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> f = <span class="built_in">document</span>.getElementById(<span class="string">'test-file-upload'</span>);</div><div class="line"><span class="keyword">var</span> filename = f.value; <span class="comment">// 'C:\fakepath\test.png'</span></div><div class="line"><span class="keyword">if</span> (!filename || !(filename.endsWith(<span class="string">'.jpg'</span>) || filename.endsWith(<span class="string">'.png'</span>) || filename.endsWith(<span class="string">'.gif'</span>))) &#123;</div><div class="line">   	alert(<span class="string">'Can only upload image file.'</span>);</div><div class="line">   	<span class="keyword">return</span> <span class="literal">false</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>HTML5çš„File APIæä¾›äº†Fileå’ŒFileReaderä¸¤ä¸ªä¸»è¦å¯¹è±¡ï¼Œå¯ä»¥è·å¾—æ–‡ä»¶ä¿¡æ¯å¹¶è¯»å–æ–‡ä»¶ã€‚</p>
<p>ä¸‹é¢çš„ä¾‹å­æ¼”ç¤ºäº†å¦‚ä½•è¯»å–ç”¨æˆ·é€‰å–çš„å›¾ç‰‡æ–‡ä»¶ï¼Œå¹¶åœ¨ä¸€ä¸ª<div>ä¸­é¢„è§ˆå›¾åƒï¼š</div></p>
<pre><code><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span></div><div class="line">   	fileInput = <span class="built_in">document</span>.getElementById(<span class="string">'test-image-file'</span>),</div><div class="line">   	info = <span class="built_in">document</span>.getElementById(<span class="string">'test-file-info'</span>),</div><div class="line">   	preview = <span class="built_in">document</span>.getElementById(<span class="string">'test-image-preview'</span>);</div><div class="line"><span class="comment">// ç›‘å¬changeäº‹ä»¶:</span></div><div class="line">fileInput.addEventListener(<span class="string">'change'</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">   	<span class="comment">// æ¸…é™¤èƒŒæ™¯å›¾ç‰‡:</span></div><div class="line">   	preview.style.backgroundImage = <span class="string">''</span>;</div><div class="line">   	<span class="comment">// æ£€æŸ¥æ–‡ä»¶æ˜¯å¦é€‰æ‹©:</span></div><div class="line">   	<span class="keyword">if</span> (!fileInput.value) &#123;</div><div class="line">       	info.innerHTML = <span class="string">'æ²¡æœ‰é€‰æ‹©æ–‡ä»¶'</span>;</div><div class="line">       	<span class="keyword">return</span>;</div><div class="line">   	&#125;</div><div class="line">   	<span class="comment">// è·å–Fileå¼•ç”¨:</span></div><div class="line">   	<span class="keyword">var</span> file = fileInput.files[<span class="number">0</span>];</div><div class="line">   	<span class="comment">// è·å–Fileä¿¡æ¯:</span></div><div class="line">   	info.innerHTML = <span class="string">'æ–‡ä»¶: '</span> + file.name + <span class="string">'&lt;br&gt;'</span> +</div><div class="line">                    	<span class="string">'å¤§å°: '</span> + file.size + <span class="string">'&lt;br&gt;'</span> +</div><div class="line">                    	<span class="string">'ä¿®æ”¹: '</span> + file.lastModifiedDate;</div><div class="line">   	<span class="keyword">if</span> (file.type !== <span class="string">'image/jpeg'</span> &amp;&amp; file.type !== <span class="string">'image/png'</span> &amp;&amp; file.type !== <span class="string">'image/gif'</span>) &#123;</div><div class="line">       	alert(<span class="string">'ä¸æ˜¯æœ‰æ•ˆçš„å›¾ç‰‡æ–‡ä»¶!'</span>);</div><div class="line">       	<span class="keyword">return</span>;</div><div class="line">   	&#125;</div><div class="line">   	<span class="comment">// è¯»å–æ–‡ä»¶:</span></div><div class="line">   	<span class="keyword">var</span> reader = <span class="keyword">new</span> FileReader();</div><div class="line">   	reader.onload = <span class="function"><span class="keyword">function</span>(<span class="params">e</span>) </span>&#123;</div><div class="line">       	<span class="keyword">var</span></div><div class="line">           	data = e.target.result; <span class="comment">// 'data:image/jpeg;base64,/9j/4AAQSk...(base64ç¼–ç )...'            </span></div><div class="line">       	preview.style.backgroundImage = <span class="string">'url('</span> + data + <span class="string">')'</span>;</div><div class="line">   	&#125;;</div><div class="line">   	<span class="comment">// ä»¥DataURLçš„å½¢å¼è¯»å–æ–‡ä»¶:</span></div><div class="line">   	reader.readAsDataURL(file);</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
</code></pre><p><strong><em>å›è°ƒ</em></strong></p>
<p>ä¸Šé¢çš„ä»£ç è¿˜æ¼”ç¤ºäº†JavaScriptçš„ä¸€ä¸ªé‡è¦çš„ç‰¹æ€§å°±æ˜¯å•çº¿ç¨‹æ‰§è¡Œæ¨¡å¼ã€‚åœ¨JavaScriptä¸­ï¼Œæµè§ˆå™¨çš„JavaScriptæ‰§è¡Œå¼•æ“åœ¨æ‰§è¡ŒJavaScriptä»£ç æ—¶ï¼Œæ€»æ˜¯ä»¥å•çº¿ç¨‹æ¨¡å¼æ‰§è¡Œï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œä»»ä½•æ—¶å€™ï¼ŒJavaScriptä»£ç éƒ½ä¸å¯èƒ½åŒæ—¶æœ‰å¤šäº1ä¸ªçº¿ç¨‹åœ¨æ‰§è¡Œã€‚</p>
<p>ä½ å¯èƒ½ä¼šé—®ï¼Œå•çº¿ç¨‹æ¨¡å¼æ‰§è¡Œçš„JavaScriptï¼Œå¦‚ä½•å¤„ç†å¤šä»»åŠ¡ï¼Ÿ</p>
<p>åœ¨JavaScriptä¸­ï¼Œæ‰§è¡Œå¤šä»»åŠ¡å®é™…ä¸Šéƒ½æ˜¯å¼‚æ­¥è°ƒç”¨ï¼Œæ¯”å¦‚ä¸Šé¢çš„ä»£ç ï¼š</p>
<pre><code>reader.readAsDataURL(file);
</code></pre><p>å°±ä¼šå‘èµ·ä¸€ä¸ªå¼‚æ­¥æ“ä½œæ¥è¯»å–æ–‡ä»¶å†…å®¹ã€‚å› ä¸ºæ˜¯å¼‚æ­¥æ“ä½œï¼Œæ‰€ä»¥æˆ‘ä»¬åœ¨JavaScriptä»£ç ä¸­å°±ä¸çŸ¥é“ä»€ä¹ˆæ—¶å€™æ“ä½œç»“æŸï¼Œå› æ­¤éœ€è¦å…ˆè®¾ç½®ä¸€ä¸ªå›è°ƒå‡½æ•°ï¼š<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">reader.onload = <span class="function"><span class="keyword">function</span>(<span class="params">e</span>) </span>&#123;</div><div class="line">   	<span class="comment">// å½“æ–‡ä»¶è¯»å–å®Œæˆåï¼Œè‡ªåŠ¨è°ƒç”¨æ­¤å‡½æ•°:</span></div><div class="line">&#125;;</div></pre></td></tr></table></figure></p>
<p>å½“æ–‡ä»¶è¯»å–å®Œæˆåï¼ŒJavaScriptå¼•æ“å°†è‡ªåŠ¨è°ƒç”¨æˆ‘ä»¬è®¾ç½®çš„å›è°ƒå‡½æ•°ã€‚æ‰§è¡Œå›è°ƒå‡½æ•°æ—¶ï¼Œæ–‡ä»¶å·²ç»è¯»å–å®Œæ¯•ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥åœ¨å›è°ƒå‡½æ•°å†…éƒ¨å®‰å…¨åœ°è·å¾—æ–‡ä»¶å†…å®¹ã€‚</p>
<h4 id="AJAX"><a href="#AJAX" class="headerlink" title="AJAX"></a>AJAX</h4><p>AJAXè¯·æ±‚æ˜¯å¼‚æ­¥æ‰§è¡Œçš„ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œè¦é€šè¿‡å›è°ƒå‡½æ•°è·å¾—å“åº”ã€‚</p>
<p>åœ¨ç°ä»£æµè§ˆå™¨ä¸Šå†™AJAXä¸»è¦ä¾é XMLHttpRequestå¯¹è±¡ï¼š<br>    <figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">success</span>(<span class="params">text</span>) </span>&#123;</div><div class="line">   	<span class="keyword">var</span> textarea = <span class="built_in">document</span>.getElementById(<span class="string">'test-response-text'</span>);</div><div class="line">   	textarea.value = text;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">fail</span>(<span class="params">code</span>) </span>&#123;</div><div class="line">   	<span class="keyword">var</span> textarea = <span class="built_in">document</span>.getElementById(<span class="string">'test-response-text'</span>);</div><div class="line">   	textarea.value = <span class="string">'Error code: '</span> + code;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">var</span> request = <span class="keyword">new</span> XMLHttpRequest(); <span class="comment">// æ–°å»ºXMLHttpRequestå¯¹è±¡</span></div><div class="line"></div><div class="line">request.onreadystatechange = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123; <span class="comment">// çŠ¶æ€å‘ç”Ÿå˜åŒ–æ—¶ï¼Œå‡½æ•°è¢«å›è°ƒ</span></div><div class="line">   	<span class="keyword">if</span> (request.readyState === <span class="number">4</span>) &#123; <span class="comment">// æˆåŠŸå®Œæˆ</span></div><div class="line">       	<span class="comment">// åˆ¤æ–­å“åº”ç»“æœ:</span></div><div class="line">       	<span class="keyword">if</span> (request.status === <span class="number">200</span>) &#123;</div><div class="line">           	<span class="comment">// æˆåŠŸï¼Œé€šè¿‡responseTextæ‹¿åˆ°å“åº”çš„æ–‡æœ¬:</span></div><div class="line">           	<span class="keyword">return</span> success(request.responseText);</div><div class="line">       	&#125; <span class="keyword">else</span> &#123;</div><div class="line">           	<span class="comment">// å¤±è´¥ï¼Œæ ¹æ®å“åº”ç åˆ¤æ–­å¤±è´¥åŸå› :</span></div><div class="line">           	<span class="keyword">return</span> fail(request.status);</div><div class="line">       	&#125;</div><div class="line">   	&#125; <span class="keyword">else</span> &#123;</div><div class="line">       	<span class="comment">// HTTPè¯·æ±‚è¿˜åœ¨ç»§ç»­...</span></div><div class="line">   	&#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">// å‘é€è¯·æ±‚:</span></div><div class="line">request.open(<span class="string">'GET'</span>, <span class="string">'/api/categories'</span>);</div><div class="line">request.send();</div><div class="line"></div><div class="line">alert(<span class="string">'è¯·æ±‚å·²å‘é€ï¼Œè¯·ç­‰å¾…å“åº”...'</span>);</div></pre></td></tr></table></figure></p>
<h5 id="CORSï¼Ÿï¼Ÿï¼Ÿ"><a href="#CORSï¼Ÿï¼Ÿï¼Ÿ" class="headerlink" title="CORSï¼Ÿï¼Ÿï¼Ÿ"></a>CORSï¼Ÿï¼Ÿï¼Ÿ</h5><h4 id="Promiseï¼Ÿï¼Ÿï¼Ÿ"><a href="#Promiseï¼Ÿï¼Ÿï¼Ÿ" class="headerlink" title="Promiseï¼Ÿï¼Ÿï¼Ÿ"></a>Promiseï¼Ÿï¼Ÿï¼Ÿ</h4><h4 id="Canvas"><a href="#Canvas" class="headerlink" title="Canvas*"></a>Canvas<em>*</em></h4><p>Canvasçš„åæ ‡ä»¥å·¦ä¸Šè§’ä¸ºåŸç‚¹ï¼Œæ°´å¹³å‘å³ä¸ºXè½´ï¼Œå‚ç›´å‘ä¸‹ä¸ºYè½´ï¼Œä»¥åƒç´ ä¸ºå•ä½ï¼Œæ‰€ä»¥æ¯ä¸ªç‚¹éƒ½æ˜¯éè´Ÿæ•´æ•°ã€‚</p>
<p><code>CanvasRenderingContext2D</code>å¯¹è±¡æœ‰è‹¥å¹²æ–¹æ³•æ¥</p>
<h5 id="ç»˜åˆ¶å›¾å½¢ï¼š"><a href="#ç»˜åˆ¶å›¾å½¢ï¼š" class="headerlink" title="ç»˜åˆ¶å›¾å½¢ï¼š"></a>ç»˜åˆ¶å›¾å½¢ï¼š</h5><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line"><span class="meta">'use strict'</span>;</div><div class="line"></div><div class="line"><span class="keyword">var</span></div><div class="line">   	canvas = <span class="built_in">document</span>.getElementById(<span class="string">'test-shape-canvas'</span>),</div><div class="line">   	ctx = canvas.getContext(<span class="string">'2d'</span>);</div><div class="line">   	ctx.clearRect(<span class="number">0</span>, <span class="number">0</span>, <span class="number">200</span>, <span class="number">200</span>); <span class="comment">// æ“¦é™¤(0,0)ä½ç½®å¤§å°ä¸º200x200çš„çŸ©å½¢ï¼Œæ“¦é™¤çš„æ„æ€æ˜¯æŠŠè¯¥åŒºåŸŸå˜ä¸ºé€æ˜</span></div><div class="line">	ctx.fillStyle = <span class="string">'#dddddd'</span>; <span class="comment">// è®¾ç½®é¢œè‰²</span></div><div class="line">	ctx.fillRect(<span class="number">10</span>, <span class="number">10</span>, <span class="number">130</span>, <span class="number">130</span>); <span class="comment">// æŠŠ(10,10)ä½ç½®å¤§å°ä¸º130x130çš„çŸ©å½¢æ¶‚è‰²</span></div><div class="line">	<span class="comment">// åˆ©ç”¨Pathç»˜åˆ¶å¤æ‚è·¯å¾„:</span></div><div class="line">	<span class="keyword">var</span> path=<span class="keyword">new</span> Path2D();</div><div class="line">	path.arc(<span class="number">75</span>, <span class="number">75</span>, <span class="number">50</span>, <span class="number">0</span>, <span class="built_in">Math</span>.PI*<span class="number">2</span>, <span class="literal">true</span>);</div><div class="line">	path.moveTo(<span class="number">110</span>,<span class="number">75</span>);</div><div class="line">	path.arc(<span class="number">75</span>, <span class="number">75</span>, <span class="number">35</span>, <span class="number">0</span>, <span class="built_in">Math</span>.PI, <span class="literal">false</span>);</div><div class="line">	path.moveTo(<span class="number">65</span>, <span class="number">65</span>);</div><div class="line">	path.arc(<span class="number">60</span>, <span class="number">65</span>, <span class="number">5</span>, <span class="number">0</span>, <span class="built_in">Math</span>.PI*<span class="number">2</span>, <span class="literal">true</span>);</div><div class="line">	path.moveTo(<span class="number">95</span>, <span class="number">65</span>);</div><div class="line">	path.arc(<span class="number">90</span>, <span class="number">65</span>, <span class="number">5</span>, <span class="number">0</span>, <span class="built_in">Math</span>.PI*<span class="number">2</span>, <span class="literal">true</span>);</div><div class="line">	ctx.strokeStyle = <span class="string">'#0000ff'</span>;</div><div class="line">	ctx.stroke(path);</div></pre></td></tr></table></figure>
<h5 id="ç»˜åˆ¶æ–‡æœ¬"><a href="#ç»˜åˆ¶æ–‡æœ¬" class="headerlink" title="ç»˜åˆ¶æ–‡æœ¬"></a>ç»˜åˆ¶æ–‡æœ¬</h5><p>ç»˜åˆ¶æ–‡æœ¬å°±æ˜¯åœ¨æŒ‡å®šçš„ä½ç½®è¾“å‡ºæ–‡æœ¬ï¼Œå¯ä»¥è®¾ç½®æ–‡æœ¬çš„å­—ä½“ã€æ ·å¼ã€é˜´å½±ç­‰ï¼Œä¸CSSå®Œå…¨ä¸€è‡´ï¼š<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="meta">'use strict'</span>;</div><div class="line"></div><div class="line"><span class="keyword">var</span></div><div class="line">   	canvas = <span class="built_in">document</span>.getElementById(<span class="string">'test-text-canvas'</span>),</div><div class="line">   	ctx = canvas.getContext(<span class="string">'2d'</span>);</div><div class="line">   	ctx.clearRect(<span class="number">0</span>, <span class="number">0</span>, canvas.width, canvas.height);</div><div class="line">	ctx.shadowOffsetX = <span class="number">2</span>;</div><div class="line">	ctx.shadowOffsetY = <span class="number">2</span>;</div><div class="line">	ctx.shadowBlur = <span class="number">2</span>;</div><div class="line">	ctx.shadowColor = <span class="string">'#666666'</span>;</div><div class="line">	ctx.font = <span class="string">'24px Arial'</span>;</div><div class="line">	ctx.fillStyle = <span class="string">'#333333'</span>;</div><div class="line">	ctx.fillText(<span class="string">'å¸¦é˜´å½±çš„æ–‡å­—'</span>, <span class="number">20</span>, <span class="number">40</span>);</div></pre></td></tr></table></figure></p>
]]></content>
      
        <categories>
            
            <category> Javascript </category>
            
        </categories>
        
        
        <tags>
            
            <tag> Javascript </tag>
            
            <tag> ES6 </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[æˆ‘ä¸ºä»€ä¹ˆè¦ç”¨Node.js?]]></title>
      <url>http://yoursite.com/2016/08/27/%E6%88%91%E4%B8%BA%E4%BB%80%E4%B9%88%E8%A6%81%E7%94%A8Node-js/</url>
      <content type="html"><![CDATA[<p><em>è‹±æ–‡å‡ºå¤„ï¼š<a href="https://www.toptal.com/nodejs/why-the-hell-would-i-use-node-js" target="_blank" rel="external">toptal</a>ã€‚</em><br>JavaScript é«˜æ¶¨çš„äººæ°”å¸¦æ¥äº†å¾ˆå¤šå˜åŒ–ï¼Œä»¥è‡³äºå¦‚ä»Šä½¿ç”¨å…¶è¿›è¡Œç½‘ç»œå¼€å‘çš„å½¢å¼ä¹Ÿå˜å¾—æˆªç„¶ä¸åŒäº†ã€‚å°±å¦‚åŒåœ¨æµè§ˆå™¨ä¸­ä¸€æ ·ï¼Œç°åœ¨æˆ‘ä»¬ä¹Ÿå¯ä»¥åœ¨æœåŠ¡å™¨ä¸Šè¿è¡Œ JavaScript ï¼Œä»å‰ç«¯è·¨è¶Šåˆ°åç«¯ï¼Œè¿™æ ·å·¨å¤§çš„åå·®è®©äººéš¾ä»¥æƒ³è±¡ï¼Œå› ä¸ºä»…ä»…åœ¨å‡ å¹´å‰ Javascript è¿˜å¦‚åŒ Flash æˆ–è€… Java applet é‚£æ ·åµŒå…¥ç½‘é¡µåœ¨æ²™ç®±ç¯å¢ƒä¸­è¿è¡Œã€‚<br><img src="https://www.visualstudio.com/wp-content/uploads/2016/06/Nodejs-2-562x309@2x-op.png" alt=""><br><a id="more"></a></p>
<h2 id="ä»‹ç»"><a href="#ä»‹ç»" class="headerlink" title="ä»‹ç»"></a>ä»‹ç»</h2><p>åœ¨æ·±å…¥Node.jsä¹‹å‰ï¼Œä½ å¯èƒ½éœ€è¦é˜…è¯»å’Œäº†è§£ä½¿ç”¨è·¨æ ˆå¼JavaScriptï¼ˆJavaScript across the stackï¼‰å¸¦æ¥çš„å¥½å¤„ï¼Œå®ƒç»Ÿä¸€äº†ç¼–ç¨‹è¯­è¨€å’Œæ•°æ®æ ¼å¼ï¼ˆJSONï¼‰ï¼Œè®©ä½ èƒ½æœ€ä½³åœ°é‡ç”¨å¼€å‘äººå‘˜èµ„æºã€‚ç”±äºè¿™æ›´å¤šçš„æ˜¯å…³äº JavaScript çš„ç‰¹ç‚¹ï¼Œè¿™é‡Œå°±ä¸è¿‡å¤šè®¨è®ºå®ƒã€‚ä½†å®ƒç¡®å®æ˜¯ä¸€ä¸ªè®©äººåœ¨å¼€å‘ç¯èŠ‚ä¸­ä½¿ç”¨ Notode çš„å…³é”®çš„ä¼˜ç‚¹ã€‚</p>
<p>æ­£å¦‚ç»´åŸºç™¾ç§‘ æ‰€è¯´ï¼šâ€œNode.js æ˜¯è°·æ­Œ V8 å¼•æ“ã€libuvå¹³å°æŠ½è±¡å±‚ ä»¥åŠä¸»ä½“ä½¿ç”¨ Javscript ç¼–å†™çš„æ ¸å¿ƒåº“ä¸‰è€…é›†åˆçš„ä¸€ä¸ªåŒ…è£…å¤–å£³ã€‚â€ é™¤æ­¤ä¹‹å¤–ï¼Œå€¼å¾—æ³¨æ„çš„æ˜¯ï¼ŒNode.js çš„ä½œè€…ç‘æ©Â·è¾¾å°” (Ryan Dahl) çš„ç›®æ ‡æ˜¯åˆ›å»ºå…·æœ‰å®æ—¶æ¨é€èƒ½åŠ›çš„ç½‘ç«™ã€‚åœ¨ Node.js ä¸­ï¼Œä»–ç»™äº†å¼€å‘è€…ä¸€ä¸ªä½¿ç”¨äº‹ä»¶é©±åŠ¨æ¥å®ç°å¼‚æ­¥å¼€å‘çš„ä¼˜ç§€è§£å†³æ–¹æ¡ˆã€‚ï¼ˆæ³¨ï¼šV8æ˜¯è°·æ­Œå¼€å‘çš„ï¼Œç›®å‰å…¬è®¤æœ€å¿«çš„ Javascript è§£æå¼•æ“ï¼Œlibuv æ˜¯ä¸€ä¸ªå¼€æºçš„ã€ä¸º Node å®šåˆ¶è€Œç”Ÿçš„è·¨å¹³å°çš„å¼‚æ­¥ IO åº“ã€‚ï¼‰</p>
<p>ç®€è€Œè¨€ä¹‹ï¼šNode.js åœ¨å®æ—¶çš„ Webåº”ç”¨ä¸Šé‡‡ç”¨äº†åŸºäº WebSocket çš„æ¨é€æŠ€æœ¯ã€‚è¿™æ„å‘³ç€ä»€ä¹ˆæ ·çš„é©å‘½æ€§ï¼ŸWellï¼Œåœ¨ç»è¿‡äº†20å¤šå¹´çš„åŸºäºæ— çŠ¶æ€çš„è¯·æ±‚-è¿”æœºåˆ¶çš„æ— çŠ¶æ€äº¤äº’ä¹‹åï¼Œæˆ‘ä»¬ç»ˆäºæœ‰äº†å®æ—¶çš„ï¼ŒåŒå‘è¿æ¥çš„webåº”ç”¨ï¼Œå®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ç«¯éƒ½å¯ä»¥å‘èµ·é€šä¿¡ï¼Œèƒ½å¤Ÿè‡ªç”±åœ°äº¤æ¢æ•°æ®ã€‚ä¸æ­¤å½¢æˆé²œæ˜å¯¹æ¯”çš„æ˜¯ä¼ ç»Ÿçš„ webå“åº”æ¨¡å¼ï¼Œå®¢æˆ·ç«¯æ€»æ˜¯ä¸»åŠ¨å‘èµ·é€šä¿¡è€ŒæœåŠ¡ç«¯è¢«åŠ¨è¿”å›ã€‚æ­¤å¤–ï¼Œè¿™äº›éƒ½æ˜¯åŸºäºè¿è¡Œåœ¨æ ‡å‡†80ç«¯å£ä¸Šçš„å¼€æ”¾Webç»„ä»¶ï¼ˆHTMLã€CSSå’ŒJSï¼‰ã€‚</p>
<p>å¯èƒ½æœ‰äººä¼šè¯´ï¼Œæˆ‘ä»¬å·²ç»ä½¿ç”¨ Flash å’Œ Java Applet çš„å½¢å¼å¾ˆå¤šå¹´äº†â€”â€”ä½†å®é™…ä¸Šï¼Œè¿™äº›æ–¹å¼åªæ˜¯ä½¿ç”¨ç½‘ç»œå°†æ•°æ®ä¼ é€’åˆ°å®¢æˆ·ç«¯ä¸Šçš„æ²™ç®±ç¯å¢ƒã€‚ä»–ä»¬éƒ½æ˜¯éš”ç¦»è¿è¡Œçš„ï¼Œè€Œä¸”ç»å¸¸æ“ä½œåˆ°éœ€è¦é¢å¤–çš„æƒé™ä¹‹ç±»çš„éæ ‡å‡†ç«¯å£ã€‚</p>
<p>å‡­å€Ÿå…¶ç‹¬ç‰¹çš„ä¼˜åŠ¿ï¼ŒNode.jsçš„ç°åœ¨å·²ç»åœ¨è®¸å¤šè‘—åå…¬å¸çš„äº§å“ä¸­èµ·åˆ°äº†å…³é”®ä½œç”¨ã€‚</p>
<p>åœ¨è¿™ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘ä»¬ä¸ä»…å°†è®¨è®ºè¿™äº›ä¼˜åŠ¿æ˜¯å¦‚ä½•å®ç°çš„ï¼Œè€Œä¸”ä¹Ÿä¼šè®¨è®ºä¸ºä»€ä¹ˆä½ ä½¿ç”¨ Node.js æ¥æ›¿ä»£ä¸€äº›ç»å…¸çš„Webåº”ç”¨ç¨‹åºæ¨¡å‹ã€‚</p>
<h2 id="Node-js-æ˜¯å¦‚ä½•å·¥ä½œçš„ï¼Ÿ"><a href="#Node-js-æ˜¯å¦‚ä½•å·¥ä½œçš„ï¼Ÿ" class="headerlink" title="Node.js æ˜¯å¦‚ä½•å·¥ä½œçš„ï¼Ÿ"></a>Node.js æ˜¯å¦‚ä½•å·¥ä½œçš„ï¼Ÿ</h2><p>Node.js çš„ä¸»è¦æ€è·¯æ˜¯ï¼šä½¿ç”¨éé˜»å¡çš„ï¼Œäº‹ä»¶é©±åŠ¨çš„ I/O æ“ä½œæ¥ä¿æŒåœ¨å¤„ç†è·¨å¹³å° (across distributed devices) æ•°æ®å¯†é›†å‹å®æ—¶åº”ç”¨æ—¶çš„è½»å·§é«˜æ•ˆã€‚è¿™å¬èµ·æ¥æœ‰ç‚¹ç»•å£ã€‚</p>
<p>å®ƒçš„çœŸæ­£å«ä¹‰æ˜¯ï¼ŒNode.js ä¸æ˜¯ä¸€ä¸ªå³å°†ä¸»å¯¼Webå¼€å‘çš„ä¸–ç•Œçš„é“¶å¼¹çº§çš„å¹³å°ã€‚ç›¸åï¼Œå®ƒæ˜¯ä¸€ä¸ªæ»¡è¶³ç‰¹åˆ«éœ€æ±‚çš„å¹³å°ã€‚ä½ è‚¯å®šä¸ä¼šå¸Œæœ›ä½¿ç”¨ Node.js å»åš CPUå¯†é›†å‹æ“ä½œã€‚äº‹å®ä¸Šï¼Œä½¿ç”¨å®ƒè¿›è¡Œç¹é‡çš„è®¡ç®—ç­‰äºæ‘’å¼ƒ Node å‡ ä¹æ‰€æœ‰çš„ä¼˜ç‚¹ã€‚Node çœŸæ­£çš„äº®ç‚¹åœ¨äºå»ºè®¾é«˜æ€§èƒ½ï¼Œé«˜æ‰©å±•æ€§çš„äº’è”ç½‘åº”ç”¨â€”â€”å› ä¸ºå®ƒèƒ½å¤Ÿå¤„ç†åºå¤§çš„å¹¶ä¸”é«˜ååé‡çš„å¹¶å‘è¿æ¥ã€‚</p>
<p>å®ƒçš„å·¥ä½œåŸç†æ˜¯ç›¸å½“æœ‰è¶£çš„ã€‚ä¼ ç»Ÿçš„ç½‘ç»œæœåŠ¡æŠ€æœ¯ï¼Œæ˜¯æ¯ä¸ªæ–°å¢ä¸€ä¸ªè¿æ¥ï¼ˆè¯·æ±‚ï¼‰ä¾¿ç”Ÿæˆä¸€ä¸ªæ–°çš„çº¿ç¨‹ï¼Œè¿™ä¸ªæ–°çš„çº¿ç¨‹ä¼šå ç”¨ç³»ç»Ÿå†…å­˜ï¼Œæœ€ç»ˆä¼šå æ‰æ‰€æœ‰çš„å¯ç”¨å†…å­˜ã€‚è€Œ Node.js ä»…ä»…åªè¿è¡Œåœ¨ä¸€ä¸ªå•çº¿ç¨‹ä¸­ï¼Œä½¿ç”¨éé˜»å¡çš„å¼‚æ­¥ I/O è°ƒç”¨ï¼Œæ‰€æœ‰è¿æ¥éƒ½ç”±è¯¥çº¿ç¨‹å¤„ç†ï¼Œåœ¨ libuv çš„åŠ åˆ†ä¸‹ï¼Œå¯ä»¥å…è®¸å…¶æ”¯æŒæ•°ä¸‡å¹¶å‘è¿æ¥ï¼ˆå…¨éƒ¨æŒ‚åœ¨è¯¥çº¿ç¨‹çš„äº‹ä»¶å¾ªç¯ä¸­ï¼‰ã€‚</p>
<p><img src="http://jbcdn2.b0.upaiyun.com/2013/12/toptal-blog-1_B.png" alt="toptal-blog-1_B"></p>
<p>åšä¸€ä¸ªç®€å•çš„è®¡ç®—: å‡è®¾æ˜¯æ™®é€šçš„Webç¨‹åºï¼Œæ–°æ¥å…¥ä¸€ä¸ªè¿æ¥ä¼šå ç”¨ 2M çš„å†…å­˜ï¼Œåœ¨æœ‰ 8GB RAMçš„ç³»ç»Ÿä¸Šè¿è¡Œæ—¶, ç®—ä¸Šçº¿ç¨‹ä¹‹é—´ä¸Šä¸‹æ–‡åˆ‡æ¢çš„æˆæœ¬ï¼Œå¹¶å‘è¿æ¥çš„æœ€å¤§ç†è®ºå€¼åˆ™ä¸º 4000 ä¸ªã€‚è¿™æ˜¯åœ¨ä¼ ç»Ÿ WebæœåŠ¡ç«¯æŠ€æœ¯ä¸‹çš„å¤„ç†æƒ…å†µã€‚è€Œ Node.js åˆ™è¾¾åˆ°äº†çº¦ 1M ä¸€ä¸ªå¹¶å‘è¿æ¥çš„æ‹“å±•çº§åˆ«.</p>
<p>å½“ç„¶ï¼Œåœ¨æ‰€æœ‰å®¢æˆ·ç«¯çš„è¯·æ±‚å…±äº«å•ä¸€çº¿ç¨‹æ—¶ä¹Ÿä¼šæœ‰é—®é¢˜, è¿™ä¹Ÿæ˜¯ä¸€ä¸ªç¼–å†™ Node.js åº”ç”¨çš„æ½œåœ¨ç¼ºé™·. é¦–å…ˆ, å¤§é‡çš„è®¡ç®—å¯èƒ½ä¼šä½¿å¾— Node çš„å•çº¿ç¨‹æš‚æ—¶å¤±å»ååº”, å¹¶å¯¼è‡´æ‰€æœ‰çš„å…¶ä»–å®¢æˆ·ç«¯çš„è¯·æ±‚ä¸€ç›´é˜»å¡, ç›´åˆ°è®¡ç®—ç»“æŸæ‰æ¢å¤æ­£å¸¸ã€‚ å…¶æ¬¡ï¼Œå¼€å‘äººå‘˜éœ€è¦éå¸¸å°å¿ƒï¼Œä¸è¦è®©ä¸€ä¸ª Exception é˜»å¡æ ¸å¿ƒçš„äº‹ä»¶å¾ªç¯ï¼Œå› ä¸ºè¿™å°†å¯¼è‡´ Node.js å®ä¾‹çš„ç»ˆæ­¢ï¼ˆå®é™…ä¸Šå°±æ˜¯ç¨‹åºå´©æºƒï¼‰ã€‚ï¼ˆ ç¬”è€…æ³¨ï¼šå¦‚ PHP ä¸­æŸä¸ªé¡µé¢æŒ‚æ‰æ˜¯ä¸ä¼šå½±å“ç½‘ç«™è¿è¡Œçš„ï¼Œä½†æ˜¯ Nodejs æ˜¯ä¸€ä¸ªçº¿ç¨‹ä¸€ä¸ªçº¿ç¨‹æ¥å¤„ç†æ‰€æœ‰çš„é“¾æ¥ï¼Œæ‰€ä»¥ä¸è®ºæ˜¯è®¡ç®—å¡äº†æˆ–è€…æ˜¯è¢«å¼‚å¸¸é˜»å¡äº†éƒ½å¯èƒ½ä¼šå½±å“åˆ°å…¶ä»–æ‰€æœ‰çš„é“¾æ¥ã€‚è§£å†³æ–¹æ¡ˆåœ¨ç¨åè®¨è®ºã€‚ï¼‰</p>
<p>ç”¨æ¥é¿å…å¼‚å¸¸æŠ›å‡ºæ—¶ä¸­æ–­è¿›ç¨‹çš„æ–¹æ³•æ˜¯å°†å¼‚å¸¸ä½¿ç”¨å›è°ƒä¼ é€’å‡ºå»ï¼ˆè€Œä¸æ˜¯æŠ›å‡ºä»–ä»¬ï¼Œå°±åƒåœ¨å…¶ä»–ç¯å¢ƒä¸­ä¸€æ ·ï¼‰ã€‚å³ä½¿ä¸€äº›æœªå¤„ç†çš„å¼‚å¸¸é˜»å¡äº†ç¨‹åºï¼Œä¾æ—§æœ‰å¤šç§åº”å¯¹çš„è§£å†³æ–¹æ¡ˆï¼Œè€Œä¸”ä¹Ÿæœ‰å¾ˆå¤šå¯ç”¨äºç›‘è§† Node è¿›ç¨‹æ¥æ‰§è¡Œå¿…è¦çš„å´©æºƒåæ¢å¤å·¥ä½œçš„ç­–ç•¥å’Œå·¥å…·ï¼ˆè™½ç„¶ä½ å°†æ— æ³•æ¢å¤ç”¨æˆ·çš„ Session ï¼‰ï¼Œæœ€å¸¸è§çš„æ˜¯ä½¿ç”¨ Forever æ¨¡å—ï¼Œæˆ–è€…é‡‡ç”¨å…¶ä»–çš„å¤–éƒ¨ç³»ç»Ÿå·¥å…·å¦‚ upstart and monitã€‚</p>
<h2 id="NPM-The-Node-Package-Manager"><a href="#NPM-The-Node-Package-Manager" class="headerlink" title="NPM: The Node Package Manager"></a>NPM: The Node Package Manager</h2><p>å½“æˆ‘ä»¬è®¨è®º Node.js çš„æ—¶å€™ï¼Œä¸€ä¸ªç»å¯¹ä¸åº”è¯¥å¿½ç•¥åœ°æ–¹å°±æ˜¯é»˜è®¤å†…ç½®çš„æ¨¡å—ç®¡ç†å·¥å…· â€”â€” NPMã€‚ å…¶çµæ„Ÿæ¥æºä¸ Ruby Gemsï¼ˆå…·æœ‰ç‰ˆæœ¬å’Œä¾èµ–ç®¡ç†åŠŸèƒ½ï¼Œå¯ä»¥é€šè¿‡åœ¨çº¿èµ„æ–™åº“ä¾¿æ·å®‰è£…å¯é‡ç”¨çš„ç»„ä»¶çš„ç®¡ç†å·¥å…·ï¼‰ã€‚</p>
<p>ä¸€ä¸ªå®Œæ•´çš„å…¬ç”¨æ¨¡å—åˆ—è¡¨å¯ä»¥åœ¨ NPM çš„ç½‘ç«™ä¸Šæ‰¾åˆ°ï¼ˆ<a href="https:://npmjs.org/" target="_blank" rel="external">https:://npmjs.org/</a>ï¼‰ï¼Œæˆ–è€…é€šè¿‡ä½¿ç”¨ä¸ Node.js ä¸€åŒå®‰è£…çš„ NPM CLI å·¥å…·æ”¾é—®åˆ°ã€‚è¯¥æ¨¡å—çš„ç”Ÿæ€ç³»ç»Ÿå‘æ‰€æœ‰äººå¼€æ”¾ï¼Œä»»ä½•äººéƒ½å¯ä»¥å‘å¸ƒè‡ªå·±çš„æ¨¡å—ï¼Œæ‰€æœ‰çš„æ¨¡å—éƒ½å¯ä»¥åœ¨ NPM èµ„æ–™åº“ä¸­æ‰¾åˆ°ã€‚ä½ å¯ä»¥åœ¨ <a href="http://howtonode.org/introduction-to-npm" target="_blank" rel="external">http://howtonode.org/introduction-to-npm</a> é¡µé¢æ‰¾åˆ° NPM çš„ä¸€ä¸ªç®€è¦ä»‹ç»ï¼ˆæœ‰ç‚¹æ—§ï¼Œä½†ä¾æ—§èƒ½çœ‹ï¼‰ã€‚</p>
<p>ç›®å‰éå¸¸æµè¡Œçš„ä¸€äº› NPM æ¨¡å—æœ‰ï¼š</p>
<ul>
<li><a href="http://expressjs.com/" target="_blank" rel="external">express</a> â€“ Express.js,æ˜¯ä¸€ä¸ªç®€æ´è€Œçµæ´»çš„ node.js Webåº”ç”¨æ¡†æ¶, å¹¶ä¸”å·²ç»æ˜¯ç°åœ¨å¤§å¤šæ•° Node.js åº”ç”¨çš„æ ‡å‡†æ¡†æ¶ï¼Œä½ å·²ç»å¯ä»¥åœ¨å¾ˆå¤š Node.js çš„ä¹¦ç±ä¸­çœ‹åˆ°å®ƒäº†ã€‚</li>
<li><a href="https://github.com/senchalabs/connect#readme" target="_blank" rel="external">connect</a> â€“ Connect æ˜¯ä¸€ä¸ª Node.js çš„ HTTP æœåŠ¡æ‹“å±•æ¡†æ¶ï¼Œæä¾›ä¸€ä¸ªé«˜æ€§èƒ½çš„â€œæ’ä»¶â€é›†åˆï¼Œä»¥ä¸­é—´ä»¶é—»åï¼Œæ˜¯ Express çš„åŸºç¡€éƒ¨åˆ†ä¹‹ä¸€ã€‚</li>
<li><a href="http://socket.io/" target="_blank" rel="external">socket.io</a> å’Œ <a href="https://github.com/sockjs" target="_blank" rel="external">sockjs</a> â€“ ç›®å‰æœåŠ¡ç«¯æœ€æµè¡Œçš„ä¸¤ä¸ª websocket ç»„ä»¶ã€‚</li>
<li><a href="http://jade-lang.com/" target="_blank" rel="external">Jade</a> â€“ æµè¡Œçš„æ¨¡æ¿å¼•æ“ä¹‹ä¸€ï¼Œå¹¶ä¸”æ˜¯ Express.js çš„é»˜è®¤æ¨¡æ¿å¼•æ“ã€‚å…¶çµæ„Ÿæ¥æºäº HAMLã€‚</li>
<li><a href="https://npmjs.org/package/mongodb" target="_blank" rel="external">mongo</a> å’Œ <a href="https://github.com/mafintosh/mongojs" target="_blank" rel="external">mongojs</a> â€“ å°è£…äº† MongoDB çš„çš„å„ç§ APIï¼Œä¸è¿‡ç¬”è€…å¹³å¸¸å·¥ä½œç”¨çš„æ˜¯ <a href="http://mongoosejs.com/" target="_blank" rel="external">mongoose</a> ä¹Ÿå¾ˆæ¨èã€‚</li>
<li><a href="https://github.com/NodeRedis/node_redis" target="_blank" rel="external">redis</a> â€“ Redis çš„å®¢æˆ·ç«¯å‡½æ•°åº“.</li>
<li><a href="https://npmjs.org/package/coffee-script" target="_blank" rel="external">coffee-script</a> â€“ CoffeeScript ç¼–è¯‘å™¨ï¼Œå…è®¸å¼€å‘è€…ä½¿ç”¨ Coffee æ¥ç¼–å†™ä»–ä»¬çš„ Node.js ç¨‹åºã€‚</li>
<li><a href="https://npmjs.org/package/underscore" target="_blank" rel="external">underscore</a> (<a href="https://lodash.com/" target="_blank" rel="external">lodash</a>, <a href="https://www.npmjs.com/package/lazy" target="_blank" rel="external">lazy</a>) â€“ æœ€æµè¡Œçš„ JavaScript å·¥å…·åº“ , ç”¨äº Node.js çš„å°è£…åŒ…ï¼Œä»¥åŠä¸¤ä¸ªé‡‡å–ç•¥æœ‰ä¸åŒçš„å®ç°æ–¹æ³•æ¥è·å¾—æ›´å¥½æ€§èƒ½çš„åŒè¡Œã€‚</li>
<li><a href="https://www.npmjs.com/package/forever" target="_blank" rel="external">forever</a> â€“ å¯èƒ½æ˜¯ç”¨æ¥ç¡®ä¿ node è„šæœ¬æŒç»­è¿è¡Œçš„æœ€æµè¡Œçš„å·¥å…·ã€‚</li>
</ul>
<p>è¿˜æœ‰å¾ˆå¤šå¥½çš„æ¨¡å—ï¼Œè¿™é‡Œå°±ä¸ä¸€ä¸€åˆ—ä¸¾äº†ï¼ˆå¸Œæœ›æ²¡æœ‰å†’çŠ¯åˆ°æ²¡åˆ—ä¸¾çš„ï¼‰ã€‚</p>
<h2 id="Node-js-åº”è¯¥ç”¨åœ¨ä»€ä¹ˆåœ°æ–¹"><a href="#Node-js-åº”è¯¥ç”¨åœ¨ä»€ä¹ˆåœ°æ–¹" class="headerlink" title="Node.js åº”è¯¥ç”¨åœ¨ä»€ä¹ˆåœ°æ–¹"></a>Node.js åº”è¯¥ç”¨åœ¨ä»€ä¹ˆåœ°æ–¹</h2><h3 id="èŠå¤©"><a href="#èŠå¤©" class="headerlink" title="èŠå¤©"></a>èŠå¤©</h3><p>èŠå¤©æ˜¯æœ€å…¸å‹çš„å¤šç”¨æˆ·å®æ—¶äº¤äº’çš„åº”ç”¨ã€‚ä» IRC å¼€å§‹ï¼Œæœ‰è®¸å¤šå¼€æºæˆ–è€…ä¸å¼€æºçš„åè®®éƒ½è¿è¡Œåœ¨éæ ‡å‡†ç«¯å£ä¸Šï¼Œè€Œç°åœ¨ï¼Œä½¿ç”¨ Node.js åˆ™å¯ä»¥è§£å†³è¿™äº›é—®é¢˜â€”â€”åœ¨æ ‡å‡†çš„80ç«¯å£è¿è¡Œ WebSocketsã€‚</p>
<p>èŠå¤©åº”ç”¨ç¨‹åºæ˜¯æœ€èƒ½ä½“ç° Node.js ä¼˜ç‚¹çš„ä¾‹å­ï¼šè½»é‡çº§ã€é«˜æµé‡å¹¶ä¸”èƒ½è‰¯å¥½çš„åº”å¯¹è·¨å¹³å°è®¾å¤‡ä¸Šè¿è¡Œå¯†é›†å‹æ•°æ®ï¼ˆè™½ç„¶è®¡ç®—èƒ½åŠ›ä½ï¼‰ã€‚åŒæ—¶ï¼ŒèŠå¤©ä¹Ÿæ˜¯ä¸€ä¸ªéå¸¸å€¼å¾—å­¦ä¹ çš„ç”¨ä¾‹ï¼Œå› ä¸ºå®ƒå¾ˆç®€å•ï¼Œå¹¶ä¸”æ¶µç›–äº†ç›®å‰ä¸ºæ­¢ä¸€ä¸ªå…¸å‹çš„ Node.js ä¼šç”¨åˆ°çš„å¤§éƒ¨åˆ†è§£å†³æ–¹æ¡ˆã€‚</p>
<p>è®©æˆ‘ä»¬è¯•ç€æ¥æç»˜å®ƒå¦‚ä½•å·¥ä½œã€‚</p>
<p>åœ¨æœ€ç®€å•çš„æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å¸ƒç½®äº†ä¸€ä¸ªèŠå¤©å®¤åœ¨æˆ‘ä»¬çš„ç½‘ç«™ä¸Šï¼Œç”¨æˆ·å¯ä»¥åœ¨ä¸Šé¢å‘æ¶ˆæ¯ï¼Œå½“ç„¶æ˜¯ä¸€å¯¹å¤šçš„å½¢å¼ã€‚ä¾‹å¦‚ï¼Œå‡è®¾æ€»å…±æœ‰ä¸‰ä¸ªäººè¿æ¥åˆ°æˆ‘ä»¬çš„ç½‘ç«™ä¸Šã€‚</p>
<p>åœ¨æœåŠ¡ç«¯è¿™è¾¹ï¼Œ æˆ‘ä»¬æœ‰ä¸€ä¸ªä½¿ç”¨ Express.js æ­å»ºçš„ç®€å•ç«™ç‚¹ï¼Œè¯¥ç«™ç‚¹å®ç°äº†ä¸¤ä»¶äº‹ </p>
<ol>
<li>å¤„ç†è·¯å¾„ä¸º â€˜/â€™ çš„GETè¯·æ±‚æ—¶ï¼Œä¸‹å‘åŒ…æ‹¬ä¸€ä¸ªç•™è¨€æ¿ä»¥åŠä¸€ä¸ªå‘é€ä¿¡æ¯çš„ â€˜å‘é€â€™ æŒ‰é’®çš„é¡µé¢ </li>
<li>ä¸€ä¸ªç›‘å¬å®¢æˆ·ç«¯å‘é€æ–°æ¶ˆæ¯çš„ websockets æœåŠ¡ã€‚</li>
</ol>
<p>åœ¨å®¢æˆ·ç«¯è¿™è¾¹ï¼Œæˆ‘ä»¬æœ‰ä¸€ä¸ª HTML é¡µé¢ï¼Œä¸Šé¢æœ‰ä¸ªä¸¤ä¸ª js æ–¹æ³•ï¼Œä¸€ä¸ªæ˜¯ç”¨äºè§¦å‘äº‹ä»¶çš„ â€œå‘é€â€ æŒ‰é’®ï¼Œè¿™ä¼šæŠŠæŠŠè¾“å…¥çš„æ¶ˆæ¯é€šè¿‡ webscoket å‘é€ï¼Œå¦ä¸€ä¸ªæ–¹æ³•æ˜¯ç”¨ webscoket åœ¨å®¢æˆ·ç«¯ä¸Šç›‘å¬æœåŠ¡ç«¯æ¥çš„æ¨é€ï¼ˆä¾‹å¦‚ï¼Œå…¶ä»–ç”¨æˆ·å‘é€çš„æ¶ˆæ¯ï¼‰ã€‚</p>
<p>å½“æœ‰ä¸€ä¸ªå®¢æˆ·ç«¯å‘é€æ¶ˆæ¯çš„æ—¶å€™ï¼Œå‘ç”Ÿçš„äº‹æƒ…æ˜¯ï¼š</p>
<ol>
<li>æµè§ˆå™¨ä¸Šï¼Œç‚¹å‡»å‘é€æŒ‰é’®è§¦å‘äº† js å‡½æ•°ï¼Œå°†è¾“å…¥æ¡†ä¸­çš„æ–‡å­—é€šè¿‡ websocket æ¶ˆæ¯å‘é€åˆ°æœåŠ¡å™¨çš„ websocket å®¢æˆ·ç«¯ï¼ˆé¡µé¢åˆå§‹åŒ–åŠ è½½çš„æ—¶å€™è¿æ¥çš„ï¼‰ã€‚</li>
<li>æœåŠ¡ç«¯çš„ websocket ç»„ä»¶æ”¶åˆ° æ¶ˆæ¯ï¼Œç„¶åé€šè¿‡å¹¿æ’­æ–¹æ³•è½¬å‘åˆ°å…¶ä»–æ‰€æœ‰è¿æ¥çš„å®¢æˆ·ç«¯ã€‚</li>
<li>é€šè¿‡é¡µé¢ä¸Šè¿è¡Œçš„ websocket å®¢æˆ·ç«¯ç»„ä»¶ï¼Œæ‰€æœ‰çš„å®¢æˆ·ç«¯éƒ½èƒ½æ”¶åˆ°è¿™æ¡æ¨é€çš„æ–°æ¶ˆæ¯ã€‚æ¥ç€ js å¤„ç†å‡½æ•°å¯ä»¥æŠŠè¿™ä¸ªæ¶ˆæ¯æ·»åŠ åˆ°æ–‡å­—æ¡†å†…ã€‚</li>
</ol>
<p> <img src="http://jbcdn2.b0.upaiyun.com/2013/12/toptal-blog-2_B.png" alt="img1"></p>
<p>è¿™æ˜¯ä¸€ä¸ªæœ€ç®€å•çš„ä¾‹å­ã€‚å¦‚æœè¦æ›´å¥½çš„è§£å†³æ–¹æ¡ˆï¼Œä½ å¯ä»¥ä½¿ç”¨ Redis æ•°æ®åº“åšä¸€ä¸ªç®€å•çš„ç¼“å­˜ã€‚åœ¨ä¸€ä¸ªæ›´é«˜çº§çš„è§£å†³æ–¹æ¡ˆä¸­ï¼Œä½ å¯èƒ½éœ€è¦ä¸€ä¸ªæ¶ˆæ¯è·¯ç”±æ¥ä¸“é—¨å¤„ç†æ¶ˆæ¯é˜Ÿåˆ—ï¼Œå¹¶ä¸”éœ€è¦ä¸€ä¸ªæ›´å¼ºå¥çš„å‘é€æœºåˆ¶ï¼Œæ¯”å¦‚å‘é€çš„æ—¶å€™è¦†ç›–ä¸Šæš‚æ—¶ç¦»çº¿çš„ç”¨æˆ·æˆ–è€…ä¸ºç¦»çº¿çš„æ³¨å†Œç”¨æˆ·å­˜å‚¨å°šæœªæ¥æ”¶çš„æ¶ˆæ¯ç­‰ç­‰ã€‚ä½†æ˜¯ä¸è®ºä½ åšäº†æ€ä¹ˆæ ·çš„æ”¹è¿›ï¼ŒNode.js éƒ½å°†éµå¾ªä¸€ä¸ªåŸºæœ¬åŸåˆ™ï¼šå“åº”äº‹ä»¶ï¼Œå¤„ç†å¤šä¸ªå¹¶å‘è¿æ¥ï¼Œå¹¶ä¿æŒæµåŠ¨æ€§çš„ç”¨æˆ·ä½“éªŒã€‚</p>
<h3 id="å¯¹è±¡æ•°æ®åº“æ¥å£ï¼ˆAPI-ON-TOP-OF-AN-OBJECT-DBï¼‰"><a href="#å¯¹è±¡æ•°æ®åº“æ¥å£ï¼ˆAPI-ON-TOP-OF-AN-OBJECT-DBï¼‰" class="headerlink" title="å¯¹è±¡æ•°æ®åº“æ¥å£ï¼ˆAPI ON TOP OF AN OBJECT DBï¼‰"></a>å¯¹è±¡æ•°æ®åº“æ¥å£ï¼ˆAPI ON TOP OF AN OBJECT DBï¼‰</h3><p>å°½ç®¡ï¼ŒNode.js ç¡®å®éå¸¸æ“…é•¿å®æ—¶äº¤äº’çš„åº”ç”¨ï¼ŒåŒæ—¶å®ƒä¹Ÿååˆ†é€‚åˆé€šè¿‡å¯¹è±¡æ•°æ®åº“ï¼ˆobject DBï¼‰æ¥æŸ¥è¯¢æ•°æ®ï¼ˆå¦‚ MongoDBï¼‰ã€‚ä»¥ JSON æ ¼å¼å­˜å‚¨çš„æ•°æ®å…è®¸ Node.js ç›´æ¥å¤„ç†ï¼Œä¸éœ€è¦çº ç»“æ•°æ®è½¬æ¢å’ŒåŒ¹é…çš„é—®é¢˜ã€‚</p>
<p>ä¸¾ä¸ªä¾‹å­ï¼Œå¦‚æœä½ æ­£åœ¨ä½¿ç”¨ Railsï¼Œä½ ä¼šå°† JSON æ•°æ®è½¬æˆ äºŒè¿›åˆ¶çš„ modelï¼Œå½“æ•°æ®å†è¢« Backbone.js, Angular.js æˆ–è€… jQuery AJAX ä¹‹ç±»çš„è°ƒç”¨åˆè¦è½¬å› JSONã€‚å¦‚æœæ˜¯ Nodejs çš„è¯ï¼Œä½ å¯ä»¥é€šè¿‡ä¸€ä¸ª REST API ç®€å•çš„å¯¼å‡º JSON å¯¹è±¡ä»¥ä¾›å®¢æˆ·ç«¯ä½¿ç”¨ã€‚å¦å¤–ï¼Œä»æ•°æ®åº“è¯»å†™æ—¶å€™å¦‚æœä½¿ç”¨çš„æ˜¯ MongoDB çš„è¯ï¼Œä½ ä¹Ÿä¸ç”¨æ‹…å¿ƒçš„ JSON ä¸ä»»ä½•æ•°æ®ä¹‹é—´çš„æ ¼å¼é—®é¢˜ã€‚æ€»ä¹‹ï¼Œä½ å¯ä»¥é¿å…å¤šå…ƒçš„æ•°æ®è½¬æ¢é—®é¢˜ï¼Œä¸è®ºæ˜¯åœ¨å®¢æˆ·ç«¯ã€æœåŠ¡ç«¯è¿˜æ˜¯æ•°æ®åº“ã€‚</p>
<h3 id="é˜Ÿåˆ—è¾“å…¥"><a href="#é˜Ÿåˆ—è¾“å…¥" class="headerlink" title="é˜Ÿåˆ—è¾“å…¥"></a>é˜Ÿåˆ—è¾“å…¥</h3><p>å¦‚æœä½ æ­£åœ¨æ¥æ”¶ä¸€ä¸ªé«˜é‡å¹¶å‘çš„æ•°æ®ï¼Œä½ çš„æ•°æ®åº“å¯èƒ½ä¼šæˆä¸ºä½ å¤„ç†çš„ç“¶é¢ˆã€‚æ­£å¦‚ä¸Šé¢çš„æè¿°ï¼ŒNode.js å¯ä»¥è½»æ¾çš„å¤„ç†å¹¶å‘è¿æ¥ã€‚ ä½†æ˜¯ï¼Œç”±äºæ•°æ®åº“æ“ä½œæ˜¯ä¸€ä¸ªé˜»å¡çš„æ“ä½œï¼ˆåœ¨è¿™ç§æƒ…å†µä¸‹ï¼‰ï¼Œè¿™å°±æ˜¯éº»çƒ¦çš„åœ°æ–¹ã€‚Node.jsçš„è§£å†³æ–¹æ¡ˆæ˜¯ï¼Œåœ¨æ•°æ®çœŸæ­£çš„å†™å…¥ä¹‹å‰å°±æ‰¿è®¤å®¢æˆ·ç«¯çš„æ•°æ®æ˜¯çœŸå®çš„ã€‚</p>
<p>ç”¨è¿™ç§æ–¹æ³•ï¼Œåœ¨é«˜è´Ÿè½½çš„æ—¶å€™ç³»ç»Ÿç»§ç»­ç»´æŒå®ƒçš„å“åº”ï¼Œè¿™åœ¨å½“å®¢æˆ·ç«¯ä¸éœ€è¦ä¸¥æ ¼ç¡®è®¤ä¸€ä¸ªæ•°æ®æ˜¯å¦æˆåŠŸçš„è¢«å†™å…¥æ—¶ç‰¹åˆ«æœ‰ç”¨ã€‚å…¸å‹çš„ä¾‹å­åŒ…æ‹¬ï¼šæ—¥å¿—è®°å½•æˆ–è€…ç”¨æˆ·è·Ÿè¸ªæ•°æ®ï¼ˆuser-tracking dataï¼‰çš„è®°å½•ï¼Œè¿™ä¼šè¢«åˆ†æ‰¹å¤„ç†å¹¶ä¸”åœ¨ç¨åæ‰ä½¿ç”¨ï¼›åŒæ—¶ä¹ŸåŒ…æ‹¬æœ€ç»ˆä¸€è‡´æ€§ï¼ˆso, å¸¸ç”¨äº NoSQLï¼‰å¯ä»¥æ¥å—ï¼Œä¸éœ€è¦ç«‹å³ååº”çš„æ“ä½œï¼ˆä¾‹å¦‚ Facebook ä¸Šæ›´æ–°ç‚¹èµçš„æ•°ç›®ï¼‰ã€‚</p>
<p>æ•°æ®é€šè¿‡æŸäº›ç¼“å­˜æˆ–è€…æ¶ˆæ¯é˜Ÿåˆ—çš„åŸºç¡€ç»„ä»¶ï¼ˆä¾‹å¦‚ RabbitMQ, ZeroMQï¼‰è¿›å…¥é˜Ÿåˆ—ï¼Œå¹¶ä¸”é€šè¿‡ä¸€ä¸ªç‹¬ç«‹çš„æ•°æ®åº“æ‰¹é‡å†™å…¥è¿›ç¨‹æ¥ä¸€ä¸€æ¶ˆåŒ–ï¼Œæˆ–è€…é€šè¿‡ä¸€ä¸ªæ›´é«˜æ€§èƒ½çš„è®¡ç®—å¯†é›†å‹åç«¯æœåŠ¡æ¥è¿›è¡Œå¤„ç†ã€‚å…¶ä»–çš„è¯­è¨€/æ¡†æ¶ä¹Ÿå¯ä»¥å®ç°ç›¸ä¼¼çš„æ“ä½œï¼Œä½†åœ¨ç›¸åŒçš„é…ç½®ä¸‹æ˜¯è¾¾ä¸åˆ° nodejs çš„é«˜ååé‡ä¸é«˜å¹¶å‘ã€‚</p>
<p><img src="http://jbcdn2.b0.upaiyun.com/2013/12/toptal-blog-3_B.png" alt="toptal-blog-3_B"></p>
<p>ç®€å•çš„è¯´ï¼šä½¿ç”¨ Nodeï¼Œä½ å¯ä»¥æŠŠæ•°æ®åº“æ“ä½œæ‰”åˆ°ä¸€è¾¹å¹¶åœ¨ç¨åå¤„ç†å®ƒä»¬ï¼Œå‡è®¾ä»–ä»¬æˆåŠŸäº†ä¸€æ ·ç»§ç»­æ‰§è¡Œä¸‹å»ã€‚ï¼ˆç¬”è€…æ³¨ï¼šåœ¨å¼€å‘ä¸­é€šå¸¸çš„æƒ…å†µé€šå¸¸æ˜¯ï¼Œç§è€—æ—¶çš„æ“ä½œé€šè¿‡å›è°ƒå‡½æ•°æ¥å¼‚æ­¥å¤„ç†ï¼Œä¸»çº¿ç¨‹ç»§ç»­å¾€ä¸‹æ‰§è¡Œï¼‰</p>
<h3 id="æ•°æ®æµ"><a href="#æ•°æ®æµ" class="headerlink" title="æ•°æ®æµ"></a>æ•°æ®æµ</h3><p>åœ¨è¾ƒä¸ºä¼ ç»Ÿçš„ç½‘ç»œå¹³å°ä¸Šï¼ŒHTTP çš„è¯·æ±‚å’Œå“åº”æ›´åƒæ˜¯å­¤ç«‹çš„äº‹ä»¶ï¼›ç„¶è€Œäº‹å®ä¸Šï¼Œä»–ä»¬éƒ½æ˜¯æ•°æ®æµã€‚è¿™ä¸€è§‚å¯Ÿç»“æœåœ¨ Nodejs ä¸Šå¯ä»¥ç”¨æ¥å»ºç«‹ä¸€äº›å¾ˆé…·çš„åŠŸèƒ½ã€‚å› ä¸ºæ•°æ®é€šä»¥æµçš„å½¢å¼æ¥æ”¶ï¼Œè€Œæˆ‘ä»¬å¯ä»¥åœ¨ç½‘ç«™ä¸Šåœ¨çº¿å¤„ç†æ­£åœ¨ä¸Šä¼ ä¸­çš„æ–‡ä»¶ã€‚è¿™æ ·çš„è¯ï¼Œå°±å¯ä»¥å®ç°å®æ—¶çš„éŸ³é¢‘å’Œè§†é¢‘ç¼–ç ï¼Œä»¥åŠåœ¨ä¸åŒæ•°æ®æºä¹‹é—´è¿›è¡Œä»£ç ï¼ˆä»£ç†è§ä¸‹ä¸€æ®µï¼‰ã€‚</p>
<p>ï¼ˆç¬”è€…æ³¨ï¼šNode æœ‰ä»£æ›¿å¦‚ apache è¿™æ ·çš„ webserver å¤„ç†æ•°æ®ï¼Œæ‰€ä»¥å¼€å‘è€…å¯ä»¥ç›´æ¥æ”¶åˆ°å®¢æˆ·ç«¯ä¸€ä»½ä¸€ä»½ä¸Šä¼ çš„æ•°æ®ï¼Œå¹¶å®æ—¶å¤„ç†ã€‚ä¸Šé¢è¿™æ®µè¯å¬èµ·æ¥æœ‰ç‚¹æŠ½è±¡ï¼Œä¸è¿‡å„ä½å¯ä»¥ç®€å•çš„æƒ³è±¡ä¸€ä¸‹ä¸éœ€è¦å¼€ YY æˆ–è€… QQï¼Œæ‰“å¼€ç½‘é¡µå°±èƒ½è¿›è¡Œè¯­éŸ³è§†é¢‘çš„åŠŸèƒ½ã€‚ï¼‰</p>
<h3 id="ä»£ç†"><a href="#ä»£ç†" class="headerlink" title="ä»£ç†"></a>ä»£ç†</h3><p>Node.js å¯ä»¥é€šè¿‡å¼‚æ­¥çš„æ–¹å¼å¤„ç†å¤§é‡çš„å¹¶å‘è¿æ¥ï¼Œæ‰€ä»¥å¾ˆå®¹æ˜“ä½œä¸ºæœåŠ¡ç«¯çš„ä»£ç†æ¥ä½¿ç”¨ã€‚è¿™åœ¨ä¸ä¸åŒå“åº”æ—¶é—´çš„ä¸åŒæœåŠ¡ä¹‹é—´è¿›è¡Œä»£ç†ï¼Œæˆ–è€…æ˜¯æ”¶é›†æ¥è‡ªå¤šä¸ªæ¥æºçš„æ•°æ®æ—¶å°¤å…¶æœ‰ç”¨ã€‚</p>
<p>ä¸¾ä¸ªä¾‹å­ï¼šè€ƒè™‘ä¸€ä¸ªæœåŠ¡å™¨ç«¯çš„åº”ç”¨ç¨‹åºå’Œç¬¬ä¸‰æ–¹èµ„æºè¿›è¡Œé€šä¿¡ä»¥æ›´æ–°è‡ªä¸åŒæ¥æºçš„æ•°æ®ï¼Œæˆ–è€…å°†æœåŠ¡ç«¯ä¸Šçš„ä¸€äº›å›¾åƒå’Œè§†é¢‘èµ„æºå­˜å‚¨åˆ°ç¬¬ä¸‰æ–¹äº‘æœåŠ¡ã€‚</p>
<p>è™½ç„¶ä¸“ç”¨ä»£ç†æœåŠ¡å™¨ç¡®å®å­˜åœ¨ï¼Œä½†æ˜¯å¦‚æœä½ è¿˜æ²¡æœ‰ä¸“ç”¨çš„ä»£ç†æœåŠ¡å™¨ï¼Œæˆ–è€…ä½ éœ€è¦ä¸€ä¸ªæœ¬åœ°å¼€å‘çš„è§£å†³æ–¹æ¡ˆï¼Œé‚£ä¹ˆä½¿ç”¨ Node æ¥åšä»£ç†å¯èƒ½æ˜¯æ›´å¥½çš„é€‰æ‹©ã€‚å…³äºè¿™ä¸ªè§£å†³æ–¹æ¡ˆï¼Œæˆ‘çš„æ„æ€æ˜¯æŒ‡å½“ä½ åœ¨å¼€å‘çš„æ—¶å€™ï¼Œä½ å¯ä»¥ä½¿ç”¨Node.jsçš„å¼€å‘ç¯å¢ƒæ­å»ºä¸€ä¸ªæœåŠ¡æ¥å¤„ç†å¯¹èµ„æºå’Œä»£ç†çš„è¯·æ±‚ï¼Œè€Œåœ¨ç”Ÿäº§ç¯å¢ƒä¸‹ï¼Œä½ å¯ä»¥ä½¿ç”¨ä¸“ç”¨çš„ä»£ç†æœåŠ¡ï¼ˆæ¯”å¦‚nginxï¼ŒHAProxyç­‰ï¼‰æ¥å¤„ç†è¿™äº›äº¤äº’ã€‚</p>
<h3 id="è‚¡ç¥¨æ“ç›˜æ‰‹çš„ä»ªè¡¨ç›˜"><a href="#è‚¡ç¥¨æ“ç›˜æ‰‹çš„ä»ªè¡¨ç›˜" class="headerlink" title="è‚¡ç¥¨æ“ç›˜æ‰‹çš„ä»ªè¡¨ç›˜"></a>è‚¡ç¥¨æ“ç›˜æ‰‹çš„ä»ªè¡¨ç›˜</h3><p>è®©æˆ‘ä»¬ç»§ç»­è®¨è®ºåº”ç”¨ç¨‹åºè¿™å—ã€‚å®æ—¶ç½‘ç»œçš„è§£å†³æ–¹æ¡ˆå¯ä»¥å¾ˆè½»æ¾çš„å®ç°è¯åˆ¸äº¤æ˜“è½¯ä»¶â€”â€”ç”¨äºè·Ÿè¸ªè‚¡ç¥¨çš„ä»·æ ¼ï¼Œæ‰§è¡Œè®¡ç®—ã€åšæŠ€æœ¯åˆ†æï¼ŒåŒæ—¶ç”ŸæˆæŠ¥è¡¨ã€‚</p>
<p>ä½¿ç”¨ä¸€ä¸ªå®æ—¶çš„çš„åŸºäºç½‘é¡µçš„è§£å†³æ–¹æ¡ˆï¼Œå°†ä¼šå…è®¸æ“ç›˜æ‰‹è½»æ¾çš„åˆ‡æ¢å·¥ä½œè½¯ä»¶ä»¥åŠå·¥ä½œåœ°ç‚¹ã€‚ç›¸ä¿¡ä¸ä¹…ï¼Œæˆ‘ä»¬æˆ–è®¸ä¼šåœ¨ ä½›ç½—é‡Œè¾¾å·ã€ä¼Šç»´è¨å²›åˆæˆ–è€…æ˜¯å·´å˜å²›çš„æµ·æ»©ä¸Šçœ‹åˆ°ä»–ä»¬ã€‚</p>
<h3 id="åº”ç”¨ç›‘å¬ä»ªç›˜è¡¨"><a href="#åº”ç”¨ç›‘å¬ä»ªç›˜è¡¨" class="headerlink" title="åº”ç”¨ç›‘å¬ä»ªç›˜è¡¨"></a>åº”ç”¨ç›‘å¬ä»ªç›˜è¡¨</h3><p>å¦ä¸€ç§å¸¸è§çš„ç”¨ä¾‹ä¸­ï¼Œä½¿ç”¨ Node+Web+Socket éå¸¸é€‚åˆï¼šè·Ÿè¸ªç½‘ç«™è®¿é—®è€…å¹¶ä¸”å¯è§†åŒ–å®æ—¶å®ƒä»¬ä¹‹é—´çš„å®æ—¶äº¤äº’ã€‚ ï¼ˆå¦‚æœä½ æœ‰å…´è¶£ï¼Œå¯ä»¥å»çœ‹çœ‹ Hummingbirdï¼‰</p>
<p>ä½ å¯èƒ½éœ€è¦é‡‡é›†ç”¨æˆ·çš„å®æ—¶çŠ¶æ€, æˆ–è€…ç”šè‡³å½“ä»–ä»¬åˆ°è¾¾æ¸ é“ä¸­æŸä¸ªç‰¹å®šçš„ç‚¹æ—¶, æ‰“å¼€ä¸€ä¸ªäº¤æµé¢‘é“ï¼Œ é€šè¿‡æœ‰é’ˆå¯¹æ€§çš„äº’åŠ¨ä»‹ç»ç§»åŠ¨åˆ°ä¸‹ä¸€ä¸ªé˜¶æ®µ. ï¼ˆå¦‚æœä½ æ„Ÿå…´è¶£çš„è¯ï¼Œæ¨èä½ çœ‹çœ‹ CANDDiï¼‰</p>
<p>æƒ³è±¡ä¸€ä¸‹ï¼Œå¦‚æœä½ çŸ¥é“ä½ çš„è®¿å®¢çš„å®æ—¶æ“ä½œï¼Œå¹¶èƒ½å¤Ÿå½¢è±¡åŒ–åœ°çœ‹åˆ°ä»–ä»¬çš„äº¤äº’ï¼Œè¿™å°†å¯¹ä½ çš„ä¸šåŠ¡å¸¦æ¥å¤šå¤§çš„æå‡ã€‚éšç€å®æ—¶çš„ã€åŒå‘ socket é€šä¿¡çš„ Node.js ï¼Œç°åœ¨ä½ å¯ä»¥åšåˆ°äº†ã€‚</p>
<h3 id="ç³»ç»Ÿç›‘æ§ä»ªè¡¨"><a href="#ç³»ç»Ÿç›‘æ§ä»ªè¡¨" class="headerlink" title="ç³»ç»Ÿç›‘æ§ä»ªè¡¨"></a>ç³»ç»Ÿç›‘æ§ä»ªè¡¨</h3><p>ç°åœ¨ï¼Œè®©æˆ‘ä»¬çœ‹çœ‹äº‹æƒ…çš„åŸºç¡€è®¾æ–½æ–¹é¢ã€‚æƒ³è±¡ä¸€ä¸‹ï¼Œæ¯”å¦‚ï¼Œå¸Œæœ›ä¸ºå…¶ç”¨æˆ·æä¾›æœåŠ¡ç›‘æ§é¡µé¢ï¼ˆä¾‹å¦‚ï¼ŒGitHubä¸Šçš„çŠ¶æ€é¡µï¼‰çš„ SaaS è¿è¥å•† ã€‚é€šè¿‡ Node.js çš„äº‹ä»¶å¾ªç¯ï¼Œæˆ‘ä»¬å¯ä»¥åˆ›å»ºä¸€ä¸ªåŸºäº Web çš„åŠŸèƒ½å¼ºå¤§çš„ä»ªè¡¨æ¿ï¼Œä»¥å¼‚æ­¥æ–¹å¼æ£€æŸ¥æœåŠ¡çŠ¶æ€å¹¶ä¸”ä½¿ç”¨çš„ WebSockets å°†æ•°æ®æ¨é€åˆ°å®¢æˆ·ç«¯ã€‚</p>
<p>å†…éƒ¨ï¼ˆå…¬å¸å†…éƒ¨ï¼‰å’Œå…¬å…±æœåŠ¡çš„çŠ¶æ€éƒ½å¯ä»¥ä½¿ç”¨è¯¥é¡¹æŠ€æœ¯å®ç°å®æ—¶çš„ä¸ŠæŠ¥ã€‚è®©æˆ‘ä»¬æŠŠè¿™ä¸€æƒ³æ³•å»¶ä¼¸çš„è¿œä¸€ç‚¹ï¼Œè¯•ç€æƒ³è±¡ä¸€ä¸ªç”µä¿¡è¿è¥å•†ä¸­ç½‘ç»œè¿è¥ä¸­å¿ƒï¼ˆNOCï¼‰çš„ç›‘æ§åº”ç”¨ï¼Œäº‘/ç½‘ç»œ/æœåŠ¡å™¨è¿è¥å•†ï¼Œæˆ–è€…ä¸€äº›é‡‘èæœºæ„ï¼Œå…¨éƒ½è¿è¡Œåœ¨è¿™ä¸ªç”± Node.js å’Œ WebSocket ç»„æˆçš„åº”ç”¨ä¸Šï¼Œè€Œä¸æ˜¯ Java å’Œ/æˆ– Java Appletã€‚</p>
<p>æ³¨æ„ï¼šä¸è¦å°è¯•ä½¿ç”¨ Node æ‰“é€ ç¡¬å®æ—¶ç³»ç»Ÿï¼ˆå³ï¼Œå“åº”æ—¶é—´è¦æ±‚ä¸€è‡´çš„ç³»ç»Ÿï¼‰ã€‚ Erlangæ˜¯å¯èƒ½æ˜¯è¯¥ç±»åº”ç”¨ç¨‹åºçš„æ›´å¥½çš„é€‰æ‹©ã€‚</p>
<h2 id="ä»€ä¹ˆåœ°æ–¹å¯ä»¥ä½¿ç”¨-Node-js"><a href="#ä»€ä¹ˆåœ°æ–¹å¯ä»¥ä½¿ç”¨-Node-js" class="headerlink" title="ä»€ä¹ˆåœ°æ–¹å¯ä»¥ä½¿ç”¨ Node.js"></a>ä»€ä¹ˆåœ°æ–¹å¯ä»¥ä½¿ç”¨ Node.js</h2><h3 id="æœåŠ¡ç«¯-WEB-åº”ç”¨"><a href="#æœåŠ¡ç«¯-WEB-åº”ç”¨" class="headerlink" title="æœåŠ¡ç«¯ WEB åº”ç”¨"></a>æœåŠ¡ç«¯ WEB åº”ç”¨</h3><p>é€šè¿‡ Node.js ä½¿ç”¨ Express.js ä¹Ÿå¯ä»¥ç”¨æ¥åˆ›å»ºæœåŠ¡ç«¯ä¸Šçš„å…¸å‹çš„ç½‘é¡µåº”ç”¨ã€‚ç„¶è€Œï¼Œè™½ç„¶æœ‰å¯èƒ½ï¼Œä½¿ç”¨ Node.js æ¥è¿›è¡Œè¯·æ±‚+å“åº”çš„å½¢å¼æ¥å‘ˆç° HTML å¹¶ä¸æ˜¯æœ€å…¸å‹çš„ç”¨ä¾‹ã€‚æœ‰äººèµæˆä¹Ÿæœ‰äººåå¯¹è¿™ä¸€åšæ³•ã€‚è¿™é‡Œæœ‰ä¸€äº›çœ‹æ³•ä»¥ä¾›å‚è€ƒ:</p>
<p><strong>ä¼˜ç‚¹ï¼š</strong></p>
<ul>
<li>å¦‚æœä½ ä¸éœ€è¦è¿›è¡Œ CPUå¯†é›†å‹è®¡ç®—ï¼Œä½ å¯ä»¥ä»å¤´åˆ°å°¾ç”šè‡³æ˜¯æ•°æ®åº“ï¼ˆæ¯”å¦‚ MongoDBï¼‰éƒ½ä½¿ç”¨ Javascript æ¥å¼€å‘ã€‚è¿™æ˜¾è‘—åœ°å‡è½»äº†å¼€å‘å·¥åºï¼ˆåŒ…æ‹¬æˆæœ¬ï¼‰ã€‚</li>
<li>å¯¹äºä¸€ä¸ªä½¿ç”¨ Node.js ä½œä¸ºæœåŠ¡ç«¯çš„å•é¡µåº”ç”¨æˆ–è€… websocket åº”ç”¨ï¼Œçˆ¬è™«å¯ä»¥æ”¶åˆ°ä¸€ä¸ªå®Œå…¨ HTML å‘ˆç°çš„å“åº”ï¼Œè¿™æ˜¯æ›´ä¸ºSEOå‹å¥½çš„ã€‚</li>
</ul>
<p><strong>ç¼ºç‚¹ï¼š</strong></p>
<ul>
<li>ä»»ä½•CPUå¯†é›†å‹çš„è®¡ç®—éƒ½å°†é˜»ç¢ Node.js çš„ååº”ï¼Œæ‰€ä»¥ä½¿ç”¨å¤šçº¿ç¨‹çš„å¹³å°æ˜¯ä¸€ä¸ªæ›´å¥½çš„æ–¹æ³•ã€‚æˆ–è€…ï¼Œæ‚¨ä¹Ÿå¯ä»¥å°è¯•å‘å¤–æ‰©å±•çš„è®¡ç®—[*]ã€‚</li>
<li>Node.js ä½¿ç”¨å…³ç³»å‹æ•°æ®åº“ä¾æ—§ååˆ†ç—›è‹¦ï¼ˆè¯¦ç»†è§ä¸‹æ–¹ï¼‰ã€‚æ‹œæ‰˜äº†ï¼Œå¦‚æœä½ æƒ³æ‰§è¡Œå…³ç³»å‹æ•°æ®æ“ä½œï¼Œè¯·è€ƒè™‘åˆ«çš„ç¯å¢ƒï¼šRailsï¼Œ Django ç”šè‡³ ASP.NET MVC ã€‚ã€‚ã€‚ã€‚</li>
</ul>
<p><strong>å¦ä¸€ç§è§£å†³æ–¹æ¡ˆæ˜¯ï¼Œä¸ºè¿™äº›CPUå¯†é›†å‹çš„è®¡ç®—å»ºç«‹ä¸€ä¸ªé«˜åº¦å¯æ‰©å±•çš„MQæ”¯æŒçš„ç¯å¢ƒä¸åç«¯å¤„ç†ï¼Œä»¥ä¿æŒ Node ä½œä¸ºä¸€ä¸ªå‰å°ä¸“å‘˜æ¥å¼‚æ­¥å¤„ç†å®¢æˆ·ç«¯è¯·æ±‚ã€‚</strong></p>
<h2 id="Node-js-ä¸åº”è¯¥åœ¨ä»€ä¹ˆåœ°æ–¹ä½¿ç”¨"><a href="#Node-js-ä¸åº”è¯¥åœ¨ä»€ä¹ˆåœ°æ–¹ä½¿ç”¨" class="headerlink" title="Node.js ä¸åº”è¯¥åœ¨ä»€ä¹ˆåœ°æ–¹ä½¿ç”¨"></a>Node.js ä¸åº”è¯¥åœ¨ä»€ä¹ˆåœ°æ–¹ä½¿ç”¨</h2><h3 id="ä½¿ç”¨å…³ç³»å‹æ•°æ®åº“çš„æœåŠ¡ç«¯-WEB-åº”ç”¨"><a href="#ä½¿ç”¨å…³ç³»å‹æ•°æ®åº“çš„æœåŠ¡ç«¯-WEB-åº”ç”¨" class="headerlink" title="ä½¿ç”¨å…³ç³»å‹æ•°æ®åº“çš„æœåŠ¡ç«¯ WEB åº”ç”¨"></a>ä½¿ç”¨å…³ç³»å‹æ•°æ®åº“çš„æœåŠ¡ç«¯ WEB åº”ç”¨</h3><p>å¯¹æ¯” Node.js ä¸Šçš„ Express.js å’Œ Ruby on Railsï¼Œå½“ä½ ä½¿ç”¨å…³ç³»å‹æ•°æ®åº“çš„æ—¶å€™è¯·æ¯«ä¸çŠ¹è±«çš„é€‰æ‹©åè€…ã€‚</p>
<p>Node.js çš„å…³ç³»æ•°æ®åº“å·¥å…·ä»å¤„äºæ—©æœŸé˜¶æ®µï¼Œç›®å‰è¿˜æ²¡æœ‰æˆç†Ÿåˆ°è®©äººèƒ½å¤Ÿæ„‰å¿«åœ°ä½¿ç”¨å®ƒã€‚è€Œä¸æ­¤åŒæ—¶ï¼ŒRailså¤©ç”Ÿè‡ªå¸¦äº†æ•°æ®è®¿é—®ç»„ä»¶ï¼Œè¿åŒDB schemaè¿ç§»çš„æ”¯æŒå·¥å…·å’Œä¸€äº›Gemsï¼ˆä¸€è¯­åŒå…³ï¼Œä¸€æŒ‡è¿™äº›å¦‚åŒçå®çš„å·¥å…·ï¼ŒäºŒæŒ‡rubyçš„gemsç¨‹åºåŒ…ï¼‰ã€‚Railså’Œå®ƒçš„æ­æ¡£æ¡†æ¶ä»¬æ‹¥æœ‰éå¸¸æˆç†Ÿä¸”è¢«è¯æ˜äº†çš„æ´»åŠ¨è®°å½•ï¼ˆActive Recordï¼‰æˆ–æ•°æ®æ˜ å°„ï¼ˆData Mapperï¼‰çš„æ•°æ®è®¿é—®å±‚çš„å®ç°ï¼Œè€Œè¿™äº›æ˜¯å½“ä½ åœ¨ä½¿ç”¨çº¯JavaScriptæ¥å¤åˆ¶è¿™äº›åº”ç”¨çš„æ—¶å€™ä¼šéå¸¸æƒ³è¦ä½¿ç”¨çš„ä¸œè¥¿ã€‚</p>
<p>ä¸è¿‡ï¼Œå¦‚æœä½ çœŸçš„å€¾å‘äºå…¨éƒ¨ä½¿ç”¨ JSï¼ˆå¹¶ä¸”åšå¥½å¯èƒ½æŠ“ç‹‚çš„å‡†å¤‡ï¼‰ï¼Œé‚£ä¹ˆè¯·ç»§ç»­å…³æ³¨ Sequelize å’Œ Node ORM2 ï¼Œè™½ç„¶è¿™ä¸¤è€…ä»ç„¶ä¸æˆç†Ÿçš„ï¼Œä½†ä»–ä»¬æœ€ç»ˆä¼šè¿å¤´èµ¶ä¸Šã€‚</p>
<p><strong>ä½¿ç”¨ Node å…‰æ˜¯ä½œä¸ºå‰ç«¯è€Œ Rails åšåç«¯æ¥è¿æ¥å…³ç³»å‹æ•°æ®åº“ï¼Œè¿™æ˜¯å®Œå…¨æœ‰å¯èƒ½ä¹Ÿå¹¶ä¸å°‘è§çš„ã€‚ï¼ˆç¬”è€…æ³¨ï¼šå›½å¤–æœ‰ç§è¯´æ³•ï¼ŒPHPè¿™ä¸€ç±»ç¨‹åºå‘˜ä¹Ÿå¯ä»¥ç®—ä½œæ˜¯å‰ç«¯ï¼‰</strong></p>
<h3 id="ç¹é‡çš„æœåŠ¡ç«¯çš„è®¡ç®—å’Œå¤„ç†"><a href="#ç¹é‡çš„æœåŠ¡ç«¯çš„è®¡ç®—å’Œå¤„ç†" class="headerlink" title="ç¹é‡çš„æœåŠ¡ç«¯çš„è®¡ç®—å’Œå¤„ç†"></a>ç¹é‡çš„æœåŠ¡ç«¯çš„è®¡ç®—å’Œå¤„ç†</h3><p>å½“æ¶‰åŠåˆ°å¤§é‡çš„è®¡ç®—ï¼ŒNode.js å°±ä¸æ˜¯æœ€ä½³çš„è§£å†³æ–¹æ¡ˆã€‚ä½ è‚¯å®šä¸å¸Œæœ›ä½¿ç”¨ Node.js å»ºç«‹ä¸€ä¸ªæ–æ³¢é‚£å¥‘æ•°çš„è®¡ç®—æœåŠ¡ã€‚ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œä»»ä½• CPUå¯†é›†å‹æ“ä½œ ä¼šå‰Šå¼±æ‰ Nodeé€šè¿‡äº‹ä»¶é©±åŠ¨ï¼Œ å¼‚æ­¥ I/O æ¨¡å‹ç­‰ç­‰å¸¦æ¥çš„åœ¨ååé‡ä¸Šçš„ä¼˜åŠ¿ï¼Œå› ä¸ºå½“çº¿ç¨‹è¢«éå¼‚æ­¥çš„é«˜è®¡ç®—é‡å ç”¨æ—¶ä»»ä½•ä¼ å…¥çš„è¯·æ±‚å°†è¢«é˜»å¡ã€‚</p>
<p>æ­£å¦‚å‰é¢æ‰€è¯´ï¼ŒNode.js æ˜¯å•çº¿ç¨‹çš„ï¼Œåªä½¿ç”¨ä¸€ä¸ªå•ä¸€çš„CPUæ ¸å¿ƒã€‚è‡³äºï¼Œæ¶‰åŠåˆ°æœåŠ¡å™¨ä¸Šå¤šæ ¸å¹¶å‘å¤„ç†ï¼ŒNode çš„æ ¸å¿ƒå›¢é˜Ÿå·²ç»ä½¿ç”¨ cluster æ¨¡å—çš„å½¢å¼åœ¨è¿™ä¸€æ–¹é¢åšäº†ä¸€äº›å·¥ä½œ (å‚è€ƒï¼š<a href="http://nodejs.org/api/cluster.html)ã€‚å½“ç„¶ï¼Œæ‚¨ä¹Ÿå¯ä»¥å¾ˆå®¹æ˜“çš„é€šè¿‡" target="_blank" rel="external">http://nodejs.org/api/cluster.html)ã€‚å½“ç„¶ï¼Œæ‚¨ä¹Ÿå¯ä»¥å¾ˆå®¹æ˜“çš„é€šè¿‡</a> nginx çš„åå‘ä»£ç†è¿è¡Œå¤šä¸ª Node.js çš„æœåŠ¡å™¨å®ä¾‹æ¥é¿å…å•ä¸€çº¿ç¨‹é˜»å¡çš„é—®é¢˜ã€‚</p>
<p>å…³äºé›†ç¾¤(clustering) ï¼Œä½ åº”è¯¥å°†æ‰€æœ‰ç¹é‡çš„è®¡ç®—è½¬ç§»åˆ°æ›´åˆé€‚çš„è¯­è¨€å†™çš„åå°è¿›ç¨‹æ¥å¤„ç†ï¼ŒåŒæ—¶è®©ä»–ä»¬é€šè¿‡åƒ RabbitMQ é‚£æ ·é€šè¿‡æ¶ˆæ¯é˜Ÿåˆ—æœåŠ¡å™¨æ¥è¿›è¡Œé€šä¿¡ã€‚</p>
<p>å³ä½¿ä½ çš„åå°å¤„ç†å¯èƒ½æœ€åˆè¿è¡Œåœ¨åŒä¸€å°æœåŠ¡å™¨ä¸Šæ—¶çœ‹ä¸å‡ºä»€ä¹ˆä¼˜ç‚¹ï¼Œä½†æ˜¯è¿™æ ·çš„åšæ³•å…·æœ‰éå¸¸é«˜çš„å¯æ‰©å±•æ€§çš„æ½œåŠ›ã€‚è¿™äº›åå°å¤„ç†æœåŠ¡å¯ä»¥å®¹æ˜“åœ°åˆ†å‰²å‡ºå»ï¼Œä½œä¸ºå•ç‹¬çš„ worker æœåŠ¡å™¨ï¼Œè€Œä¸éœ€è¦é…ç½®å…¥å£ webæœåŠ¡å™¨çš„è´Ÿè½½ã€‚</p>
<p>å½“ç„¶ï¼Œä½ ä¹Ÿå¯ä»¥åœ¨å…¶ä»–è¯­è¨€å¹³å°ä¸Šç”¨åŒæ ·çš„æ–¹æ³•ï¼Œä½†ä½¿ç”¨ Node.js ä½ å¯ä»¥å¾—åˆ°å¾ˆé«˜çš„ååé‡ï¼Œæ¯ä¸ªè¯·æ±‚éƒ½ä½œä¸ºä¸€ä¸ªå°ä»»åŠ¡éå¸¸è¿…é€Ÿå’Œé«˜æ•ˆåœ°å¤„ç†ï¼Œè¿™ä¸€ç‚¹æˆ‘ä»¬å·²ç»è®¨è®ºè¿‡äº†ã€‚</p>
<h2 id="ç»“è®º"><a href="#ç»“è®º" class="headerlink" title="ç»“è®º"></a>ç»“è®º</h2><p>æˆ‘ä»¬å·²ç»ä»ç†è®ºåˆ°å®è·µè®¨è®ºè¿‡ Node.js äº†ï¼Œä»å®ƒçš„ç›®æ ‡å’Œé‡å¿ƒï¼Œåˆ°å…¶ä¼˜ç‚¹å’Œç¼ºç‚¹ã€‚åœ¨ Node.js çš„å¼€å‘ä¸­99%çš„é—®é¢˜æ˜¯ç”±è¯¯ç”¨é˜»å¡æ“ä½œè€Œé€ æˆçš„ã€‚</p>
<p>è¯·è®°ä½ï¼šNode.js ä»æ¥ä¸æ˜¯ç”¨äºè§£å†³å¤§è§„æ¨¡è®¡ç®—é—®é¢˜è€Œåˆ›å»ºçš„ã€‚å®ƒçš„å‡ºç°æ˜¯ä¸ºäº†è§£å†³å¤§è§„æ¨¡I/O çš„é—®é¢˜ï¼Œå¹¶ä¸”åœ¨è¿™ä¸€ç‚¹ä¸Šåšçš„éå¸¸å¥½ã€‚</p>
<p>ç»¼ä¸Šï¼Œå¦‚æœä½ é¡¹ç›®éœ€æ±‚ä¸­ä¸åŒ…å«CPUå¯†é›†å‹æ“ä½œï¼Œä¹Ÿä¸éœ€è¦è®¿é—®ä»»ä½•é˜»å¡çš„èµ„æºï¼Œé‚£ä¹ˆä½ å°±å¯ä»¥åˆ©ç”¨çš„ Node.js çš„ä¼˜ç‚¹ï¼Œå°½æƒ…çš„äº«å—å¿«é€Ÿã€å¯æ‰©å±•çš„ç½‘ç»œåº”ç”¨ã€‚</p>
]]></content>
      
        <categories>
            
            <category> Repost </category>
            
        </categories>
        
        
        <tags>
            
            <tag> Nodejs </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[Virtualenvçš„ä½¿ç”¨]]></title>
      <url>http://yoursite.com/2016/08/02/virtualenv%E7%9A%84%E4%BD%BF%E7%94%A8/</url>
      <content type="html"><![CDATA[<h3 id="æˆ‘ä¸ªäººä½¿ç”¨çš„ç›®çš„ï¼šä¾¿äºä¸åŒç‰ˆæœ¬pythonå¼€å‘"><a href="#æˆ‘ä¸ªäººä½¿ç”¨çš„ç›®çš„ï¼šä¾¿äºä¸åŒç‰ˆæœ¬pythonå¼€å‘" class="headerlink" title="æˆ‘ä¸ªäººä½¿ç”¨çš„ç›®çš„ï¼šä¾¿äºä¸åŒç‰ˆæœ¬pythonå¼€å‘"></a>æˆ‘ä¸ªäººä½¿ç”¨çš„ç›®çš„ï¼šä¾¿äºä¸åŒç‰ˆæœ¬pythonå¼€å‘</h3><h5 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…:"></a>å®‰è£…:</h5><pre><code>$ sudo apt-get install python-virtualenv
</code></pre><h5 id="å»ºå­˜æ”¾ç›®å½•ï¼š"><a href="#å»ºå­˜æ”¾ç›®å½•ï¼š" class="headerlink" title="å»ºå­˜æ”¾ç›®å½•ï¼š"></a>å»ºå­˜æ”¾ç›®å½•ï¼š</h5><pre><code>$ mkdir testvirtual
</code></pre><h5 id="åˆ›å»ºè™šæ‹Ÿç¯å¢ƒï¼ˆpython3ä¸‹çš„ï¼‰ï¼š"><a href="#åˆ›å»ºè™šæ‹Ÿç¯å¢ƒï¼ˆpython3ä¸‹çš„ï¼‰ï¼š" class="headerlink" title="åˆ›å»ºè™šæ‹Ÿç¯å¢ƒï¼ˆpython3ä¸‹çš„ï¼‰ï¼š"></a>åˆ›å»ºè™šæ‹Ÿç¯å¢ƒï¼ˆpython3ä¸‹çš„ï¼‰ï¼š</h5><pre><code>$ virtualenv -p python3 env1
</code></pre><h5 id="å¯åŠ¨è™šæ‹Ÿç¯å¢ƒï¼š"><a href="#å¯åŠ¨è™šæ‹Ÿç¯å¢ƒï¼š" class="headerlink" title="å¯åŠ¨è™šæ‹Ÿç¯å¢ƒï¼š"></a>å¯åŠ¨è™šæ‹Ÿç¯å¢ƒï¼š</h5><pre><code>$ cd env1
$ source ./bin/activate
</code></pre><h5 id="é€€å‡ºè™šæ‹Ÿç¯å¢ƒï¼š"><a href="#é€€å‡ºè™šæ‹Ÿç¯å¢ƒï¼š" class="headerlink" title="é€€å‡ºè™šæ‹Ÿç¯å¢ƒï¼š"></a>é€€å‡ºè™šæ‹Ÿç¯å¢ƒï¼š</h5><pre><code>$ deactivate
</code></pre><h5 id="å¯ä»¥ç›´æ¥åœ¨è™šæ‹Ÿç¯å¢ƒè¿è¡Œpipç­‰"><a href="#å¯ä»¥ç›´æ¥åœ¨è™šæ‹Ÿç¯å¢ƒè¿è¡Œpipç­‰" class="headerlink" title="å¯ä»¥ç›´æ¥åœ¨è™šæ‹Ÿç¯å¢ƒè¿è¡Œpipç­‰"></a>å¯ä»¥ç›´æ¥åœ¨è™šæ‹Ÿç¯å¢ƒè¿è¡Œpipç­‰</h5><pre><code>$ pip install xxx
</code></pre>]]></content>
      
        <categories>
            
            <category> Tools </category>
            
        </categories>
        
        
        <tags>
            
            <tag> Tools </tag>
            
            <tag> Python </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[Gitæ•´ç†]]></title>
      <url>http://yoursite.com/2016/08/01/Git%E6%95%B4%E7%90%86/</url>
      <content type="html"><![CDATA[<p><div><img src="http://rogerdudler.github.io/git-guide/img/trees.png" style=""></div></p>
<h3 id="åŸºæœ¬å‘½ä»¤"><a href="#åŸºæœ¬å‘½ä»¤" class="headerlink" title="åŸºæœ¬å‘½ä»¤"></a>åŸºæœ¬å‘½ä»¤</h3><a id="more"></a>
<p><strong>ä¸€ã€åˆ›å»ºåº“</strong></p>
<pre><code>git init &lt;åº“å&gt;
</code></pre><p><strong>äºŒã€åˆ›å»ºåˆ†æ”¯</strong> (æ‰“å¼€åˆšåˆ›å»ºçš„åº“: cd &lt;åº“å&gt;)</p>
<pre><code>git branch &lt;åˆ†æ”¯å&gt;
</code></pre><p>æ³¨ï¼šå¦‚æœåˆ›å»ºåˆ†æ”¯å¤±è´¥ï¼Œå»ºç«‹ä¸€ä¸ªæµ‹è¯•æ–‡æœ¬æ–‡ä»¶å³å¯ã€‚</p>
<pre><code>1. git add .
2. git commit -a -m &quot;test&quot;
</code></pre><p><strong>ä¸‰ã€åˆ‡æ¢åˆ†æ”¯</strong></p>
<pre><code>git checkout &lt;åˆ†æ”¯å&gt; 
</code></pre><p>è¯¥è¯­å¥å’Œä¸Šä¸€ä¸ªè¯­å¥å¯ä»¥å’Œèµ·æ¥ç”¨ä¸€ä¸ªè¯­å¥è¡¨ç¤ºï¼š</p>
<pre><code>git checkout -b &lt;åˆ†æ”¯å&gt;
</code></pre><p><strong>å››ã€æŸ¥çœ‹å½“å‰åº“æ‰€æœ‰åˆ†æ”¯</strong></p>
<pre><code>git branch
</code></pre><p><strong>äº”ã€åˆ†æ”¯åˆå¹¶</strong></p>
<p>æ¯”å¦‚ï¼Œå¦‚æœè¦å°†å½“å‰çš„åˆ†æ”¯developï¼Œåˆå¹¶åˆ°ä¸»åˆ†æ”¯master<br>é¦–å…ˆæˆ‘ä»¬éœ€è¦åˆ‡æ¢åˆ°masterä¸»åˆ†æ”¯ï¼š</p>
<pre><code>git checkout master
</code></pre><p>ç„¶åæ‰§è¡Œåˆå¹¶æ“ä½œï¼š</p>
<pre><code>git merge develop
</code></pre><p>å¦‚æœæœ‰å†²çªï¼Œä¼šæç¤ºä½ ï¼Œè°ƒç”¨<code>git status</code>æŸ¥çœ‹å†²çªæ–‡ä»¶ã€‚ </p>
<p>è§£å†³å†²çªï¼Œç„¶åè°ƒç”¨<code>git add</code>æˆ–<code>git rm</code>å°†è§£å†³åçš„æ–‡ä»¶æš‚å­˜ã€‚ </p>
<p>æ‰€æœ‰å†²çªè§£å†³åï¼Œ<code>git commit</code> æäº¤æ›´æ”¹ã€‚</p>
<p><strong>å…­ã€åˆ†æ”¯è¡åˆ</strong></p>
<p>åˆ†æ”¯è¡åˆå’Œåˆ†æ”¯åˆå¹¶çš„å·®åˆ«åœ¨äºï¼Œåˆ†æ”¯è¡åˆä¸ä¼šä¿ç•™åˆå¹¶çš„æ—¥å¿—ï¼Œä¸ç•™ç—•è¿¹ï¼Œè€Œ åˆ†æ”¯åˆå¹¶åˆ™ä¼šä¿ç•™åˆå¹¶çš„æ—¥å¿—ã€‚ </p>
<p>è¦å°†å¼€å‘ä¸­çš„åˆ†æ”¯developï¼Œè¡åˆåˆ°ä¸»åˆ†æ”¯master<br>é¦–å…ˆåˆ‡æ¢çš„masteråˆ†æ”¯ï¼š</p>
<pre><code>git checkout master
</code></pre><p>ç„¶åæ‰§è¡Œè¡å’Œæ“ä½œï¼š</p>
<pre><code>git rebase develop
</code></pre><p>å¦‚æœæœ‰å†²çªï¼Œä¼šæç¤ºä½ ï¼Œè°ƒç”¨<code>git status</code>æŸ¥çœ‹å†²çªæ–‡ä»¶ã€‚ </p>
<p>è§£å†³å†²çªï¼Œç„¶åè°ƒç”¨<code>git add</code>æˆ–<code>git rm</code>å°†è§£å†³åçš„æ–‡ä»¶æš‚å­˜ã€‚<br>æ‰€æœ‰å†²çªè§£å†³åï¼Œ</p>
<pre><code>git rebase â€“continue 
</code></pre><p>æäº¤æ›´æ”¹ã€‚</p>
<p><strong>ä¸ƒã€åˆ é™¤åˆ†æ”¯</strong></p>
<pre><code>git branch -d &lt;åˆ†æ”¯å&gt; 
</code></pre><p>å¦‚æœè¯¥åˆ†æ”¯æ²¡æœ‰åˆå¹¶åˆ°ä¸»åˆ†æ”¯ä¼šæŠ¥é”™ï¼Œå¯ä»¥ç”¨ä»¥ä¸‹å‘½ä»¤å¼ºåˆ¶åˆ é™¤</p>
<pre><code>git branch -D &lt;åˆ†æ”¯å&gt;
</code></pre><p><strong>å…«ã€åˆ é™¤åº“</strong></p>
<pre><code>rm -rf &lt;åº“å&gt;
</code></pre><h3 id="åˆ›å»ºé¡¹ç›®ç«™ç‚¹-demo"><a href="#åˆ›å»ºé¡¹ç›®ç«™ç‚¹-demo" class="headerlink" title="åˆ›å»ºé¡¹ç›®ç«™ç‚¹(demo)"></a>åˆ›å»ºé¡¹ç›®ç«™ç‚¹(demo)</h3><pre><code>$ git clone https://github.com/USERNAME/PROJECT.git
$ git checkout --orphan gh-pages
$ git rm -rf .ï¼ˆå¯é€‰ï¼Œåœ¨é‡Œé¢æ”¾è¦å±•ç¤ºçš„demoï¼‰
$ git add .
$ git commit -a -m &quot;First pages commit&quot;
$ git push origin gh-pages
$ æˆ–è€…
$ git push -u origin HEAD
</code></pre><h4 id="ä½¿ç”¨Gitåœ¨æœ¬åœ°åˆ›å»ºä¸€ä¸ªé¡¹ç›®çš„è¿‡ç¨‹"><a href="#ä½¿ç”¨Gitåœ¨æœ¬åœ°åˆ›å»ºä¸€ä¸ªé¡¹ç›®çš„è¿‡ç¨‹" class="headerlink" title="ä½¿ç”¨Gitåœ¨æœ¬åœ°åˆ›å»ºä¸€ä¸ªé¡¹ç›®çš„è¿‡ç¨‹"></a>ä½¿ç”¨Gitåœ¨æœ¬åœ°åˆ›å»ºä¸€ä¸ªé¡¹ç›®çš„è¿‡ç¨‹</h4><pre><code>$ makdir ~/hello-world    //åˆ›å»ºä¸€ä¸ªé¡¹ç›®hello-world
$ cd ~/hello-world       //æ‰“å¼€è¿™ä¸ªé¡¹ç›®
$ git init             //åˆå§‹åŒ– 
$ touch README
$ git add README        //æ›´æ–°READMEæ–‡ä»¶
$ git commit -m &apos;first commit&apos;     //æäº¤æ›´æ–°ï¼Œå¹¶æ³¨é‡Šä¿¡æ¯â€œfirst commitâ€ 
$ git remote add origin git@github.com:username/hello-world.git     //è¿æ¥è¿œç¨‹githubé¡¹ç›®  
$ git push -u origin master     //å°†æœ¬åœ°é¡¹ç›®æ›´æ–°åˆ°githubé¡¹ç›®ä¸Šå»
</code></pre><h4 id="ä½¿ç”¨Githubåˆ›å»ºçš„è¿‡ç¨‹"><a href="#ä½¿ç”¨Githubåˆ›å»ºçš„è¿‡ç¨‹" class="headerlink" title="ä½¿ç”¨Githubåˆ›å»ºçš„è¿‡ç¨‹"></a>ä½¿ç”¨Githubåˆ›å»ºçš„è¿‡ç¨‹</h4><pre><code>1ã€æ–°å»ºrepoï¼Œcopy git.ioåœ°å€
2ã€$ git clone git.ioåœ°å€
</code></pre><h4 id="åˆ é™¤æœ¬åœ°ä»“åº“ï¼š"><a href="#åˆ é™¤æœ¬åœ°ä»“åº“ï¼š" class="headerlink" title="åˆ é™¤æœ¬åœ°ä»“åº“ï¼š"></a><em>åˆ é™¤æœ¬åœ°ä»“åº“ï¼š</em></h4><pre><code>find . -name &quot;.git&quot; | xargs rm -Rf
</code></pre><h4 id="å…¶ä»–ï¼š"><a href="#å…¶ä»–ï¼š" class="headerlink" title="å…¶ä»–ï¼š"></a>å…¶ä»–ï¼š</h4><pre><code>git remote rm origin            //åˆ é™¤æºorigin
git pull origin master        //å°†githubä¸Šçš„é¡¹ç›®æ‹‰ä¸‹æ¥
git remote rm origin             //åˆ é™¤æºorigin
git pull origin master      //å°†githubä¸Šçš„é¡¹ç›®æ‹‰ä¸‹æ¥
git fetch origin          //è·å–è¿œç¨‹æ›´æ–°
git merge origin/master //æŠŠæ›´æ–°åˆå¹¶
//pull=fetch+merge
git remote          //æŸ¥çœ‹è¿œç¨‹ä»“åº“
git branch          //æŸ¥çœ‹å½“å‰åˆ†æ”¯
</code></pre><p><strong>about SSH</strong>ï¼š</p>
<p>åˆ›å»ºSSH Keyã€‚åœ¨ç”¨æˆ·ä¸»ç›®å½•ä¸‹ï¼Œçœ‹çœ‹æœ‰æ²¡æœ‰.sshç›®å½•ï¼Œå¦‚æœæœ‰ï¼Œå†çœ‹çœ‹è¿™ä¸ªç›®å½•ä¸‹æœ‰æ²¡æœ‰id_rsaå’Œid_rsa.pubè¿™ä¸¤ä¸ªæ–‡ä»¶ï¼Œå¦‚æœå·²ç»æœ‰äº†ï¼Œå¯ç›´æ¥è·³åˆ°ä¸‹ä¸€æ­¥ã€‚å¦‚æœæ²¡æœ‰ï¼Œæ‰“å¼€Shellï¼ˆWindowsä¸‹æ‰“å¼€Git Bashï¼‰ï¼Œåˆ›å»ºSSH Keyï¼š</p>
<pre><code>$ ssh-keygen -t rsa -C &quot;youremail@example.com&quot;
</code></pre><p><br></p>
<hr>
<p><strong><em>ç›¸å…³é“¾æ¥ï¼š</em></strong>    </p>
<ul>
<li><a href="http://my.oschina.net/xdev/blog/114383" target="_blank" rel="external">å›¾è§£Git[å¼ºçƒˆæ¨è]</a></li>
<li><a href="http://rogerdudler.github.io/git-guide/index.zh.html" target="_blank" rel="external">Git-ç®€æ˜æŒ‡å—[è¶…ç®€ç»ƒ]</a></li>
<li><a href="http://www.worldhello.net/gotgithub/" target="_blank" rel="external">GotGitHub[ä»é›¶å¼€å§‹æ¨è]</a></li>
<li><a href="http://blog.csdn.net/dengjianqiang2011/article/details/9260435" target="_blank" rel="external">githubå¸¸è§æ“ä½œå’Œå¸¸è§é”™è¯¯ï¼</a></li>
<li><a href="http://862123204-qq-com.iteye.com/blog/1683315" target="_blank" rel="external">git pushç”¨æ³•å’Œå¸¸è§é—®é¢˜åˆ†æ</a></li>
</ul>
]]></content>
      
        <categories>
            
            <category> Git </category>
            
        </categories>
        
        
        <tags>
            
            <tag> Git </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[git push -u origin master æ—¶å‡ºé”™]]></title>
      <url>http://yoursite.com/2016/08/01/git-push-u-origin-master-%E6%97%B6%E5%87%BA%E9%94%99/</url>
      <content type="html"><![CDATA[<p><strong>git push -u origin masteræ—¶å‡ºé”™ï¼š</strong></p>
<pre><code>$ git push -u origin master
To git@github.com:******/Demo.git
 ! [rejected]        master -&gt; master (non-fast-forward)
error: failed to push some refs to &apos;git@github.com:username/xxx.git&apos;
hint: Updates were rejected because the tip of your current branch is behind
hint: its remote counterpart. Merge the remote changes (e.g. &apos;git pull&apos;)
hint: before pushing again.
hint: See the &apos;Note about fast-forwards&apos; in &apos;git push --help&apos; for details.
</code></pre><p>è¿œç¨‹repositoryå’Œæœ¬åœ°çš„repositoryå†²çªå¯¼è‡´çš„ï¼Œè€Œæˆ‘åœ¨åˆ›å»ºç‰ˆæœ¬åº“åï¼Œåœ¨githubçš„ç‰ˆæœ¬åº“é¡µé¢ç‚¹å‡»äº†åˆ›å»ºREADME.mdæ–‡ä»¶çš„æŒ‰é’®åˆ›å»ºäº†è¯´æ˜æ–‡æ¡£ï¼Œä½†æ˜¯å´æ²¡æœ‰pullåˆ°æœ¬åœ°ã€‚è¿™æ ·å°±äº§ç”Ÿäº†ç‰ˆæœ¬å†²çªçš„é—®é¢˜ã€‚</p>
<p>æœ‰å¦‚ä¸‹å‡ ç§è§£å†³æ–¹æ³•ï¼š</p>
<p>1.å¼ºåˆ¶push</p>
<pre><code>$ git push -u origin master -f 
</code></pre><p>è¿™æ ·ä¼šä½¿è¿œç¨‹ä¿®æ”¹ä¸¢å¤±ï¼Œä¸€èˆ¬æ˜¯ä¸å¯å–çš„ï¼Œå°¤å…¶æ˜¯å¤šäººåä½œå¼€å‘çš„æ—¶å€™ã€‚</p>
<p>2.pushå‰å…ˆå°†è¿œç¨‹repositoryä¿®æ”¹pullä¸‹æ¥</p>
<pre><code>$ git pull origin master
$ git push -u origin master
</code></pre><p>3.è‹¥ä¸æƒ³mergeè¿œç¨‹å’Œæœ¬åœ°ä¿®æ”¹ï¼Œå¯ä»¥å…ˆåˆ›å»ºæ–°çš„åˆ†æ”¯ï¼š</p>
<pre><code>$ git branch [name]
</code></pre><p>ç„¶åpush</p>
<pre><code>$ git push -u origin [name]
</code></pre>]]></content>
      
        <categories>
            
            <category> Git </category>
            
        </categories>
        
        
        <tags>
            
            <tag> Git </tag>
            
            <tag> Blog </tag>
            
        </tags>
        
    </entry>
    
  
  
</search>
